{"meta":{"title":"CloudCver","subtitle":"","description":"","author":"CloudCver","url":"http://www.cloudcver.com","root":"/"},"pages":[{"title":"å…³äº","date":"2019-12-18T05:00:32.050Z","updated":"2019-12-18T05:00:32.043Z","comments":true,"path":"about/index.html","permalink":"http://www.cloudcver.com/about/index.html","excerpt":"","text":"æˆ‘æ˜¯è° æ˜µç§°ï¼šæ„çŠ¹æœªå°½å­¦æ ¡ï¼šåŒ—äº¬ç†å·¥å¤§å­¦ç ”ç©¶æ–¹å‘ï¼šè®¡ç®—æœºè§†è§‰ä¸“ä¸šï¼šæ§åˆ¶å·¥ç¨‹ æˆ‘æ€æ ·ï¼Ÿæ€§æ ¼å¹³å¸¸å–œæ¬¢ç”µè„‘é¢å‰æ•²æ•²æ•² ä½†ä¹Ÿä¸æ˜¯å®…ç”· åˆå–œæ¬¢ç»„ç»‡å¤§å®¶ä¸€èµ·ç²—å» æ¯”å¦‚ä¹‹å‰ å®¿èˆæˆ·å¤–çƒ§çƒ¤ é¸Ÿå·¢çœ‹å¥½å£°éŸ³ å»å¤©æ´¥çœ‹çˆ±æƒ…ä¿å«æˆ˜ ï¼ˆPS:æˆ‘æ˜¯è§‚ä¼—ï¼ï¼‰ ä¸äººç›¸å¤„æ¯”è¾ƒå‹å–„ï¼Œå–œæ¬¢äº’ç›¸äº¤æµï¼Œäº’ç›¸å­¦ä¹ ã€‚ ä¸€å¼€å§‹è…¼è…†ï¼Œæ··ç†Ÿäº†å˜´å°±ä¸åœäº†ã€‚ğŸ˜€ çˆ±å¥½å“ˆå“ˆ no çˆ±å¥½ å¹³æ˜¯å°±æ˜¯çé¼“æ£ æ¯”å¦‚å†™å†™åšå®¢ï¼Œå¼„å¼„å…¬ä¼—å· çœŸæ²¡æœ‰çˆ±å¥½å—ï¼Ÿ ä¹Ÿä¸èƒ½è¯´æ²¡çˆ±å¥½å§ï¼Œå–œæ¬¢åˆ›ä½œ æ¯”å¦‚åšé¥­ï¼Ÿçƒ˜ç„™ï¼Ÿè‡ªå·±è£…é¥°è‡ªå·±çš„å®¶ï¼Ÿ ï¼ˆåŸæ¥æˆ‘è¯¥å­¦è®¾è®¡çš„ï¼ï¼‰ æœ‰æ—¶ä¹Ÿå–œæ¬¢æç‚¹èŠ±æ ·~~æ¯”å¦‚æƒ³ç€åšä¸ªåŒ—ç†å·¥çš„ä¸€å¤©å¿«å½±å½•åˆ¶ ï¼ˆèˆå‹æ²¡äººé™ªæˆ‘ç©ï¼Œå°±æ³¡æ±¤äº†ï¼‰ ï¼ˆå†è¯´è¯´ï¼Œæˆ‘è¿™äººå–œæ¬¢è·Ÿå¤§å®¶ä¸€èµ·äº’åŠ¨ç©ä¸€ä¸‹ï¼‰ ï¼ˆå®¿èˆå¶å°”æ‰“æ‰“ç¯®çƒï¼ŒPSï¼šæˆ‘ä¸ä¼šï¼Œçº¯å±è§‰å¾—èº«ä½“ä¸è¡Œäº†è¯¥é”»ç‚¼äº†ï¼ï¼ï¼ï¼‰ å±¥å† æœ¬äººåˆš25å‡ºå¤´ï¼Œæ²¡å•¥å±¥å†,å†™ä¸€äº›æœ¬ç§‘å’Œç ”ç©¶ç”Ÿåšçš„é¡¹ç›®ã€‚æœ¬ç§‘ä¸»è¦åšåµŒå…¥å¼è½¯ä»¶æ–¹å‘ï¼Œç ”ç©¶ç”Ÿæ”¹åšè®¡ç®—æœºè§†è§‰ã€‚å˜¿å˜¿ï¼Œå¦‚æœä½ è§‰å¾—ä¸‹é¢æ— èŠäº†ï¼Œå¯ä»¥æˆ³è¿™é‡Œè·³è¿‡å“¦ï¼Œå“ˆå“ˆã€‚ 2019.08-2019.11 360äººå·¥æ™ºèƒ½ç ”ç©¶é™¢ CVç®—æ³•å®ä¹ ç”Ÿ Prj1ï¼šå…¨ç½‘å®¡æ ¸ä¹‹å…¬ä¼—äººç‰©å®¡æ ¸ éœ€æ±‚ï¼šå¯¹å…¨ç½‘è§†é¢‘ã€å›¾ç‰‡è¿›è¡Œè¿è§„å®¡æ ¸ï¼ŒåŒ…æ‹¬æ¶‰é»„ã€æ¶‰æ”¿ã€æš´æã€æ•æ„Ÿè¯é¢˜ç­‰å†…å®¹çš„å®¡æ ¸ã€‚ è¦ç‚¹ï¼šæ ¹æ®éœ€æ±‚ä¸åŒä¸Šçº¿äº†æ”¿æ²»äººç‰©å®¡æ ¸ã€å…¬ä¼—äººç‰©å®¡æ ¸ä¸¤ä¸ªç‰ˆæœ¬æœåŠ¡ã€‚ç®—æ³•ä¸»ä½“åŒ…æ‹¬åˆ©ç”¨MTCNNç½‘ç»œè¿›è¡Œäººè„¸æ£€æµ‹ä¸å¯¹é½ï¼Œå†åˆ©ç”¨äººè„¸ç‰¹å¾æå–ç½‘ç»œï¼ˆArcFace+tripletï¼‰æå–äººè„¸ç‰¹å¾ä¸é¢„å…ˆæå–å¥½çš„ç‰¹å¾åº“è¿›è¡Œæ¯”å¯¹ï¼Œè®¡ç®—äººè„¸ç›¸ä¼¼åº¦ï¼Œç»™å‡ºç»“æœã€‚ Prj2ï¼šè§†é¢‘ç†è§£ä¹‹å…³é”®å¸§æå–ä¸è§†é¢‘æ‘˜è¦ç”Ÿæˆ éœ€æ±‚ï¼šå¯¹å…¨ç½‘è§†é¢‘è¿›è¡Œè§†é¢‘ç†è§£ï¼Œä¸»è¦åŒ…æ‹¬è§†é¢‘åœºæ™¯åˆ†å‰²ã€åœºæ™¯åˆ†ç±»ã€è§†é¢‘æ‘˜è¦ç”Ÿæˆã€è§†é¢‘å°é¢åˆ¶ä½œç­‰ã€‚ è¦ç‚¹ï¼šç›®å‰åšäº†ä¸€äº›è§†é¢‘ç†è§£æ–¹é¢çš„è°ƒç ”å·¥ä½œï¼Œä»¥åŠä¸€äº›è§†é¢‘æ‘˜è¦ç”Ÿæˆçš„baselineå®éªŒï¼ŒåŒ…æ‹¬ç”¨å¼ºåŒ–å­¦ä¹ å¯¹è§†é¢‘æ‘˜è¦åšä»£è¡¨æ€§å¥–åŠ±ä¸å…³é”®å¸§ä¸ç›¸ä¼¼åº¦å¥–åŠ±çš„DR-DSNç½‘ç»œå®éªŒç­‰ã€‚ 2019.06è‡³ä»Š åŸºäºGANçš„æ»´è™«æ€§é˜´é“ç‚å›¾åƒç”ŸæˆæŠ€æœ¯ç ”ç©¶ éœ€æ±‚ï¼šè¯¾é¢˜ä¸»è¦ç ”ç©¶æ»´è™«æ€§é˜´é“ç‚çš„ç–¾ç—…è¯Šæ–­é—®é¢˜ï¼Œå½“å‰é—®é¢˜ä¸»è¦åœ¨äºæ•°æ®é›†çš„ç¨€ç¼ºï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ç°æœ‰åŒ»é™¢æä¾›çš„éƒ¨åˆ†æ•°æ®é›†å»ç”Ÿæˆæ›´åŠ å®Œå¤‡çš„æ•°æ®é›†ã€‚ è¦ç‚¹ï¼š ç›¸æ¯”äºå…¶ä»–æ•°æ®é›†ï¼ŒåŒ»å­¦æ•°æ®é›†æ›´ä¸ºç¨€ç¼ºï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦ç”¨ä¼ ç»Ÿæ•°æ®å¢å¼ºæ–¹æ³•å¯¹æ•°æ®è¿›è¡Œå¢å¼ºï¼› åœ¨WGANåŸºç¡€ä¸Šå°†äººè„¸è¯†åˆ«çš„ç±»é—´è·åº”ç”¨åˆ°æ­¤å¢åŠ ä¸åŒå½¢æ€æ»´è™«ç”Ÿæˆå›¾çš„ç±»é—´è·ï¼›ï¼ˆå®éªŒä¸­ï¼‰ åœ¨æŸå¤±å‡½æ•°ä¸Šå¢åŠ è¾“å‡ºå›¾åƒé—´è·ä¸è¾“å…¥å™ªå£°ä¹‹æ¯”çš„æ­£åˆ™åŒ–é¡¹æé«˜å›¾åƒå¤šæ ·æ€§ã€‚ 2017.03-2017.06 BMSæ™ºèƒ½ç”µæ± ç®¡ç†ç³»ç»Ÿ æœ¬é¡¹ç›®ä¸»è¦å®ç°å¯¹ç”µæ± ç»„å……ç”µè¿‡ç¨‹çš„æ€§èƒ½ç›‘æ§åŠå¥åº·ç®¡ç†ã€‚ä¸»è¦æ¶‰åŠæ— çº¿é€šä¿¡åè®®çš„æ­å»ºä»¥åŠä¸Šä½æœºç•Œé¢ï¼ˆç”¨C#ç¼–å†™ï¼‰çš„è®¾è®¡ã€‚ ç¯å¢ƒï¼šVisualStudioï¼ˆC#ä¸Šä½æœºï¼‰ï¼›Keilï¼ˆåµŒå…¥å¼ç¼–ç¨‹C++&amp;Cï¼‰ã€‚ è¦ç‚¹ï¼šä¸Šä½æœºé€šä¿¡åè®®è®¾è®¡ï¼› Github:https://github.com/Harryjun/BMS 2016.07-2016.07 ç¬¬åä¸€å±ŠNXPæ¯æ™ºèƒ½è½¦ç«èµ›ååŒ—èµ›åŒºè£åˆ¤å¿—æ„¿è€… 2016å¹´å…¨å›½å¤§å­¦ç”Ÿæ™ºèƒ½è½¦ç«èµ›åœ¨ç‡•å±±å¤§å­¦ä¸¾åŠï¼Œæˆ‘æœ‰å¹¸æ‹…ä»»è£åˆ¤ç»„é•¿ä¸€å‘˜å‚ä¸ã€‚ 2015.05-2016.05 åŸºäºå¤ªé˜³èƒ½å‘ç”µçš„ç”µåŠ¨æ±½è½¦é“…é…¸è“„ç”µæ± å……æ”¾ç”µåŠæ™ºèƒ½åŒ–èƒ½é‡ç®¡ç† é¡¹ç›®ä¸ºå›½å®¶çº§å¤§å­¦ç”Ÿåˆ›æ–°è®¡åˆ’é¡¹ç›®ï¼Œä¸»è¦ç ”ç©¶ä¸‰æ–¹é¢ï¼š1ï¼‰ä¸‰æ®µå¼å……ç”µä¸æœ€å¤§åŠŸç‡å……ç”µç»„åˆç­–ç•¥ï¼›2ï¼‰å¤ªé˜³èƒ½çš„æœ€å¤§åŠŸç‡è¿½è¸ªç®—æ³•å®ç°3ï¼‰ä¸Šä½æœºè§‚æµ‹ç”µæ± å¥åº·ç¨‹åº¦åŠå……ç”µç­–ç•¥è°ƒè¯•ã€‚æœ‰æ•ˆä»£ç é‡ï¼š2100è¡Œã€‚ ç¯å¢ƒï¼šAltiumDesigner(ç»˜åˆ¶PCB)ï¼›Keilï¼ˆåµŒå…¥å¼ç¼–ç¨‹C++&amp;Cï¼‰ï¼›VisualStudioï¼ˆC#ä¸Šä½æœºï¼‰ã€‚ è¦ç‚¹ï¼šå…‰ä¼å……ç”µä¸ä¼ ç»Ÿä¸‰æ®µå¼å……ç”µç»“åˆçš„ç®—æ³•ï¼›æ— çº¿è¿œç¨‹æ§åˆ¶ï¼›ä¸»æ§ç”µè·¯æ¿è®¾è®¡ï¼› GitHub:https://github.com/Harryjun/MPPTPrj 2014.07-2015.07 é£æ€å¡å°”æ™ºèƒ½è½¦ç«èµ› æœ¬é¡¹ç›®ä¸ºæœ¬ç§‘åˆ›æ–°å®éªŒå®¤æ¯”èµ›é¡¹ç›®ï¼Œä¸»è¦åˆ©ç”¨æ‘„åƒå¤´ä¼ æ„Ÿå™¨é‡‡é›†å›¾åƒå®ç°æ™ºèƒ½è½¦å¯¹çº¿è·¯çš„è·Ÿè¸ªã€‚å…¶ä¸­ä¸»è¦æ¶‰åŠå›¾åƒæ»¤æ³¢ã€è¾¹ç¼˜çº¿æ£€æµ‹ã€éšœç¢ç‰©æ£€æµ‹ã€æ›²ç‡ä¼°è®¡ã€PIDè½¬é€Ÿè°ƒèŠ‚ç­‰ã€‚æœ‰æ•ˆä»£ç é‡ï¼š3100è¡Œã€‚ ç¯å¢ƒï¼šé£æ€å¡å°”ç¼–ç¨‹è½¯ä»¶ï¼ˆC++&amp;Cï¼‰ è¦ç‚¹ï¼šå„ç±»ä¼ æ„Ÿå™¨ï¼ˆæ‘„åƒå¤´ã€ç”µæœºã€ç¼–ç å™¨ã€LCDï¼‰é©±åŠ¨ç¨‹åºç¼–å†™ï¼›å›¾åƒå¤„ç†ç®—æ³•ç¼–å†™ï¼›ç”µæœºPIDè°ƒé€Ÿç¨‹åºç¼–å†™ï¼› GitHub:https://github.com/Harryjun/Freescalecar ä¸ºå•¥å†™è¿™ä¸ªåšå®¢ ä¸€åˆ™ï¼Œæœ¬äººå°±çˆ±ç©è¿™ä¸ªï¼Œæç‚¹æ–°é²œç©æ„ï¼›äºŒå‘¢ï¼Œä¹Ÿæ˜¯æ€»ç»“ä¸‹çŸ¥è¯†ï¼Œè®°å½•ç‚¹ä¸œè¥¿ï¼Œä¹Ÿæƒ³ç»™åˆ«äººåˆ†äº«äº›ä¸œè¥¿ï¼›ä¸‰ç‚¹ï¼Œè®°å½•ç‚¹ç”Ÿæ´»çç¢ï¼Œç­‰æˆ‘50å‡ºå¤´åœ¨å›å¿†ï¼Œå“ˆå“ˆï¼› ä¸ºå•¥åšå®¢åå«è¿™ä¸ªï¼Ÿå“ˆå“ˆï¼Œä»¥å‰æˆ‘æ‰€æœ‰çš„åå­—å«åšæ„çŠ¹æœªå°½ï¼Œåæ¥åšäº†cvå°±å˜ä¸ºcloudcverã€‚ cvä¸Šäº‘ï¼Œäº‘ä¸Šçš„cverã€‚ ![](https://tuchuangblog-1257632417.cos.ap-chengdu.myqcloud.com/9904fc68ce07064b4e1df814b5333222.jpg) if ä½ æƒ³å’Œæˆ‘è¯´ç‚¹ä»€ä¹ˆ: then,å¯ä»¥ç•™ä¸ªè¨€å“ˆå“ˆï¼Œä¹Ÿå¯ä»¥è‡´ä¿¡æˆ‘çš„é‚®ç®±cloudcver@163.com"},{"title":"archives","date":"2019-11-22T14:01:49.000Z","updated":"2019-11-22T14:02:16.993Z","comments":true,"path":"archives/index.html","permalink":"http://www.cloudcver.com/archives/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2019-11-22T13:57:11.000Z","updated":"2019-11-22T14:26:05.270Z","comments":true,"path":"categories/index.html","permalink":"http://www.cloudcver.com/categories/index.html","excerpt":"","text":""},{"title":"æ¨èåšå®¢&å…¬ä¼—å·","date":"2020-03-24T01:36:08.311Z","updated":"2020-03-24T01:36:08.308Z","comments":true,"path":"friends/index.html","permalink":"http://www.cloudcver.com/friends/index.html","excerpt":"","text":""},{"title":"WIKI&PLAN","date":"2020-03-06T12:46:53.647Z","updated":"2020-03-06T12:46:53.639Z","comments":true,"path":"plan/index.html","permalink":"http://www.cloudcver.com/plan/index.html","excerpt":"","text":"3æœˆKR 1ã€èƒ½åŠ›ï¼šDockerã€SQLã€æ¨¡å‹éƒ¨ç½²Tensortï¼› 2ã€ç ”ç©¶ï¼šå¯†é›†å•†å“æ£€æµ‹ã€å˜æ¢æ£€æµ‹ï¼ˆåˆ†å‰²ï¼‰ï¼› 3ã€ä»£ç ï¼šåˆ†ç±»ç½‘ç»œdemoæ•´ç†ï¼› 2020/3/2-2020/3/8 æœ¬å‘¨ç›®æ ‡ï¼š 1ã€ç›®æ ‡æ£€æµ‹æ–¹æ¡ˆä»¥åŠarcfaceéƒ¨ç½²ï¼› 2ã€SQLå­¦ä¹  3ã€å•†å“æ£€æµ‹è°ƒç ”å·¥ä½œ 4ã€åˆ†ç±»ä»£ç æ•´ç†"},{"title":"project","date":"2020-03-18T12:50:19.000Z","updated":"2020-03-18T14:04:24.417Z","comments":true,"path":"project/index.html","permalink":"http://www.cloudcver.com/project/index.html","excerpt":"","text":"Projectæ”¿æ²»äººç‰©å®¡æ ¸DemoV2.1 å¯¹å…¨ç½‘è§†é¢‘è¿›è¡Œè§†é¢‘å®¡æ ¸ï¼Œå¯¹è§†é¢‘æ˜¯å¦æ¶‰åŠæ”¿æ²»äººç‰©ã€æ•æ„Ÿäººç‰©è¿›è¡Œå®¡æ ¸ã€‚ å±•ç¤ºç‰ˆæœ¬ï¼šè§†é¢‘å…³é”®å¸§æå–+ MTCNNäººè„¸æ£€æµ‹ + ArcFaceäººè„¸è¯†åˆ« + 274ç±»ä»»åŠ¡ å‡†ç¡®åº¦å®ç°å¼€é›†æµ‹è¯•99.6%ï¼Œè‡ªå»ºé—­é›†æµ‹è¯•98.7% å›¾ç‰‡æµ‹è¯•æ¥å£ï¼š å¯ä»¥ç”¨socketå¯¹æœåŠ¡å™¨è¿›è¡ŒTCPé€šä¿¡æµ‹è¯•ï¼ŒIPï¼š39.97.178.93ã€‚ ç«¯å£91ä¸ºäººè„¸æ£€æµ‹+è¯†åˆ«æ¥å£ï¼ˆç›®å‰åè®®ï¼šå‘ç«¯å£å‘é€å›¾ç‰‡URLï¼Œä¼šè¿”å›jsonæ–‡ä»¶ï¼‰ï¼š[Client Code] ç«¯å£90ä¸ºäººè„¸è¯†åˆ«ç«¯å£ï¼ˆç›®å‰åè®®ï¼šå‘ç«¯å£å‘é€å›¾ç‰‡URLï¼Œä¼šè¿”å›jsonæ–‡ä»¶ï¼‰[Cilent Code] Json æ ¼å¼12345678910111213141516171819&#123;\"object\": [ &#123;\"grade\": 0.5884853601455688, \"class\": \"xijinping\", \"pos\": &#123; \"y\": 138, \"x\": 474, \"w\": 89, \"h\": 89 &#125;&#125;, &#123;\"grade\": 0.5833901166915894, \"class\": \"hujintao\", \"pos\": &#123; \"y\": 167, \"x\": 246, \"w\": 85, \"h\": 85&#125;&#125; ], \"img_url\": \"http://news.cnr.cn/dj/20160914/W020160914388600058399.jpg\"&#125; è§†é¢‘å®¡æ ¸Demoï¼šæˆ‘ä»¬åšäº†ä¸ªç®€å•çš„è§†é¢‘å®¡æ ¸å®¢æˆ·ç«¯å±•ç¤ºï¼Œå¯ä»¥ä»ç™¾åº¦äº‘ä¸‹è½½ï¼Œç®€å•ç¤ºä¾‹å¦‚ä¸‹ï¼š æœªæ¥ï¼šæ›´å¤šæ¢ç´¢ã€‚ ç“œæœè”¬èœåˆ†ç±»DemoV1.2 åº”ç”¨äºå­¦æ ¡é£Ÿå ‚ã€æ— äººé¤å…ç­‰åœºæ‰€ï¼Œå®ç°å¯¹é¤ç›˜çš„è§†é¢‘è¿›è¡Œè‡ªåŠ¨æ£€æµ‹ã€‚ Demo:å¼€æºResnetã€MobileNetç‰ˆæœ¬ ç›®å‰å®ç°4ç±»è”¬èœçš„åˆ†ç±»ï¼ˆAIç ”ä¹ ç¤¾æ¯”èµ›ï¼‰ å‡†ç¡®åº¦ï¼š æµ‹è¯•APIæ¥å£ï¼š ç§»åŠ¨å®¢æˆ·ç«¯ï¼ˆMobileNetï¼‰å±•ç¤ºï¼š æ•ˆæœå±•ç¤ºï¼š æœªæ¥ï¼š å•†å“å˜æ¢æ£€æµ‹ åº”ç”¨äºçº¿ä¸‹é›¶å”®åº—çš„ç¼ºè´§æ£€æµ‹ï¼Œå¯ä»¥è‡ªåŠ¨æ£€æµ‹å•†å“å˜æ¢ï¼Œå•†å“æ˜¯å¦ç¼ºè´§ã€‚ æ–¹æ¡ˆï¼šåˆ†å‰²æ€æƒ³æ¥åšï¼ˆbackboneï¼šFCNï¼‰ å‡†ç¡®åº¦ï¼š æœåŠ¡å™¨äº‘ç«¯åŠ é€Ÿä¸‹è½½V1.0 é€šè¿‡å®¢æˆ·ç«¯TCPé€šä¿¡æœåŠ¡å™¨ç«¯è¿œç¨‹ä¸‹è½½å¤–ç½‘æ–‡ä»¶æˆ–è€…ä¸‹è½½é€Ÿåº¦æ…¢çš„æ–‡ä»¶ã€‚ å¼€æ”¾ç«¯å£å·å®šæ—¶æ›´æ–°ï¼Œéœ€è¦ç«¯å£å·å¯è”ç³»æˆ‘ï¼‰ è¿œç¨‹æœåŠ¡å™¨é•¿æœŸç›‘å¬ã€‚ å®¢æˆ·ç«¯ç”¨PYQTåˆ¶ä½œã€‚ æ›´å¤šå¯ä»¥å‚è€ƒè¯´æ˜ è§†é¢‘æ‘˜è¦ç”ŸæˆV1.5 è§†é¢‘æ‘˜è¦ä¸»è¦åº”ç”¨äºé•¿è§†é¢‘ã€çŸ­è§†é¢‘çš„æ¨èä¸­ï¼Œåˆ©ç”¨æ·±åº¦å­¦ä¹ æŒ–æ˜è§†é¢‘é‡Œçš„ç”¨æˆ·æ„Ÿå…´è¶£ã€ç¬‘ç‚¹å¤šã€é‡è¦çš„å…³é”®å¸§å½¢æˆç®€çŸ­çš„è§†é¢‘å±•ç¤ºç»™å¤§å®¶ã€‚ ç›®å‰å®Œæˆæµ‹è¯•demoç‰ˆæœ¬ æš‚æ—¶ä¸æä¾›APIåŠå›¾ç‰‡å±•ç¤ºã€‚"},{"title":"å…±äº«èµ„æ–™","date":"2019-11-27T13:34:03.940Z","updated":"2019-11-27T13:34:03.878Z","comments":true,"path":"publicfile/index.html","permalink":"http://www.cloudcver.com/publicfile/index.html","excerpt":"","text":"æ¨èç³»ç»Ÿè®ºæ–‡æ¨èç³»ç»Ÿè®ºæ–‡"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2019-11-22T14:27:02.430Z","updated":"2019-11-22T14:27:02.410Z","comments":true,"path":"tags/index.html","permalink":"http://www.cloudcver.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"hexoéƒ¨ç½²åšå®¢åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨","slug":"hexoéƒ¨ç½²åšå®¢åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨","date":"2020-03-06T09:45:39.000Z","updated":"2020-03-06T10:23:10.168Z","comments":true,"path":"2020/03/06/hexoéƒ¨ç½²åšå®¢åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨/","link":"","permalink":"http://www.cloudcver.com/2020/03/06/hexo%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"ç”±äºç–«æƒ…åŸå› ï¼Œé˜¿é‡Œäº‘å…è´¹é€äº†åŠå¹´çš„æœåŠ¡å™¨ï¼Œä¸å¾—æ‹¿æ¥ç©ç©ï¼Œç„¶åæˆ‘å°±å…ˆæŠŠæˆ‘çš„åšå®¢ä»githubä¸Šè¿ç§»åˆ°é˜¿é‡Œäº‘ä¸Šæ¥ï¼Œä»¥åæœ‰é—®é¢˜å†æ¢ã€‚","text":"ç”±äºç–«æƒ…åŸå› ï¼Œé˜¿é‡Œäº‘å…è´¹é€äº†åŠå¹´çš„æœåŠ¡å™¨ï¼Œä¸å¾—æ‹¿æ¥ç©ç©ï¼Œç„¶åæˆ‘å°±å…ˆæŠŠæˆ‘çš„åšå®¢ä»githubä¸Šè¿ç§»åˆ°é˜¿é‡Œäº‘ä¸Šæ¥ï¼Œä»¥åæœ‰é—®é¢˜å†æ¢ã€‚ å…ˆå‰æ¡ä»¶ï¼š1ã€æœåŠ¡å™¨2ã€æœ¬åœ°ç”µè„‘å·²ç»å®‰è£…hexoï¼Œå¹¶ä¸”å‰æœŸå·²ç»ä¸Šä¼ è¿‡GitHubï¼ˆè¿™æ ·çš„è¯ï¼Œä½ çš„æœ¬åœ°å·²ç»æœ‰äº†å¯†é’¥ï¼‰ ä»¥ä¸‹éƒ¨åˆ†å…¨æ˜¯åœ¨æœåŠ¡å™¨ç«¯çš„æ“ä½œï¼ä»¥ä¸‹éƒ¨åˆ†å…¨æ˜¯åœ¨æœåŠ¡å™¨ç«¯çš„æ“ä½œï¼ä»¥ä¸‹éƒ¨åˆ†å…¨æ˜¯åœ¨æœåŠ¡å™¨ç«¯çš„æ“ä½œï¼ 1ã€é…ç½®æœåŠ¡å™¨å®‰å…¨ç»„è§„åˆ™ç”±äºé˜¿é‡Œäº‘æ˜¯é»˜è®¤ä¸æˆæƒ80ç«¯å£çš„è®¿é—®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ‰‹åŠ¨é…ç½®ã€‚ æ‰“å¼€é˜¿é‡Œäº‘æœåŠ¡å™¨ç®¡ç†æ§åˆ¶å°-&gt;ç‚¹å‡»å·¦ä¾§å®‰å…¨ç»„-&gt;ç‚¹å‡»å³ä¾§çš„é…ç½®è§„åˆ™-&gt;ç‚¹å‡»æ·»åŠ å®‰å…¨ç»„è§„åˆ™ å¦‚ä¸‹å›¾ 2ã€é…ç½®ä»£ç†nginxå› ä¸ºæˆ‘ä»¬æ˜¯æ‹¿nginxåšWebæœåŠ¡å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®‰è£…éƒ¨ç½²å¥½nginxï¼Œå¦‚æœæ²¡æœ‰å®‰è£…ã€‚ä»¥ä¸‹ä¸ºcentoså‘½ä»¤ï¼Œå…¶ä»–è‡ªå·±ç™¾åº¦ã€‚12345å®‰è£…æ‰§è¡Œå‘½ä»¤å¦‚ä¸‹yum install -y nginxå¯åŠ¨æœåŠ¡å™¨ï¼šsystemctl start nginxsystemctl enable nginxç°åœ¨å¯ä»¥è®¿é—®ä¸€ä¸‹æˆ‘ä»¬çš„å…¬ç½‘IPï¼Œä¼šè¿›å…¥ä¸€ä¸ªé»˜è®¤çš„nginxç•Œé¢ï¼Œæˆ‘çš„è½¬åˆ°äº†centosä»‹ç»ç•Œé¢ã€‚ ä½†æ˜¯æˆ‘ä»¬å®é™…ä¸Šæ˜¯æƒ³è¦è®©è¿™ä¸ªåœ°å€æŒ‡å‘æˆ‘ä»¬çš„åšå®¢ï¼Œè€Œä¸æ˜¯nginxçš„é»˜è®¤ç½‘å€ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å»é…ç½®nginxçš„é…ç½®æ–‡ä»¶ã€‚ 12cd /etc/nginxvim nginx.conf æ‰¾åˆ°serverï¼Œæ›´æ”¹å¦‚ä¸‹123456789101112# Load modular configuration files from the /etc/nginx/conf.d directory. # See http://nginx.org/en/docs/ngx_core_module.html#include # for more information. include /etc/nginx/conf.d/*.conf; server &#123; listen 80 default_server; listen [::]:80 default_server; server_name www.cloudcver.com;###æ”¹æˆä½ çš„åŸŸåï¼›æ²¡æœ‰åŸŸåæ”¹æˆæœåŠ¡å™¨å…¬ç½‘IP root /home/git/projects/blog;## æ”¹ä¸ºæœåŠ¡å™¨ä¸Šå­˜åšå®¢çš„åœ°å€ï¼ŒæŒ‰ç…§æˆ‘è¿™å†™å°±è¡Œã€‚ # Load configuration files for the default server block. include /etc/nginx/default.d/*.conf; 3ã€æ­å»ºæœåŠ¡å™¨gitä»“åº“3.1 å®‰è£…node12curl -sL https://rpm.nodesource.com/setup_10.x | bash -yum install -y nodejs 3.2 å®‰è£…git1yum install git 3.3 åˆ›å»ºgitç”¨æˆ·å…ˆæ·»åŠ ä¸€ä¸ªgitç”¨æˆ·1adduser gitä¿®æ”¹ç”¨æˆ·æƒé™12chmod 740 /etc/sudoersvi /etc/sudoersæ·»åŠ ä»¥ä¸‹å†…å®¹ä¿å­˜é€€å‡ºå å°†sudoersæ–‡ä»¶æƒé™æ”¹å›åŸæ ·1chmod 400 /etc/sudoersè®¾ç½®gitç”¨æˆ·çš„å¯†ç 1sudo passwd git 3.4 åˆ›å»ºSSHå¯†é’¥æˆ‘ä»¬æœ¬åœ°ç”µè„‘å·²ç»ç”Ÿæˆè¿‡å¯†é’¥ï¼Œç›´æ¥å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸Šå³å¯ã€‚123456su gitmkdir ~/.sshvim ~/.ssh/authorized_keys#ç„¶åå°†ç”µè„‘ä¸­~/.ssh/id_rsa.pubå†…å®¹å¤åˆ¶è¿‡æ¥ç²˜è´´ã€‚chmod 600 ~/.ssh/authorzied_keyschmod 700 ~/.ssh 3.5 åˆ›å»ºgitä»“åº“åœ¨gitç”¨æˆ·ä¸‹æ“ä½œ12345mkdir -p projects/blog # æŠŠé¡¹ç›®ç›®å½•å»ºç«‹èµ·æ¥mkdir repos &amp;&amp; cd reposgit init --bare blog.git # åˆ›å»ºä»“åº“cd blog.git/hooksvim post-receive # åˆ›å»ºä¸€ä¸ªé’©å­é’©å­å†…å®¹ï¼š12#!/bin/shgit --work-tree=/home/git/projects/blog --git-dir=/home/git/repos/blog.git checkout -fä¿å­˜æ–‡ä»¶ï¼Œæ–‡ä»¶åŠ æƒé™123chmod +x post-receive # æ·»åŠ å¯æ‰§è¡Œæƒé™exit # è¿”å›åˆ°rootç”¨æˆ·chown -R git:git /home/git/repos/blog.git # ç»™gitç”¨æˆ·æ·»åŠ æƒé™æµ‹è¯•ä»¥ä¸‹ï¼Œåœ¨æœ¬åœ°ç”µè„‘ä¸Šæµ‹è¯•ã€‚sever_ipä¸ºä½ çš„å…¬ç½‘IP1ssh git@server_ip 4æœ¬åœ°ç”µè„‘ä¸Šä¼ åœ¨hexoä¸Šæ·»åŠ ä¸€ä¸ªéƒ¨ç½²çš„ç«¯1234567deploy: type: git repo: fuwuqi: git@server_ip:/home/git/repos/blog.git coding: git@e.coding.net:cloudcver/blogme.git github: git@github.com:Harryjun/Harryjun.github.io.git branch: master 5çº¿ä¸Šæ›´æ–°ä¸‹æœåŠ¡å™¨ä¸Šreloadä¸€ä¸‹1nginx -s reloadæ‰“å¼€è‡ªå·±ç½‘ç«™ä¼šå‘ç°å¿«äº†å¾ˆå¤šã€‚www.cloudcver.com","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://www.cloudcver.com/categories/%E5%85%B6%E4%BB%96/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://www.cloudcver.com/tags/hexo/"}]},{"title":"tensorflowè‡ªå»ºæ•°æ®é›†datasetä½¿ç”¨","slug":"tensorflowè‡ªå»ºæ•°æ®é›†datasetä½¿ç”¨","date":"2020-02-25T09:45:39.000Z","updated":"2020-03-06T10:21:02.447Z","comments":true,"path":"2020/02/25/tensorflowè‡ªå»ºæ•°æ®é›†datasetä½¿ç”¨/","link":"","permalink":"http://www.cloudcver.com/2020/02/25/tensorflow%E8%87%AA%E5%BB%BA%E6%95%B0%E6%8D%AE%E9%9B%86dataset%E4%BD%BF%E7%94%A8/","excerpt":"tensorflowè‡ªå»ºæ•°æ®é›†datasetä½¿ç”¨","text":"tensorflowè‡ªå»ºæ•°æ®é›†datasetä½¿ç”¨ 1 Datasettensorflowä¸­æä¾›äº†ä¸¤ä¸ªdatasetçš„APIï¼Œä¸€ä¸ªæ˜¯åšä¸€ä¸ªæ•°æ®æºï¼Œå¦ä¸€ä¸ªæ˜¯åšä¸€ä¸ªç®¡é“ç”¨æ¥ä¸æ–­æå–æ•°æ®ã€‚ tf.data.Datasetï¼šè¡¨ç¤ºä¸€ä¸²å…ƒç´ ï¼ˆelementsï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ åŒ…å«äº†ä¸€æˆ–å¤šä¸ªTensorå¯¹è±¡ã€‚ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ªå›¾ç‰‡pipelineä¸­ï¼Œä¸€ä¸ªå…ƒç´ å¯ä»¥æ˜¯å•ä¸ªè®­ç»ƒæ ·æœ¬ï¼Œå®ƒä»¬å¸¦æœ‰ä¸€ä¸ªè¡¨ç¤ºå›¾ç‰‡æ•°æ®çš„tensorså’Œä¸€ä¸ªlabelç»„æˆçš„pairã€‚æœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼åˆ›å»ºä¸€ä¸ªdatasetï¼šåˆ›å»ºä¸€ä¸ªsource (ä¾‹å¦‚ï¼šDataset.from_tensor_slices())ï¼Œ ä»ä¸€æˆ–å¤šä¸ªtf.Tensorå¯¹è±¡ä¸­æ„å»ºä¸€ä¸ªdatasetåº”ç”¨ä¸€ä¸ªtransformationï¼ˆä¾‹å¦‚ï¼šDataset.batch()ï¼‰ï¼Œä»ä¸€æˆ–å¤šä¸ªtf.data.Datasetå¯¹è±¡ä¸Šæ„å»ºä¸€ä¸ªdatasettf.data.Iteratorï¼šå®ƒæä¾›äº†ä¸»è¦çš„æ–¹å¼æ¥ä»ä¸€ä¸ªdatasetä¸­æŠ½å–å…ƒç´ ã€‚é€šè¿‡Iterator.get_next() è¿”å›çš„è¯¥æ“ä½œä¼šyieldså‡ºDatasetsä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä½œä¸ºè¾“å…¥pipelineå’Œæ¨¡å‹é—´çš„æ¥å£ä½¿ç”¨ã€‚æœ€ç®€å•çš„iteratoræ˜¯ä¸€ä¸ªâ€œone-shot iteratorâ€ï¼Œå®ƒä¸ä¸€ä¸ªæŒ‡å®šçš„Datasetç›¸å…³è”ï¼Œé€šè¿‡å®ƒæ¥è¿›è¡Œè¿­ä»£ã€‚å¯¹äºæ›´å¤æ‚çš„ä½¿ç”¨ï¼ŒIterator.initializeræ“ä½œå¯ä»¥ä½¿ç”¨ä¸åŒçš„datasetsé‡æ–°åˆå§‹åŒ–ï¼ˆreinitializeï¼‰å’Œå‚æ•°åŒ–ï¼ˆparameterizeï¼‰ä¸€ä¸ªiterator ï¼Œä¾‹å¦‚ï¼Œåœ¨åŒä¸€ä¸ªç¨‹åºä¸­é€šè¿‡training dataå’Œvalidation dataè¿­ä»£å¤šæ¬¡ã€‚ 2ã€tf.data.Datasetä¸€èˆ¬æˆ‘ä»¬å¯ä»¥ä»tensoråºåˆ—ç›´æ¥å¯¼å…¥åˆ°Datasetä¸­ï¼Œå¦‚ä¸‹å‡ ä¸ªä¾‹å­ï¼Œç›´æ¥æ˜¯tensor 12345678910111213dataset1 = tf.data.Dataset.from_tensor_slices(tf.random_uniform([4, 10]))print(dataset1.output_types) # ==&gt; \"tf.float32\"print(dataset1.output_shapes) # ==&gt; \"(10,)\"dataset2 = tf.data.Dataset.from_tensor_slices( (tf.random_uniform([4]), tf.random_uniform([4, 100], maxval=100, dtype=tf.int32)))print(dataset2.output_types) # ==&gt; \"(tf.float32, tf.int32)\"print(dataset2.output_shapes) # ==&gt; \"((), (100,))\"dataset3 = tf.data.Dataset.zip((dataset1, dataset2))print(dataset3.output_types) # ==&gt; (tf.float32, (tf.float32, tf.int32))print(dataset3.output_shapes) # ==&gt; \"(10, ((), (100,)))\" åœ¨åšå›¾åƒè¿™æ–¹é¢æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå›¾åƒçš„pathå’Œæ ‡ç­¾å¯¼å…¥ï¼Œå†è¿›è¡Œæ‰¹é‡å¤„ç†ï¼Œdatasetæœ‰ä¸ªmapå‡½æ•°ï¼Œå¯¹æ‰€æœ‰çš„æ•°æ®æ‰§è¡ŒåŒä¸€å‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å†è¯»å–å›¾ç‰‡ï¼Œè§£ç å›¾ç‰‡ï¼Œresizeç­‰ç­‰ã€‚ 1234567def load_and_preprocess_from_path_label(path, label): image = tf.read_file(path) # è¯»å–å›¾ç‰‡ image = tf.image.decode_jpeg(image, channels=3) image = tf.image.resize_image_with_crop_or_pad(image, args.img_height, args.img_width) # åŸå§‹å›¾ç‰‡å¤§å°ä¸º(266, 320, 3)ï¼Œé‡è®¾ä¸º(192, 192) # image /= 255.0 # å½’ä¸€åŒ–åˆ°[0,1]èŒƒå›´ return image, labeldataset = dataset.map(load_and_preprocess_from_path_label) 3ã€åˆ›å»ºiteratoråˆ›å»ºå®ŒDataset APIï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨iteratorè®¿é—®æ•°æ®ï¼Œæœ‰å››ç§iteratorï¼šone-shotinitializablereinitializablefeedable 3.1 make_one_shot_iterator()one-shot iteratoræ˜¯æœ€ç®€å•çš„iteratorï¼Œå®ƒåªæ”¯æŒåœ¨ä¸€ä¸ªdatasetä¸Šè¿­ä»£ä¸€æ¬¡çš„æ“ä½œï¼Œä¸éœ€è¦æ˜¾å¼åˆå§‹åŒ–ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘8ä¸ªæ•°æ®ï¼Œå°±èƒ½éå†å…«æ¬¡ï¼Œæˆ‘æåæ¬¡ï¼Œå½“ç¬¬9æ¬¡å°±ä¼šæŠ¥é”™ã€‚123456789import tensorflow as tfdata = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]dataset = tf.data.Dataset.from_tensor_slices(data)dataset = dataset.shuffle(8).batch(4).repeat()##ä¸æ–­é‡å¤ï¼Œè¿™æ ·å°±å¯ä»¥éå†å®Œæ•°æ®ç»§ç»­éå†ã€‚it = dataset.make_one_shot_iterator()next_val = it.get_next()with tf.Session() as sess: for i in range(10): print(sess.run(next_val))ç»“æœï¼šå› ä¸ºæœ‰17ä¸ªæ•°æ®ï¼Œéå†å®Œä¸€æ¬¡ï¼Œæœ€åä¸€æ¬¡ä¸å¤Ÿbatchï¼Œå°±æ‰“å‡ºä¸€ä¸ªæ•°ï¼Œæˆ‘åœ¨è®­ç»ƒæ•°æ®æ—¶ï¼ŒåŠ äº†ä¸€ä¸ªshapeåˆ¤æ–­ï¼Œshapeç­‰äºbatchsizeï¼Œå†feedï¼Œä¸ç„¶å°±å†æ‰¾ä¸‹ä¸€ä¸ªiterratorå³å¯ã€‚ 3.2 make_initializable_iterator()initializableéœ€è¦æ˜¾å¼åˆå§‹åŒ–ï¼Œä»–å¯ä»¥å¯¹æ•°æ®åŠ ä¸Šä¸ªå‚æ•°ï¼Œfeedæ—¶å€™å¯ä»¥ç»™å‚æ•°ã€‚ 4ã€ä¸¾ä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142# read datasetsdata_path = pathlib.Path(args.traindata_dir)all_image_paths = list(data_path.glob('*.jpg'))all_image_paths = [str(path) for path in all_image_paths] # æ‰€æœ‰å›¾ç‰‡è·¯å¾„çš„åˆ—è¡¨## è¯»å–csvæ–‡ä»¶all_image_labels = []with open(args.label_path, 'r') as f: reader = csv.reader(f) first = True for row in reader: if first == True: first = False else: all_image_labels.append(row[1])## æ‰“ä¹±æ•°æ®random_index = []for i in range(len(all_image_paths)): random_index.append(i)random.shuffle(random_index) # æ‰“æ•£temp = []temp2 = []for i in range(len(random_index)): temp.append(all_image_paths[random_index[i]]) temp2.append(all_image_labels[random_index[i]])all_image_paths = tempall_image_labels = temp2## åˆ›å»ºdatasetdataset = tf.data.Dataset.from_tensor_slices((all_image_paths, all_image_labels))def load_and_preprocess_from_path_label(path, label): image = tf.read_file(path) # è¯»å–å›¾ç‰‡ image = tf.image.decode_jpeg(image, channels=3) image = tf.image.resize_image_with_crop_or_pad(image, args.img_height, args.img_width) # åŸå§‹å›¾ç‰‡å¤§å°ä¸º(266, 320, 3)ï¼Œé‡è®¾ä¸º(192, 192) # image /= 255.0 # å½’ä¸€åŒ–åˆ°[0,1]èŒƒå›´ return image, labeldataset = dataset.map(load_and_preprocess_from_path_label)dataset = dataset.shuffle(2 * args.train_batch_size).batch(args.train_batch_size).repeat()iterator = dataset.make_initializable_iterator()img_next = iterator.get_next() è®­ç»ƒæ—¶1234567sess.run(iterator.initializer)print('Start training...')for step in range(args.train_steps): train_batch_data, train_batch_labels = sess.run(img_next) if train_batch_data.shape[0] != args.train_batch_size: train_batch_data, train_batch_labels = sess.run(img_next) start_time = time.time()","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"å·¥å…·","slug":"è®¡ç®—æœºè§†è§‰/å·¥å…·","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"tensorflow","slug":"tensorflow","permalink":"http://www.cloudcver.com/tags/tensorflow/"}]},{"title":"DockeråŸºç¡€çŸ¥è¯†å­¦ä¹ ï¼ˆæ¥è‡ªé˜¿é‡Œäº‘ï¼‰","slug":"DockeråŸºç¡€çŸ¥è¯†å­¦ä¹ ï¼ˆæ¥è‡ªé˜¿é‡Œäº‘ï¼‰","date":"2020-02-20T09:45:39.000Z","updated":"2020-03-06T12:41:03.577Z","comments":true,"path":"2020/02/20/DockeråŸºç¡€çŸ¥è¯†å­¦ä¹ ï¼ˆæ¥è‡ªé˜¿é‡Œäº‘ï¼‰/","link":"","permalink":"http://www.cloudcver.com/2020/02/20/Docker%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0%EF%BC%88%E6%9D%A5%E8%87%AA%E9%98%BF%E9%87%8C%E4%BA%91%EF%BC%89/","excerpt":"ä¹‹å‰å®ä¹ ä¸€ç›´å¬ä¸Šçº¿çš„è€å¤§è¯´dockerï¼Œä½†æ˜¯ä¸€ç›´æ²¡è®©æˆ‘ç”¨è¿‡ï¼Œæˆ‘å°±è‡ªå·±å­¦äº†ä¸‹ï¼Œdockeræ˜¯ç”¨æ¥åšé•œåƒéš”ç¦»çš„å·¥å…·ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯å®¹å™¨ä¸é•œåƒï¼Ÿå¦‚ä½•æ„å»ºå®¹å™¨ä¸é•œåƒï¼Ÿ","text":"ä¹‹å‰å®ä¹ ä¸€ç›´å¬ä¸Šçº¿çš„è€å¤§è¯´dockerï¼Œä½†æ˜¯ä¸€ç›´æ²¡è®©æˆ‘ç”¨è¿‡ï¼Œæˆ‘å°±è‡ªå·±å­¦äº†ä¸‹ï¼Œdockeræ˜¯ç”¨æ¥åšé•œåƒéš”ç¦»çš„å·¥å…·ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯å®¹å™¨ä¸é•œåƒï¼Ÿå¦‚ä½•æ„å»ºå®¹å™¨ä¸é•œåƒï¼Ÿ 1ã€å®¹å™¨ä¸é•œåƒ1.1 ä»€ä¹ˆæ˜¯å®¹å™¨ä¸€èˆ¬ç³»ç»Ÿä¸‹è¿è¡Œçš„è¿›ç¨‹æ˜¯èµ„æºå…±äº«çš„ï¼Œè¿™æ ·ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼š 1ï¼‰è¿›ç¨‹æ”»å‡»ï¼šå› ä¸ºè¿™äº›è¿›ç¨‹èƒ½å¤Ÿç›¸äº’çœ‹åˆ°å¹¶ä¸”è¿›è¡Œé€šä¿¡ï¼Œé«˜çº§æƒé™çš„è¿›ç¨‹å¯ä»¥æ”»å‡»å…¶ä»–è¿›ç¨‹ï¼›2ï¼‰å…±äº«æ–‡ä»¶ï¼šå› ä¸ºå®ƒä»¬ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤ä¼šå¸¦æ¥ä¸¤ä¸ªé—®é¢˜ï¼šè¿™äº›è¿›ç¨‹å¯ä»¥å¯¹äºå·²æœ‰çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œå…·æœ‰é«˜çº§æƒé™çš„è¿›ç¨‹å¯èƒ½ä¼šå°†å…¶ä»–è¿›ç¨‹çš„æ•°æ®åˆ é™¤æ‰ï¼Œç ´åæ‰å…¶ä»–è¿›ç¨‹çš„æ­£å¸¸è¿è¡Œï¼›æ­¤å¤–ï¼Œè¿›ç¨‹ä¸è¿›ç¨‹ä¹‹é—´çš„ä¾èµ–å¯èƒ½ä¼šå­˜åœ¨å†²çªï¼Œå¦‚æ­¤ä¸€æ¥å°±ä¼šç»™è¿ç»´å¸¦æ¥å¾ˆå¤§çš„å‹åŠ›ï¼›3ï¼‰èµ„æºç«äº‰**ï¼šå› ä¸ºè¿™äº›è¿›ç¨‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªå®¿ä¸»æœºçš„èµ„æºï¼Œåº”ç”¨ä¹‹é—´å¯èƒ½ä¼šå­˜åœ¨èµ„æºæŠ¢å çš„é—®é¢˜ï¼Œå½“ä¸€ä¸ªåº”ç”¨éœ€è¦æ¶ˆè€—å¤§é‡ CPU å’Œå†…å­˜èµ„æºçš„æ—¶å€™ï¼Œå°±å¯èƒ½ä¼šç ´åå…¶ä»–åº”ç”¨çš„è¿è¡Œï¼Œå¯¼è‡´å…¶ä»–åº”ç”¨æ— æ³•æ­£å¸¸åœ°æä¾›æœåŠ¡ã€‚ æ‰€ä»¥å°±æœ‰äº†å®¹å™¨è¿™ä¸ªä¸œè¥¿ï¼Œè®©ä¸€ç»„è¿›ç¨‹æœ‰ä¸€ä¸ªè‡ªå·±çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯å®¹å™¨ã€‚ å®¹å™¨å°±æ˜¯ä¸€ä¸ªè§†å›¾éš”ç¦»ã€èµ„æºå¯é™åˆ¶ã€ç‹¬ç«‹æ–‡ä»¶ç³»ç»Ÿçš„è¿›ç¨‹é›†åˆã€‚æ‰€è°“â€œè§†å›¾éš”ç¦»â€å°±æ˜¯èƒ½å¤Ÿçœ‹åˆ°éƒ¨åˆ†è¿›ç¨‹ä»¥åŠå…·æœ‰ç‹¬ç«‹çš„ä¸»æœºåç­‰ï¼›æ§åˆ¶èµ„æºä½¿ç”¨ç‡åˆ™æ˜¯å¯ä»¥å¯¹äºå†…å­˜å¤§å°ä»¥åŠ CPU ä½¿ç”¨ä¸ªæ•°ç­‰è¿›è¡Œé™åˆ¶ã€‚å®¹å™¨å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹é›†åˆï¼Œå®ƒå°†ç³»ç»Ÿçš„å…¶ä»–èµ„æºéš”ç¦»å¼€æ¥ï¼Œå…·æœ‰è‡ªå·±ç‹¬ç«‹çš„èµ„æºè§†å›¾ã€‚ 1.2 ä»€ä¹ˆæ˜¯é•œåƒå®¹å™¨å…·æœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯ç³»ç»Ÿçš„èµ„æºï¼Œæ‰€ä»¥åœ¨ç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿå†…ä¸éœ€è¦å…·å¤‡å†…æ ¸ç›¸å…³çš„ä»£ç æˆ–è€…å·¥å…·ï¼Œæˆ‘ä»¬åªéœ€è¦æä¾›å®¹å™¨æ‰€éœ€çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ä»¥åŠä¾èµ–å³å¯ã€‚åªè¦å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„æ–‡ä»¶é›†åˆéƒ½èƒ½å¤Ÿå…·å¤‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå®¹å™¨å°±èƒ½å¤Ÿè¿è¡Œèµ·æ¥ã€‚ æˆ‘ä»¬å°†è¿™äº›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€è¦çš„æ‰€æœ‰çš„æ–‡ä»¶é›†åˆç§°ä¹‹ä¸ºå®¹å™¨é•œåƒã€‚ 1ï¼‰ç¯å¢ƒä¾èµ–å†²çªï¼Œæ¯”å¦‚åšæ·±åº¦å­¦ä¹ æœ‰æ—¶å€™ä½ çš„ä»£ç å¯¹äºtfçš„ç‰ˆæœ¬å¯èƒ½æœ‰ç‰¹å®šè¦æ±‚ï¼Œç‰ˆæœ¬è¿‡é«˜è¿‡ä½éƒ½ä¼šå‡ºé—®é¢˜ï¼Œè¿™æ ·ä¸åŒçš„ç¨‹åºå¯èƒ½å¯¹äºç³»ç»Ÿéƒ½æœ‰ç€ä¸åŒçš„è¦æ±‚ã€‚2ï¼‰æ–‡ä»¶ 2ã€å¦‚ä½•æ„å»ºé•œåƒ2.1 ç¼–å†™DockerFileæ–‡ä»¶ä¸€èˆ¬æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢å­˜æ”¾å¿…è¦æ–‡ä»¶å’ŒDockerfileï¼ˆåå­—ä¸èƒ½æ”¹ï¼‰æ–‡ä»¶ã€‚1vim Dockerfileä¾‹å­å¦‚ä¸‹ï¼š123456789101112# Base Images## ä»å¤©æ± åŸºç¡€é•œåƒæ„å»ºFROM registry.cn-shanghai.aliyuncs.com/tcc-public/python:3## æŠŠå½“å‰æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶æ„å»ºåˆ°é•œåƒçš„æ ¹ç›®å½•ä¸‹ADD . /## æŒ‡å®šé»˜è®¤å·¥ä½œç›®å½•ä¸ºæ ¹ç›®å½•ï¼ˆéœ€è¦æŠŠrun.shå’Œç”Ÿæˆçš„ç»“æœæ–‡ä»¶éƒ½æ”¾åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæäº¤åæ‰èƒ½è¿è¡Œï¼‰WORKDIR /## é•œåƒå¯åŠ¨åç»Ÿä¸€æ‰§è¡Œ sh run.shCMD [&quot;sh&quot;, &quot;run.sh&quot;]1ã€RUNå‘½ä»¤ï¼š1234## æ‰§è¡ŒæŒ‡ä»¤ï¼Œå¯ä»¥å®‰è£…ï¼Œå¯ä»¥è§£å‹æ–‡ä»¶RUN yum install wgetRUN wget -O redis.tar.gz &quot;http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;RUN tar -xvf redis.tar.gz 2ã€CMDæŒ‡ä»¤ç±»ä¼¼äº RUN æŒ‡ä»¤ï¼Œç”¨äºè¿è¡Œç¨‹åºï¼Œä½†äºŒè€…è¿è¡Œçš„æ—¶é—´ç‚¹ä¸åŒ:CMD åœ¨docker run æ—¶è¿è¡Œã€‚RUN æ˜¯åœ¨ docker buildã€‚ä½œç”¨ï¼šä¸ºå¯åŠ¨çš„å®¹å™¨æŒ‡å®šé»˜è®¤è¦è¿è¡Œçš„ç¨‹åºï¼Œç¨‹åºè¿è¡Œç»“æŸï¼Œå®¹å™¨ä¹Ÿå°±ç»“æŸã€‚CMD æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºå¯è¢« docker run å‘½ä»¤è¡Œå‚æ•°ä¸­æŒ‡å®šè¦è¿è¡Œçš„ç¨‹åºæ‰€è¦†ç›–ã€‚æ³¨æ„ï¼šå¦‚æœ Dockerfile ä¸­å¦‚æœå­˜åœ¨å¤šä¸ª CMD æŒ‡ä»¤ï¼Œä»…æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚12CMD [&quot;sh&quot;, &quot;run.sh&quot;]CMD [&quot;python&quot;, &quot;helloworld.py&quot;]3ã€COPYå¤åˆ¶æŒ‡ä»¤ï¼Œä»ä¸Šä¸‹æ–‡ç›®å½•ä¸­å¤åˆ¶æ–‡ä»¶æˆ–è€…ç›®å½•åˆ°å®¹å™¨é‡ŒæŒ‡å®šè·¯å¾„ã€‚ 4ã€ENTRYPOINTè¿™ä¸ªç±»ä¼¼äºCMDï¼Œä½†æ˜¯è¿™ä¸ªæŒ‡ä»¤ä¸ä¼šè¢«docker runçš„å‚æ•°è¦†ç›–ï¼Œä¸€å®šä¼šè¢«æ‰§è¡Œã€‚è€Œä¸”ï¼Œdocker runä¼ é€’çš„å‚æ•°å°†ä¼šä½œä¸ºENTRYPOINTæ‰§è¡Œå‘½ä»¤çš„å‚æ•°ã€‚1ENTRYPOINT [&quot;/bin/bash&quot;,&quot;run.sh&quot;] 2.2 build and pushä¸€èˆ¬æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªé•œåƒæ–‡ä»¶åï¼Œå°±å¯ä»¥é€šè¿‡ docker build å‘½ä»¤æ„å»ºå‡ºæ‰€éœ€è¦çš„åº”ç”¨ã€‚æ„å»ºå‡ºçš„ç»“æœå­˜å‚¨åœ¨æœ¬åœ°ã€‚1docker build -t registry.cn-shenzhen.aliyuncs.com/test_for_tianchi/test_for_tianchi_submit:1.0 .å…¶ä¸­registry.cn-shenzhen.aliyuncs.com/test_for_tianchi/test_for_tianchi_submitæ˜¯äº‘ç«¯åœ°å€ï¼Œæˆ‘ä»¬ç°åœ¨æ”¾åœ¨é˜¿é‡Œäº‘ä¸Šçš„å…¬å…±ä»“åº“ï¼Œï¼ˆä½ ä¹Ÿå¯ä»¥è‡ªå·±æ³¨å†Œä¸€ä¸ªï¼‰ï¼Œéšå1.0ä»£è¡¨ç‰ˆæœ¬å·ï¼Œç”¨æ¥åŒºåˆ«ä½ ç”Ÿæˆçš„ä¸åŒç‰ˆæœ¬ã€‚æœ€åè¿˜æœ‰ä¸ª.ä»£è¡¨è¦æ“ä½œçš„ç›®å½•å½“å‰ç›®å½•ã€‚ åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä¼ åˆ°äº‘ç«¯ä»“åº“ä¸Šã€‚åæœŸæµ‹è¯•æˆ–ä½¿ç”¨æ˜¯å°†å®ƒå†æ‹‰ä¸‹æ¥ã€‚1docker push registry.cn-shenzhen.aliyuncs.com/test_for_tianchi/test_for_tianchi_submit:1.0 2.3 pull and runä¸‹æ‹‰é•œåƒæ–‡ä»¶1docker pull box:1.12é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ç°å­˜é•œåƒæ–‡ä»¶1docker imagesè¿è¡Œé•œåƒ123docker run images_name:version (command)docker run registry.cn-shanghai.aliyuncs.com/cloudcver_test/test1:1.0 sh run.shdocker run registry.cn-shanghai.aliyuncs.com/cloudcver_test/test1:1.0 2.4ä¸€äº›å¸¸è§æŒ‡ä»¤1ã€å¯åŠ¨ä¸€ä¸ªé•œåƒæˆ‘ä»¬å¯ä»¥å¯åŠ¨ä¸€ä¸ªé€šç”¨çš„é•œåƒç¯å¢ƒï¼Œæ¯”å¦‚ubuntuï¼Œå†æ¯”å¦‚åˆ°äº†åˆ«äººçš„ç”µè„‘ä¸Šå¯ä»¥å¿«é€Ÿå¸ƒå±€ä¸€ä¸ªpython3ç¯å¢ƒï¼Œå¯åŠ¨ä¸€ä¸ªé•œåƒå³å¯ï¼Œè¿™æ—¶å€™åŠ ä¸€ä¸ªå‚æ•°-iå°±æ˜¯å¯ä»¥äº¤äº’å¼æ“ä½œï¼Œæ‰§è¡ŒæŒ‡ä»¤/bin/bashå°±å¯ä»¥è¿›å…¥å‘½ä»¤è¡Œä¸‹1docker run -it ubuntu /bin/bash-i: äº¤äº’å¼æ“ä½œã€‚-t: ç»ˆç«¯ã€‚/bin/bashæ‰§è¡Œçš„æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥å•ç‹¬å°±æ‰§è¡Œä¸€ä¸ªæŒ‡ä»¤sh run.shã€‚è¾“å…¥exité€€å‡º1exitæ³¨æ„ï¼šå…¶å®ä¹Ÿå¯ä»¥åå°å¯åŠ¨ä¸€ä¸ªé•œåƒï¼ŒåŠ ä¸€ä¸ªå‚æ•°dï¼Œéšåå°±docker exec idè¿›å…¥é•œåƒå³å¯ã€‚12docker run -itd --name ubuntu-test ubuntu /bin/bashdocker exec -it 243c32535da7 /bin/bash2ã€æŸ¥çœ‹æ‰€æœ‰å®¹å™¨1docker ps -aå¦‚ä¸‹å±•ç¤ºæˆ‘ä»¬è¿è¡Œçš„å®¹å™¨ç›´æ¥æ‰§è¡Œç»“æŸäº†ï¼Œæ‰€ä»¥çŠ¶æ€æ˜¯é€€å‡ºçš„çŠ¶æ€ã€‚3ã€å¯åŠ¨ä¸€ä¸ªå®¹å™¨æˆ–è€…é‡å¯12docker start 0f09f77f021edocker restart 0f09f77f021e4ã€åœæ­¢ä¸€ä¸ªå®¹å™¨1docker stop sss5ã€åˆ é™¤å®¹å™¨1docker rm -f 1e560fca3906ä¸‹é¢çš„å‘½ä»¤å¯ä»¥æ¸…ç†æ‰æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚1docker container prune 6ã€åˆ é™¤é•œåƒ1docker rmi xxxCPUé•œåƒï¼šdocker run your_image sh run.shGPUé•œåƒï¼šnvidia-docker run your_image sh run.sh 3 å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸå®¹å™¨æ˜¯ä¸€ç»„å…·æœ‰éš”ç¦»ç‰¹æ€§çš„è¿›ç¨‹é›†åˆï¼Œåœ¨ä½¿ç”¨ docker run çš„æ—¶å€™ä¼šé€‰æ‹©ä¸€ä¸ªé•œåƒæ¥æä¾›ç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿå¹¶æŒ‡å®šç›¸åº”çš„è¿è¡Œç¨‹åºã€‚è¿™é‡ŒæŒ‡å®šçš„è¿è¡Œç¨‹åºç§°ä¹‹ä¸º initial è¿›ç¨‹ï¼Œè¿™ä¸ª initial è¿›ç¨‹å¯åŠ¨çš„æ—¶å€™ï¼Œå®¹å™¨ä¹Ÿä¼šéšä¹‹å¯åŠ¨ï¼Œå½“ initial è¿›ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œå®¹å™¨ä¹Ÿä¼šéšä¹‹é€€å‡ºã€‚ å› æ­¤ï¼Œå¯ä»¥è®¤ä¸ºå®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸå’Œ initial è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€è‡´çš„ã€‚å½“ç„¶ï¼Œå› ä¸ºå®¹å™¨å†…ä¸åªæœ‰è¿™æ ·çš„ä¸€ä¸ª initial è¿›ç¨‹ï¼Œinitial è¿›ç¨‹æœ¬èº«ä¹Ÿå¯ä»¥äº§ç”Ÿå…¶ä»–çš„å­è¿›ç¨‹æˆ–è€…é€šè¿‡ docker exec äº§ç”Ÿå‡ºæ¥çš„è¿ç»´æ“ä½œï¼Œä¹Ÿå±äº initial è¿›ç¨‹ç®¡ç†çš„èŒƒå›´å†…ã€‚å½“ initial è¿›ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å­è¿›ç¨‹ä¹Ÿä¼šéšä¹‹é€€å‡ºï¼Œè¿™æ ·ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢èµ„æºçš„æ³„æ¼ã€‚ ä½†æ˜¯è¿™æ ·çš„åšæ³•ä¹Ÿä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œé¦–å…ˆåº”ç”¨é‡Œé¢çš„ç¨‹åºå¾€å¾€æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå…¶å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›é‡è¦çš„æ•°æ®ï¼Œå½“ä¸€ä¸ªå®¹å™¨é€€å‡ºè¢«åˆ é™¤ä¹‹åï¼Œæ•°æ®ä¹Ÿå°±ä¼šä¸¢å¤±äº†ï¼Œè¿™å¯¹äºåº”ç”¨æ–¹è€Œè¨€æ˜¯ä¸èƒ½æ¥å—çš„ï¼Œæ‰€ä»¥éœ€è¦å°†å®¹å™¨æ‰€äº§ç”Ÿå‡ºæ¥çš„é‡è¦æ•°æ®æŒä¹…åŒ–ä¸‹æ¥ã€‚å®¹å™¨èƒ½å¤Ÿç›´æ¥å°†æ•°æ®æŒä¹…åŒ–åˆ°æŒ‡å®šçš„ç›®å½•ä¸Šï¼Œè¿™ä¸ªç›®å½•å°±ç§°ä¹‹ä¸ºæ•°æ®å·ã€‚ æ•°æ®å·æœ‰ä¸€äº›ç‰¹ç‚¹ï¼Œå…¶ä¸­éå¸¸æ˜æ˜¾çš„å°±æ˜¯æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç‹¬ç«‹äºå®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®¹å™¨çš„åˆ›å»ºã€è¿è¡Œã€åœæ­¢ã€åˆ é™¤ç­‰æ“ä½œéƒ½å’Œæ•°æ®å·æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç›®å½•ï¼Œæ˜¯ç”¨äºå¸®åŠ©å®¹å™¨è¿›è¡ŒæŒä¹…åŒ–çš„ã€‚ç®€å•è€Œè¨€ï¼Œæˆ‘ä»¬ä¼šå°†æ•°æ®å·æŒ‚è½½åˆ°å®¹å™¨å†…ï¼Œè¿™æ ·ä¸€æ¥å®¹å™¨å°±èƒ½å¤Ÿå°†æ•°æ®å†™å…¥åˆ°ç›¸åº”çš„ç›®å½•é‡Œé¢äº†ï¼Œè€Œä¸”å®¹å™¨çš„é€€å‡ºå¹¶ä¸ä¼šå¯¼è‡´æ•°æ®çš„ä¸¢å¤±ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œæ•°æ®å·ç®¡ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š ç¬¬ä¸€ç§æ˜¯é€šè¿‡ bind çš„æ–¹å¼ï¼Œç›´æ¥å°†å®¿ä¸»æœºçš„ç›®å½•ç›´æ¥æŒ‚è½½åˆ°å®¹å™¨å†…ï¼›è¿™ç§æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¼šå¸¦æ¥è¿ç»´æˆæœ¬ï¼Œå› ä¸ºå…¶ä¾èµ–äºå®¿ä¸»æœºçš„ç›®å½•ï¼Œéœ€è¦å¯¹äºæ‰€æœ‰çš„å®¿ä¸»æœºè¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚ç¬¬äºŒç§æ˜¯å°†ç›®å½•ç®¡ç†äº¤ç»™è¿è¡Œå¼•æ“ã€‚ 4 ç»ƒä¹ ä»»åŠ¡ï¼šé˜¿é‡Œäº‘å¤©æ± å¤§èµ›dockerç»ƒä¹ åœºhttps://tianchi.aliyun.com/competition/entrance/231759/introduction ç­”æ¡ˆå¤‡ç”¨ï¼šanswer.py123456789101112131415161718# step 1print(&quot;hello world!&quot;)# step 2import csvcsv_file=csv.reader(open(&apos;/tcdata/num_list.csv&apos;,&apos;r&apos;))content=[] #ç”¨æ¥å­˜å‚¨æ•´ä¸ªæ–‡ä»¶çš„æ•°æ®ï¼Œå­˜æˆä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ åˆæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œè¡¨ç¤ºçš„æ˜¯æ–‡ä»¶çš„æŸä¸€è¡Œfor line in csv_file: content.append(int(line[0]))sum_num = sum(content)content.sort()content.reverse()# step 3import jsonprint(content[:10])test_dict = &#123;&quot;Q1&quot;:&quot;Hello world&quot;,&quot;Q2&quot;:sum_num,&quot;Q3&quot;:content[-10:] &#125;with open(&quot;./result.json&quot;,&quot;w&quot;) as f: json.dump(test_dict,f)run.sh1python answer.pyDockerfile12345678910111213# Base Images## ä»å¤©æ± åŸºç¡€é•œåƒæ„å»ºFROM registry.cn-shanghai.aliyuncs.com/tcc-public/python:3## æŠŠå½“å‰æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶æ„å»ºåˆ°é•œåƒçš„æ ¹ç›®å½•ä¸‹ADD . /## æŒ‡å®šé»˜è®¤å·¥ä½œç›®å½•ä¸ºæ ¹ç›®å½•ï¼ˆéœ€è¦æŠŠrun.shå’Œç”Ÿæˆçš„ç»“æœæ–‡ä»¶éƒ½æ”¾åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæäº¤åæ‰èƒ½è¿è¡Œï¼‰WORKDIR /## é•œåƒå¯åŠ¨åç»Ÿä¸€æ‰§è¡Œ sh run.shCMD [&quot;sh&quot;, &quot;run.sh&quot;]","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"å·¥å…·","slug":"è®¡ç®—æœºè§†è§‰/å·¥å…·","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://www.cloudcver.com/tags/Docker/"}]},{"title":"GoogleClabä½¿ç”¨æ³¨æ„äº‹é¡¹  !cdæŒ‡ä»¤å¤±æ•ˆ","slug":"GoogleClabä½¿ç”¨æ³¨æ„äº‹é¡¹  !cdæŒ‡ä»¤å¤±æ•ˆ","date":"2020-02-20T09:45:39.000Z","updated":"2020-03-06T10:17:23.801Z","comments":true,"path":"2020/02/20/GoogleClabä½¿ç”¨æ³¨æ„äº‹é¡¹  !cdæŒ‡ä»¤å¤±æ•ˆ/","link":"","permalink":"http://www.cloudcver.com/2020/02/20/GoogleClab%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%20%20!cd%E6%8C%87%E4%BB%A4%E5%A4%B1%E6%95%88/","excerpt":"GoogleClab cdæŒ‡ä»¤å¤±æ•ˆé—®é¢˜","text":"GoogleClab cdæŒ‡ä»¤å¤±æ•ˆé—®é¢˜ æ³¨æ„ï¼šcdå‘½ä»¤ï¼Œç”¨!cd å¾€å¾€è¾¾ä¸åˆ°è‡ªå·±çš„ç›®çš„ï¼Œéœ€è¦ç”¨%cd æ‰èƒ½åˆ‡æ¢ç›®å½•ã€‚","categories":[{"name":"LINUX","slug":"LINUX","permalink":"http://www.cloudcver.com/categories/LINUX/"}],"tags":[{"name":"GoogleClab","slug":"GoogleClab","permalink":"http://www.cloudcver.com/tags/GoogleClab/"}]},{"title":"pytorchå®‰è£…linuxä¸‹","slug":"pytorchå®‰è£…linux","date":"2020-02-18T02:41:30.000Z","updated":"2020-02-18T14:36:25.303Z","comments":true,"path":"2020/02/18/pytorchå®‰è£…linux/","link":"","permalink":"http://www.cloudcver.com/2020/02/18/pytorch%E5%AE%89%E8%A3%85linux/","excerpt":"","text":"æ€»ç»“è£…æœºå¿…è¦åŒ… pytorchå®‰è£…linux12345678# CUDA 10.0pip install torch==1.2.0 torchvision==0.4.0 -i https://pypi.tuna.tsinghua.edu.cn/simple# CUDA 9.2pip install torch==1.2.0+cu92 torchvision==0.4.0+cu92 -i https://pypi.tuna.tsinghua.edu.cn/simple# CPU onlypip install torch==1.2.0+cpu torchvision==0.4.0+cpu -i https://pypi.tuna.tsinghua.edu.cn/simple","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"pytorch","slug":"pytorch","permalink":"http://www.cloudcver.com/tags/pytorch/"}]},{"title":"Xmlæ–‡ä»¶è¯»å–ä¸ç¼–å†™","slug":"xmlæ–‡ä»¶è¯»å–ä¸ç¼–å†™","date":"2020-01-25T02:41:30.000Z","updated":"2020-02-18T14:31:45.156Z","comments":true,"path":"2020/01/25/xmlæ–‡ä»¶è¯»å–ä¸ç¼–å†™/","link":"","permalink":"http://www.cloudcver.com/2020/01/25/xml%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E4%B8%8E%E7%BC%96%E5%86%99/","excerpt":"","text":"Xmlæ–‡ä»¶è¯»å–ä¸ç¼–å†™xmlæ–‡ä»¶ä¸€èˆ¬å¦‚ä¸‹æ‰€ç¤ºï¼Œ&lt;&gt;ä¸ºnodeï¼›æœ‰å¯èƒ½è¿˜æœ‰å±æ€§Attributeï¼Œä¸€èˆ¬ç½‘é¡µä¸­ä¼šæœ‰ï¼Œæˆ‘ä»¬åªæ˜¯å­˜å‚¨ä¿¡æ¯ï¼Œå°±æ²¡æœ‰æ¶‰åŠï¼Œä¾‹å¦‚ï¼›123456789101112131415161718192021&lt;annotation&gt; &lt;folder&gt;VOC2007&lt;/folder&gt; &lt;filename&gt;test_1.jpg&lt;/filename&gt; &lt;size&gt; &lt;width&gt;1920&lt;/width&gt; &lt;height&gt;2560&lt;/height&gt; &lt;depth&gt;3&lt;/depth&gt; &lt;/size&gt; &lt;object&gt; &lt;name&gt;object&lt;/name&gt; &lt;pose&gt;Unspecified&lt;/pose&gt; &lt;truncated&gt;0&lt;/truncated&gt; &lt;difficult&gt;0&lt;/difficult&gt; &lt;bndbox&gt; &lt;xmin&gt;457&lt;/xmin&gt; &lt;ymin&gt;436&lt;/ymin&gt; &lt;xmax&gt;574&lt;/xmax&gt; &lt;ymax&gt;526&lt;/ymax&gt; &lt;/bndbox&gt; &lt;/object&gt;&lt;/annotation&gt; xmlæ–‡ä»¶è¯»å–æ ‡é…ä»£ç å¦‚ä¸‹ï¼ŒåŠ è½½åŒ…ï¼ŒåŠ è½½æ–‡ä»¶ï¼š1234from xml.dom.minidom import parse #åŠ è½½åŒ…domTree = parse(&quot;./customer.xml&quot;)# æ–‡æ¡£æ ¹å…ƒç´ rootNode = domTree.documentElement1ã€æŒ‰ç…§èŠ‚ç‚¹åç§°æŸ¥æ‰¾12# é€šè¿‡åç§°objectè·å–å±æ€§å€¼list1 = rootNode.getElementsByTagName(&quot;object&quot;)æ­¤æ—¶å¾—åˆ°æ˜¯ä¸€ä¸ªnode list2ã€å­èŠ‚ç‚¹æŸ¥æ‰¾1child = list1[0].childNodes æ³¨æ„ï¼š1ã€objectå­èŠ‚ç‚¹ä¸ºnameã€â€¦ã€bndboxç­‰ã€‚2ã€è¿™é‡Œä¹Ÿå¯ä»¥ç»§ç»­æœæŒ‰ç…§åå­—æœlist1[0].getElementsByTagName(â€œxminâ€)3ã€æˆ‘ä»¬è¦æƒ³æ‰“å°èŠ‚ç‚¹å†…çš„textéœ€è¦å¯¹èŠ‚ç‚¹ç»§ç»­æ‰¾å­èŠ‚ç‚¹list1[0].getElementsByTagName(â€œxminâ€).childNodes[0].value xmlæ–‡ä»¶å†™å…¥1ã€åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®¾ç½®å±æ€§123# æ–°å»ºä¸€ä¸ªcustomerèŠ‚ç‚¹customer_node = domTree.createElement(&quot;customer&quot;)customer_node.setAttribute(&quot;ID&quot;, &quot;C003&quot;)2ã€å­èŠ‚ç‚¹12345# åˆ›å»ºnameèŠ‚ç‚¹,å¹¶è®¾ç½®textValuename_node = domTree.createElement(&quot;name&quot;)name_text_value = domTree.createTextNode(&quot;kavin&quot;)name_node.appendChild(name_text_value) # æŠŠæ–‡æœ¬èŠ‚ç‚¹æŒ‚åˆ°name_nodeèŠ‚ç‚¹customer_node.appendChild(name_node)å¾—åˆ°å¦‚ä¸‹ï¼š123&lt;customer ID=&quot;C003&quot;&gt; &lt;name&gt;kavin&lt;/name&gt; &lt;/customer&gt;","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[]},{"title":"csvæ–‡ä»¶è½¬æ¢xmlæ ¼å¼æ–‡ä»¶","slug":"csvæ–‡ä»¶è½¬æ¢xmlæ ¼å¼æ–‡ä»¶","date":"2020-01-18T02:41:30.000Z","updated":"2020-02-18T14:37:07.099Z","comments":true,"path":"2020/01/18/csvæ–‡ä»¶è½¬æ¢xmlæ ¼å¼æ–‡ä»¶/","link":"","permalink":"http://www.cloudcver.com/2020/01/18/csv%E6%96%87%E4%BB%B6%E8%BD%AC%E6%8D%A2xml%E6%A0%BC%E5%BC%8F%E6%96%87%E4%BB%B6/","excerpt":"","text":"CSVæ–‡ä»¶æ ¼å¼12345678910image_name,x1,y1,x2,y2,classdb1.jpg,6,1550,145,1704,objectdb1.jpg,151,1545,288,1704,objectdb1.jpg,291,1552,472,1704,objectdb1.jpg,733,1600,863,1704,objectdb1.jpg,881,1592,1015,1704,objectdb10.jpg,865,592,1043,848,objectdb10.jpg,1823,1228,1958,1442,objectdb10.jpg,1147,1237,1323,1446,objectdb10.jpg,1708,583,1840,832,objectè½¬xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172# .csv--&gt;.xml# ! /usr/bin/python# -*- coding:UTF-8 -*-import os, sysimport globfrom PIL import Imageimport csvimport osimport numpy as npimport randomimport requests# VEDAI å›¾åƒå­˜å‚¨ä½ç½®src_img_dir = &quot;/home/train/dataset-expand/park_voc/VOC2007/JPEGImages&quot;# VEDAI å›¾åƒçš„ ground truth çš„ txt æ–‡ä»¶å­˜æ”¾ä½ç½®src_txt_dir = &quot;/home/train/dataset-expand/label_expand&quot;src_xml_dir = &quot;/home/train/dataset-expand/park_voc/VOC2007/Annotations&quot;img_Lists = glob.glob(src_img_dir + &apos;/*.jpg&apos;)# read csv 1 without width and heightfile_path = &quot;WebMarket_coco_gt_object.csv&quot;with open(file_path) as csvfile: csv_reader = csv.reader(csvfile) # ä½¿ç”¨csv.readerè¯»å–csvfileä¸­çš„æ–‡ä»¶ birth_header = next(csv_reader) # è¯»å–ç¬¬ä¸€è¡Œæ¯ä¸€åˆ—çš„æ ‡é¢˜ count = 0 img_pre = &apos;&apos; flag = 0 for row in csv_reader: # å°†csv æ–‡ä»¶ä¸­çš„æ•°æ®ä¿å­˜åˆ°birth_dataä¸­ #print(row) #first if flag == 0: img_pre = row[0].split(&apos;.&apos;)[0] flag = 1 xml_file = open((&apos;./WebMarket_coco_gt_object/&apos; + img_pre + &apos;.xml&apos;), &apos;w&apos;) xml_file.write(&apos;&lt;annotation&gt;\\n&apos;) xml_file.write(&apos; &lt;folder&gt;VOC2007&lt;/folder&gt;\\n&apos;) xml_file.write(&apos; &lt;filename&gt;&apos; + str(img_pre) + &apos;.jpg&apos; + &apos;&lt;/filename&gt;\\n&apos;) img = row[0].split(&apos;.&apos;)[0] # new file if img != img_pre: # close file xml_file.write(&apos;&lt;/annotation&gt;&apos;) xml_file.close() # new file xml_file = open((&apos;./WebMarket_coco_gt_object/&apos; + img + &apos;.xml&apos;), &apos;w&apos;) xml_file.write(&apos;&lt;annotation&gt;\\n&apos;) xml_file.write(&apos; &lt;folder&gt;VOC2007&lt;/folder&gt;\\n&apos;) xml_file.write(&apos; &lt;filename&gt;&apos; + str(img) + &apos;.jpg&apos; + &apos;&lt;/filename&gt;\\n&apos;) #print(img) &apos;&apos;&apos; xml_file.write(&apos; &lt;size&gt;\\n&apos;) xml_file.write(&apos; &lt;width&gt;&apos; + str(width) + &apos;&lt;/width&gt;\\n&apos;) xml_file.write(&apos; &lt;height&gt;&apos; + str(height) + &apos;&lt;/height&gt;\\n&apos;) xml_file.write(&apos; &lt;depth&gt;3&lt;/depth&gt;\\n&apos;) xml_file.write(&apos; &lt;/size&gt;\\n&apos;) &apos;&apos;&apos; xml_file.write(&apos; &lt;object&gt;\\n&apos;) xml_file.write(&apos; &lt;name&gt;&apos; + str(row[5]) + &apos;&lt;/name&gt;\\n&apos;) xml_file.write(&apos; &lt;pose&gt;Unspecified&lt;/pose&gt;\\n&apos;) xml_file.write(&apos; &lt;truncated&gt;0&lt;/truncated&gt;\\n&apos;) xml_file.write(&apos; &lt;difficult&gt;0&lt;/difficult&gt;\\n&apos;) xml_file.write(&apos; &lt;bndbox&gt;\\n&apos;) xml_file.write(&apos; &lt;xmin&gt;&apos; + str(row[1]) + &apos;&lt;/xmin&gt;\\n&apos;) xml_file.write(&apos; &lt;ymin&gt;&apos; + str(row[2]) + &apos;&lt;/ymin&gt;\\n&apos;) xml_file.write(&apos; &lt;xmax&gt;&apos; + str(row[3]) + &apos;&lt;/xmax&gt;\\n&apos;) xml_file.write(&apos; &lt;ymax&gt;&apos; + str(row[4]) + &apos;&lt;/ymax&gt;\\n&apos;) xml_file.write(&apos; &lt;/bndbox&gt;\\n&apos;) xml_file.write(&apos; &lt;/object&gt;\\n&apos;)","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[{"name":"xml","slug":"xml","permalink":"http://www.cloudcver.com/tags/xml/"},{"name":"csv","slug":"csv","permalink":"http://www.cloudcver.com/tags/csv/"}]},{"title":"labelmeå¤šç›®æ ‡æ ‡æ³¨é—®é¢˜","slug":"labelmeå¤šç›®æ ‡æ ‡æ³¨é—®é¢˜","date":"2020-01-18T02:41:30.000Z","updated":"2020-02-18T14:34:12.946Z","comments":true,"path":"2020/01/18/labelmeå¤šç›®æ ‡æ ‡æ³¨é—®é¢˜/","link":"","permalink":"http://www.cloudcver.com/2020/01/18/labelme%E5%A4%9A%E7%9B%AE%E6%A0%87%E6%A0%87%E6%B3%A8%E9%97%AE%E9%A2%98/","excerpt":"","text":"labelmeå¤šç›®æ ‡æ ‡æ³¨é—®é¢˜ é—®é¢˜ï¼šåœ¨labelmeæ ‡æ³¨å¤šç›®æ ‡æ—¶å­˜åœ¨ä¸åŒ¹é…çš„é—®é¢˜ï¼Œä»»ä½•ä¸€å¼ å›¾ç‰‡éƒ½æ˜¯ä»1å¼€å§‹ï¼Œä¸èƒ½è‡ªå®šä¹‰æ ‡ç­¾å·ï¼Œè€ƒè™‘æ”¹å†™json2datasetsæ–‡ä»¶ï¼Œä½¿ä»–æ ¹æ®æ ‡ç­¾åç§°å»å®šä¹‰æ ‡ç­¾å·ã€‚ è§£å†³ï¼šæˆ‘çš„ç›®å½•å±‚çº§æ˜¯ /datasets_new/img1/img1_fuse.jpg/datasets_new/img1/img1_fuse.json/datasets_new/img2/img2_fuse.jpg/datasets_new/img2/img2_fuse.jsonâ€¦ æ‰§è¡Œè„šæœ¬å°±æŠŠç›®å½•ä¸‹æ‰€æœ‰jsonè½¬æ¢å®Œæ¯•ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®ä¸åŒçš„ç›®å½•æ–¹å¼ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ä»£ç ï¼Œ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102import osimport randomimport shutilimport reimport argparseimport jsonimport osimport os.path as ospimport warnings import PIL.Imageimport yaml from labelme import utilsimport base64 def main(): warnings.warn(\"This script is aimed to demonstrate how to convert the\\n\" \"JSON file to a single image dataset, and not to handle\\n\" \"multiple JSON files to generate a real-use dataset.\") parser = argparse.ArgumentParser() parser.add_argument('data_path') parser.add_argument('-o', '--out', default=None) args = parser.parse_args() #å¯¹ä¸åŒæ ‡ç­¾å®šä¹‰ä¸€ä¸ªå·ï¼Œæ¯ä¸ªå·æœ‰è‡ªå·±çš„é¢œè‰²...ä»1å¼€å§‹æ’å°±å¯ä»¥ label_name_to_value = &#123;'_background_': 0, 'change':1, 'disappear':2, 'add':3&#125; count = [] for i in os.listdir(args.data_path): path1 = os.path.join(args.data_path,i) for j in os.listdir(path1): path2 = os.path.join(path1, j) if path2.split('.')[-1] != 'json': continue else: count.append(path2) for i in range(0, len(count)): path = count[i] if os.path.isfile(path): data = json.load(open(path)) if data['imageData']: imageData = data['imageData'] else: imagePath = os.path.join(os.path.dirname(path), data['imagePath']) with open(imagePath, 'rb') as f: imageData = f.read() imageData = base64.b64encode(imageData).decode('utf-8') img = utils.img_b64_to_arr(imageData) for shape in data['shapes']: label_name = shape['label'] if label_name in label_name_to_value: label_value = label_name_to_value[label_name] else: label_value = len(label_name_to_value) label_name_to_value[label_name] = label_value # label_values must be dense label_values, label_names = [], [] for ln, lv in sorted(label_name_to_value.items(), key=lambda x: x[1]): label_values.append(lv) label_names.append(ln) assert label_values == list(range(len(label_values))) lbl = utils.shapes_to_label(img.shape, data['shapes'], label_name_to_value) captions = ['&#123;&#125;: &#123;&#125;'.format(lv, ln) for ln, lv in label_name_to_value.items()] lbl_viz = utils.draw_label(lbl, img, captions) out_dir = osp.basename(count[i]).replace('.', '_') out_dir = osp.join(osp.dirname(count[i]), out_dir) if not osp.exists(out_dir): os.mkdir(out_dir) print(out_dir) name=out_dir.split('/') rename=name[2]+'_'+name[1] PIL.Image.fromarray(img).save(osp.join(out_dir, rename+'_'+'img.png')) #PIL.Image.fromarray(lbl).save(osp.join(out_dir, rename+'label.png')) utils.lblsave(osp.join(out_dir,rename+'_'+'label.png'), lbl) PIL.Image.fromarray(lbl_viz).save(osp.join(out_dir,rename+'_'+'label_viz.png')) with open(osp.join(out_dir, 'label_names.txt'), 'w') as f: for lbl_name in label_names: f.write(lbl_name + '\\n') warnings.warn('info.yaml is being replaced by label_names.txt') info = dict(label_names=label_names) with open(osp.join(out_dir, 'info.yaml'), 'w') as f: yaml.safe_dump(info, f, default_flow_style=False) print('Saved to: %s' % out_dir)if __name__ == '__main__': main() æ‰§è¡Œå®Œæ¯•åï¼Œç›®å½•å˜ä¸º /datasets_new/img1/img1_fuse.jpg/datasets_new/img1/img1_fuse.json/datasets_new/img1/img1_fuse_json/â€¦.(ç”Ÿæˆçš„ä¸œè¥¿)/datasets_new/img2/img2_fuse.json æƒ³æŠŠå®ƒæ‹·è´åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå¯ä»¥æ‰§è¡Œè„šæœ¬å¤„ç†1234567891011121314import osimport shutilfor index in os.listdir('./dataset_new'): print(index) #path = os.path.join('./dataset_test',index,index+'_mask_jpg') path = os.path.join('./dataset_new', index,index+'_fuse_json', index+'_dataset_new_label.png') print(path) #if os.path.isdir(path): # os.rmdir(path) if (os.path.exists(path)): #os.remove(os.path.join('./dataset_new', index, index+'_fuse.png')) shutil.copyfile(path, os.path.join('./dataset_new', index, index + '_label.png')) #os.rename(path,os.path.join('./dataset_new', index, index+'_fuse.json'))æœ€åå˜ä¸º /datasets_new/img1/img1_fuse.jpg/datasets_new/img1/img1_fuse.json/datasets_new/img1/img1_label.png","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"è®¡ç®—æœºè§†è§‰/ç›®æ ‡æ£€æµ‹","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[{"name":"labelme","slug":"labelme","permalink":"http://www.cloudcver.com/tags/labelme/"}]},{"title":"å·§å¦™è¿ç”¨GoogleDriveè°·æ­Œäº‘ç›˜GPUå…è´¹è®­ç»ƒ","slug":"å·§å¦™è¿ç”¨GoogleDriveè°·æ­Œäº‘ç›˜GPUå…è´¹è®­ç»ƒ","date":"2020-01-18T02:41:30.000Z","updated":"2020-02-18T14:35:26.892Z","comments":true,"path":"2020/01/18/å·§å¦™è¿ç”¨GoogleDriveè°·æ­Œäº‘ç›˜GPUå…è´¹è®­ç»ƒ/","link":"","permalink":"http://www.cloudcver.com/2020/01/18/%E5%B7%A7%E5%A6%99%E8%BF%90%E7%94%A8GoogleDrive%E8%B0%B7%E6%AD%8C%E4%BA%91%E7%9B%98GPU%E5%85%8D%E8%B4%B9%E8%AE%AD%E7%BB%83/","excerpt":"","text":"&gt; è°·æ­Œäº‘ç›˜é…ç½®ï¼šå­˜å‚¨ï¼š15GBï¼ˆè¶…å‡ºèŠ±é’±ï¼‰GPUï¼šTesla T4 *1ä½ çš„è¦æ±‚ï¼šç½‘ç»œï¼šå¤–ç½‘ å·§å¦™è¿ç”¨GoogleDriveè°·æ­Œäº‘ç›˜GPUå…è´¹è®­ç»ƒTips 1 ç™»é™†GoogleDriveåˆ›å»ºColaboratoryè½¬åˆ°ç½‘ç«™https://drive.google.comï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä½ éšæ„ï¼Œåœ¨æ–‡ä»¶å¤¹å†…åˆ›å»ºä¸€ä¸ªColaboratory notebookï¼Œå³é”®ï¼Œæ–°å»º-æ›´å¤š-Colaboratoryæ³¨æ„ï¼šå¦‚æœæ‰¾ä¸åˆ°Colaboratoryçš„è¯ï¼Œç‚¹â€œå…³è”æ›´å¤šåº”ç”¨â€ï¼Œæ‰¾åˆ°Colaboratoryå†ä¸‹è½½åç»§ç»­ä¸Šé¢æ“ä½œ Tips 2 é…ç½®ColaboratoryåŒå‡»æ‰“å¼€ç¬”è®°æœ¬ï¼Œåˆ°å¦‚ä¸‹ç•Œé¢ï¼Œç‚¹å‡»ä¿®æ”¹-ç¬”è®°æœ¬è®¾ç½®ï¼Œä¿®æ”¹ä¸ºpython3ä¸GPUï¼Œä¿å­˜å³å¯ã€‚ Tips 3 æˆæƒåˆ°ç¬”è®°æœ¬æ­£æ–‡ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç è¿è¡Œï¼Œè¿›è¡Œæˆæƒã€‚123456789101112!apt-get install -y -qq software-properties-common python-software-properties module-init-tools!add-apt-repository -y ppa:alessandro-strada/ppa 2&gt;&amp;1 &gt; /dev/null!apt-get update -qq 2&gt;&amp;1 &gt; /dev/null!apt-get -y install -qq google-drive-ocamlfuse fusefrom google.colab import authauth.authenticate_user()from oauth2client.client import GoogleCredentialscreds = GoogleCredentials.get_application_default()import getpass!google-drive-ocamlfuse -headless -id=&#123;creds.client_id&#125; -secret=&#123;creds.client_secret&#125; &lt; /dev/null 2&gt;&amp;1 | grep URLvcode = getpass.getpass()!echo &#123;vcode&#125; | google-drive-ocamlfuse -headless -id=&#123;creds.client_id&#125; -secret=&#123;creds.client_secret&#125;æ‰§è¡Œä¼šå‡ºç°ä¸‹é¢ç•Œé¢ï¼Œç‚¹å‡»é“¾æ¥ç™»é™†ä¼šæœ‰ä¸€ä¸ªéªŒè¯ç ï¼Œå¡«åˆ°è¿™é‡Œå³å¯ã€‚ Tips 4 è·‘ä»£ç æŒ‚è½½äº‘ç›˜ä¸­çš„æ–‡ä»¶12!mkdir -p drive!google-drive-ocamlfuse driveè¿™æ ·ä½ æŠŠæ–‡ä»¶ä¼ åˆ°äº‘ç›˜å°±å¯ä»¥å•¦ï¼Œå‰©ä¸‹çš„å°±æ˜¯å¸¸è§„æŒ‡ä»¤ã€‚è­¬å¦‚ï¼šå®‰è£…æŸåŒ…1!pip install -q kerasè¿è¡ŒæŸæ–‡ä»¶1!python 1.pyæ‰§è¡ŒpythonæŒ‡ä»¤1import tensorflow as tf å‚è€ƒæ–‡çŒ®[1] https://zhuanlan.zhihu.com/p/33344222","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"GPU","slug":"GPU","permalink":"http://www.cloudcver.com/tags/GPU/"},{"name":"Google Drive","slug":"Google-Drive","permalink":"http://www.cloudcver.com/tags/Google-Drive/"}]},{"title":"æ·±åº¦å­¦ä¹ åŸºç¡€é—®é¢˜æ€»ç»“ï¼ˆäºŒï¼‰","slug":"æ·±åº¦å­¦ä¹ åŸºç¡€é—®é¢˜æ€»ç»“ï¼ˆäºŒï¼‰","date":"2019-12-10T02:41:15.000Z","updated":"2019-12-15T14:02:21.953Z","comments":true,"path":"2019/12/10/æ·±åº¦å­¦ä¹ åŸºç¡€é—®é¢˜æ€»ç»“ï¼ˆäºŒï¼‰/","link":"","permalink":"http://www.cloudcver.com/2019/12/10/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93%EF%BC%88%E4%BA%8C%EF%BC%89/","excerpt":"BNï¼›linuxå¸¸ç”¨æŒ‡ä»¤ï¼›æ­£åˆ™åŒ–ï¼›","text":"BNï¼›linuxå¸¸ç”¨æŒ‡ä»¤ï¼›æ­£åˆ™åŒ–ï¼› ä¸€ã€BNæ‰¹é‡æ ‡å‡†åŒ–ï¼ˆæ‰‹æ’•ï¼ï¼ï¼‰1.1 ç‹¬ç«‹åŒåˆ†å¸ƒï¼ˆ1ï¼‰å»é™¤ç‰¹å¾ä¹‹é—´çš„ç›¸å…³æ€§ â€”&gt; ç‹¬ç«‹ï¼› ï¼ˆ2ï¼‰ä½¿å¾—æ‰€æœ‰ç‰¹å¾å…·æœ‰ç›¸åŒçš„å‡å€¼å’Œæ–¹å·® â€”&gt; åŒåˆ†å¸ƒã€‚ åœ¨è®­ç»ƒæ—¶æˆ‘ä»¬å¸Œæœ›è¾“å…¥çš„æ•°æ®èƒ½å¤Ÿæ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„è¯æœ€å¥½ï¼Œç‹¬ç«‹åŒåˆ†å¸ƒçš„æ•°æ®ä¹‹é—´å…·æœ‰ç‹¬ç«‹æ€§ï¼Œæ¯ä¸ªç‰¹å¾ä¸ä¼šç›¸äº’å½±å“ï¼Œéƒ½æ˜¯æœ€åç»“æœçš„ä¸€ä¸ªæ¡ä»¶ï¼Œè¿™ä¸€ç‚¹æ˜¯å¥½çš„ï¼›ç¬¬äºŒç‚¹ï¼Œå¯¹äºæ¯ä¸€ä¸ªç‰¹å¾åº”è¯¥å…·æœ‰åŒåˆ†å¸ƒï¼Œè¿™æ ·è®­ç»ƒèµ·æ¥ä½¿å¾—ç½‘ç»œè®­ç»ƒæ›´å¿«ï¼æ”¶æ•›æ›´å¿«ã€‚ 1.2 ICSå½±å“æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹çš„è®­ç»ƒä¸ºä»€ä¹ˆä¼šå¾ˆå›°éš¾ï¼Ÿå…¶ä¸­ä¸€ä¸ªé‡è¦çš„åŸå› æ˜¯ï¼Œæ·±åº¦ç¥ç»ç½‘ç»œæ¶‰åŠåˆ°å¾ˆå¤šå±‚çš„å åŠ ï¼Œè€Œæ¯ä¸€å±‚çš„å‚æ•°æ›´æ–°ä¼šå¯¼è‡´ä¸Šå±‚çš„è¾“å…¥æ•°æ®åˆ†å¸ƒå‘ç”Ÿå˜åŒ–ï¼Œé€šè¿‡å±‚å±‚å åŠ ï¼Œé«˜å±‚çš„è¾“å…¥åˆ†å¸ƒå˜åŒ–ä¼šéå¸¸å‰§çƒˆï¼Œè¿™å°±ä½¿å¾—é«˜å±‚éœ€è¦ä¸æ–­å»é‡æ–°é€‚åº”åº•å±‚çš„å‚æ•°æ›´æ–°ã€‚ä¸ºäº†è®­å¥½æ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦éå¸¸è°¨æ…åœ°å»è®¾å®šå­¦ä¹ ç‡ã€åˆå§‹åŒ–æƒé‡ã€ä»¥åŠå°½å¯èƒ½ç»†è‡´çš„å‚æ•°æ›´æ–°ç­–ç•¥ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæ¯ä¸ªç¥ç»å…ƒçš„è¾“å…¥æ•°æ®ä¸å†æ˜¯â€œç‹¬ç«‹åŒåˆ†å¸ƒâ€ã€‚ å…¶ä¸€ï¼Œä¸Šå±‚å‚æ•°éœ€è¦ä¸æ–­é€‚åº”æ–°çš„è¾“å…¥æ•°æ®åˆ†å¸ƒï¼Œé™ä½å­¦ä¹ é€Ÿåº¦ã€‚ å…¶äºŒï¼Œä¸‹å±‚è¾“å…¥çš„å˜åŒ–å¯èƒ½è¶‹å‘äºå˜å¤§æˆ–è€…å˜å°ï¼Œå¯¼è‡´ä¸Šå±‚è½å…¥é¥±å’ŒåŒºï¼Œä½¿å¾—å­¦ä¹ è¿‡æ—©åœæ­¢ã€‚ å…¶ä¸‰ï¼Œæ¯å±‚çš„æ›´æ–°éƒ½ä¼šå½±å“åˆ°å…¶å®ƒå±‚ï¼Œå› æ­¤æ¯å±‚çš„å‚æ•°æ›´æ–°ç­–ç•¥éœ€è¦å°½å¯èƒ½çš„è°¨æ…ã€‚ 1.3 BNæ¥äº†BNçš„ç®—æ³•å¦‚ä¸‹æ‰€ç¤ºï¼ŒæŸä¸€å±‚ç½‘ç»œçš„è¾“å‡ºä¼šå¾—åˆ°ç‰¹å¾xï¼Œç„¶åè®¡ç®—è¿™ä¸€ä¸ªbatchsizeä¸‹çš„å‡å€¼ï¼Œmä»£è¡¨batchsizeï¼Œxiæ˜¯æ¯ä¸ªæ•°æ®çš„è¯¥ç‰¹å¾ã€‚ç„¶åæ±‚å‡å€¼ï¼Œç„¶åå°±æ ‡å‡†åŒ–ï¼Œåˆ°è¿™å¤§å®¶éƒ½ç†è§£ã€‚åé¢å®ƒåˆæ¥äº†å¯å°ºåº¦å˜æ¢å’Œç¼©æ”¾ï¼Œç›¸å½“äºåˆå˜é“ä¸€ä¸ªæœä»N(gama,beta)çš„åˆ†å¸ƒäº†ï¼è¿™é‡Œçš„gamaå’Œbetaéƒ½æ˜¯å‚æ•°ï¼Œæ˜¯éœ€è¦è®­ç»ƒçš„ï¼Œç›¸å½“äºæˆ‘ä»¬ä¸ºæ¯ä¸€å±‚ç½‘ç»œçš„è¾“å‡ºæ¯ä¸€ä¸ªç‰¹å¾è®­ç»ƒäº†ä¸€ä¸ªåˆ†å¸ƒã€‚å“ˆå“ˆ 1.4æ‰‹æ’•ä»£ç ä¸»è¦æ˜¯åå‘ä¼ æ’­æ¨åˆ°ï¼ åå‘ä¼ æ’­æ±‚æ¢¯åº¦ï¼š å› ä¸ºï¼š {y^{(k)} } = {\\gamma ^{(k)} }{\\widehat x^{(k)} } + {\\beta ^{(k)} }æ‰€ä»¥ï¼š { {\\partial l} \\over {\\partial { {\\widehat x}_i} } } = { {\\partial l} \\over {\\partial {y_i} } }\\gammaå› ä¸ºï¼š {\\widehat x_i} = { { {x_i} - {\\mu _B} } \\over {\\sqrt {\\sigma _B^2 + \\varepsilon } } }æ‰€ä»¥ï¼š { {\\partial l} \\over {\\partial \\sigma _B^2} } = {\\sum\\limits_{i = 1}^m { { {\\partial l} \\over {\\partial { {\\widehat x}_i} } } ( {x_i} - {u_B}) { { - 1} \\over 2}(\\sigma _B^2 + \\varepsilon )} ^{ - {3 \\over 2} } }{ {\\partial l} \\over {\\partial {u_B} } } = \\sum\\limits_{ {\\rm{i = 1} } }^m { { {\\partial l} \\over {\\partial { {\\widehat x}_i} } } } { { - 1} \\over {\\sqrt {\\sigma _B^2 + \\varepsilon } } }å› ä¸ºï¼š {\\mu _B} = {1 \\over m}\\sum\\limits_{i = 1}^m { {x_i} }å’Œ \\sigma _B^2 = {1 \\over m}\\sum\\limits_{i = 1}^m {({x_i} } - {\\mu _B}{)^2}æ‰€ä»¥ï¼š { {\\partial l} \\over {\\partial {x_i} } } = { {\\partial l} \\over {\\partial { {\\widehat x}_i} } }{1 \\over {\\sqrt {\\sigma _B^2 + \\varepsilon } } } + { {\\partial l} \\over {\\partial \\sigma _B^2} } { {2({x_i} - {\\mu _B} ) } \\over m} + { {\\partial l} \\over {\\partial {u_B} } }{1 \\over m}æ‰€ä»¥ï¼š { {\\partial l} \\over {\\partial \\gamma } } = \\sum\\limits_{i = 1}^m { { {\\partial l} \\over {\\partial {y_i} } } } {\\widehat x_i}{ {\\partial l} \\over {\\partial \\beta } } = \\sum\\limits_{i = 1}^m { { {\\partial l} \\over {\\partial {y_i} } } }1234567891011121314151617181920212223def batchnorm_backward(dout, cache): &quot;&quot;&quot; Inputs: - dout: ä¸Šä¸€å±‚çš„æ¢¯åº¦ï¼Œç»´åº¦(N, D)ï¼Œå³ dL/dy - cache: æ‰€éœ€çš„ä¸­é—´å˜é‡ï¼Œæ¥è‡ªäºå‰å‘ä¼ æ’­ Returns a tuple of: - dx: (N, D)ç»´çš„ dL/dx - dgamma: (D,)ç»´çš„dL/dgamma - dbeta: (D,)ç»´çš„dL/dbeta &quot;&quot;&quot; x, gamma, beta, x_hat, sample_mean, sample_var, eps = cache N = x.shape[0] dgamma = np.sum(dout * x_hat, axis = 0) dbeta = np.sum(dout, axis = 0) dx_hat = dout * gamma dsigma = -0.5 * np.sum(dx_hat * (x - sample_mean), axis=0) * np.power(sample_var + eps, -1.5) dmu = -np.sum(dx_hat / np.sqrt(sample_var + eps), axis=0) - 2 * dsigma*np.sum(x-sample_mean, axis=0)/ N dx = dx_hat /np.sqrt(sample_var + eps) + 2.0 * dsigma * (x - sample_mean) / N + dmu / N return dx, dgamma, dbeta äºŒã€Linuxç¯å¢ƒä¸‹å¸¸ç”¨æŒ‡ä»¤ï¼ˆå¿…å¤‡ï¼ï¼ï¼‰1ã€æŸ¥çœ‹å½“å‰è¿›ç¨‹1ps -aus2ã€vimæ“ä½œ1vim xxx.xx //ç¼–è¾‘æ–‡ä»¶ è¿›å…¥ä¸ºå‘½ä»¤è¡Œç•Œé¢ï¼ŒæŒ‰â€œiâ€è¿›å…¥insertè¾“å…¥ç•Œé¢ï¼Œå¯ä»¥ç¼–è¾‘æ“ä½œï¼Œå†™å®Œåï¼ŒæŒ‰ESCé€€å‡ºï¼Œå›åˆ°å‘½ä»¤è¡Œç•Œé¢ï¼› å¦‚æœä¸æƒ³ä¿å­˜æŒ‰ä½â€œ:q!â€å¼ºåˆ¶é€€å‡ºï¼›å¦‚æœæƒ³ä¿å­˜æŒ‰ä½â€œ:wqâ€å³å¯ï¼› å‘½ä»¤è¡Œç•Œé¢ä¸‹æœç´¢æŒ‡ä»¤ï¼šâ€œ/wordâ€;å‘ä¸‹æœç´¢ï¼›nç»§ç»­å‘ä¸‹æœç´¢ï¼›â€œ?wordâ€å‘ä¸Šæœç´¢ nç»§ç»­å‘ä¸Šæœç´¢ Nåå‘æœç´¢ï¼› nGåˆ°ç¬¬nè¡Œ å¤šçª—å£æ“ä½œï¼Œæ‰“å¼€ä¸€ä¸ªçª—å£åï¼Œ:sp yyy.xxæ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸¤ä¸ªæ–‡ä»¶ä¸€èµ·çœ‹ï¼Œå…ˆæŒ‰ä½ctr+w+å†ä¸Šä¸‹æŒ‰é’®åˆ‡æ¢çª—å£ï¼› 3ã€æ˜¾ç¤ºä¿¡æ¯12ls ccc/ -a //æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯ls ccc/ -l // æ˜¾ç¤ºåˆ—è¡¨ä¿¡æ¯ ç­‰åŒäº ll ccc/4ã€è½¯è¿æ¥1ln -s ccc/sss ./test //æŠŠä»–è½¯è¿åˆ°test5ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶1touch 2.zz6ã€æ˜¾ç¤ºç»å¯¹è·¯å¾„1pwd7ã€æŸ¥çœ‹å†…å­˜æƒ…å†µ1df -h8ã€æŸ¥çœ‹GPUæƒ…å†µ1nvidia-smi9ã€æŸ¥çœ‹IPåœ°å€1ifconfig10ã€åˆ é™¤|ç§»åŠ¨123mv aaa bbb //ç§»åŠ¨æ–‡ä»¶mv -r aaa/ bbb/ //ç§»åŠ¨æ–‡ä»¶å¤¹rm aaa //åˆ é™¤æ–‡ä»¶ 11ã€ ä¸‰ã€å…³äºæ­£åˆ™åŒ–é—®é¢˜1.ä»€ä¹ˆæ˜¯è¿‡æ‹Ÿåˆè¿‡æ‹Ÿåˆæ˜¯æŒ‡æˆ‘ä»¬è®­ç»ƒçš„ç½‘ç»œè¿‡åº¦æ‹Ÿåˆä»¥æ»¡è¶³åœ¨è®­ç»ƒé›†æœ‰ä¸€ä¸ªå®Œç¾çš„æ•ˆæœï¼Œä½†æ˜¯è¿‡åº¦å®Œç¾ä»–ä¼šä½¿å¾—ä¸€äº›å™ªå£°ä¹Ÿèƒ½æ‹Ÿåˆå¥½ï¼Œè¿™æ ·å¯¹äºæµ‹è¯•é›†ä¸åˆ©ã€‚ä¸‹å›¾æ‰€ç¤ºã€‚å…¶å®å°±æ˜¯æ¬ æ‹Ÿåˆä»£è¡¨æ‹Ÿåˆæ•ˆæœè¿‡äºç®€å•ï¼Œè¿‡æ‹Ÿåˆå°±æ˜¯æ‹Ÿåˆæ•ˆæœè¿‡äºå¤æ‚ 1.2 è§£å†³è¿‡æ‹Ÿåˆçš„æ–¹æ³•1ã€å‡å°‘ç‰¹å¾æ•°é‡ï¼šå…¶å®ä¹Ÿç­‰åŒäºç½‘ç»œç®€å•åŒ–ï¼Œç½‘ç»œå¤ªå¤æ‚ï¼Œå‚æ•°å¤šå›ºç„¶æ‹Ÿåˆæ•ˆæœè¶³å¤Ÿå¥½ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸åŒçš„æ•°æ®ä¼šå¯¹åº”ä¸åŒå¤æ‚åº¦çš„ç½‘ç»œï¼Œè¿™æ ·æ‰èƒ½å‡å°‘è¿‡æ‹Ÿåˆã€‚2ã€æ­£åˆ™åŒ–é¡¹ï¼šæ­£åˆ™åŒ–ä¹Ÿå«æƒ©ç½šå› å­ï¼Œç›®æ ‡å‡½æ•°è¿½æ±‚è¶Šå°è¶Šå¥½ï¼Œå¯èƒ½ä»–ä¼šæ— æ³•æ— å¤©çš„æ”¹å˜æ¨¡å‹ï¼Œæˆ‘ä»¬åŠ ä¸€ä¸ªæƒ©ç½šæ§åˆ¶æ¨¡å‹çš„è¶‹åŠ¿ï¼Œè®©ä»–æ¨¡å‹ä¸è¦å¤ªå¤æ‚ï¼Œæ‰€ä»¥å°±æœ‰äº†L1ã€L2æ­£åˆ™åŒ–3ã€dropoutåœ¨2012å¹´ï¼ŒHintonåœ¨å…¶è®ºæ–‡ã€ŠImproving neural networks by preventing co-adaptation of feature detectorsã€‹ä¸­æå‡ºDropoutã€‚å½“ä¸€ä¸ªå¤æ‚çš„å‰é¦ˆç¥ç»ç½‘ç»œè¢«è®­ç»ƒåœ¨å°çš„æ•°æ®é›†æ—¶ï¼Œå®¹æ˜“é€ æˆè¿‡æ‹Ÿåˆã€‚ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œå¯ä»¥é€šè¿‡é˜»æ­¢ç‰¹å¾æ£€æµ‹å™¨çš„å…±åŒä½œç”¨æ¥æé«˜ç¥ç»ç½‘ç»œçš„æ€§èƒ½ã€‚Dropoutè¯´çš„ç®€å•ä¸€ç‚¹å°±æ˜¯ï¼šæˆ‘ä»¬åœ¨å‰å‘ä¼ æ’­çš„æ—¶å€™ï¼Œè®©æŸä¸ªç¥ç»å…ƒçš„æ¿€æ´»å€¼ä»¥ä¸€å®šçš„æ¦‚ç‡påœæ­¢å·¥ä½œï¼Œè¿™æ ·å¯ä»¥ä½¿æ¨¡å‹æ³›åŒ–æ€§æ›´å¼ºï¼Œå› ä¸ºå®ƒä¸ä¼šå¤ªä¾èµ–æŸäº›å±€éƒ¨çš„ç‰¹å¾ã€‚é‚£ä¹ˆå…·ä½“åˆ°ä»£ç æ€ä¹ˆå¹²å‘¢ï¼Ÿåœ¨æ²¡æœ‰dropoutæ—¶ï¼Œä»£ç å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°±æ˜¯ç®€å•çš„ä¸€ä¸ªæ„ŸçŸ¥æœºã€‚å¼•å…¥dropoutåï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆç”Ÿæˆä¸€ä¸ªæ¦‚ç‡å‚æ•°ï¼Œå€¼ä¸º0/1çš„ä¸€ä¸ªåºåˆ—ï¼Œè®©yå»ä¹˜è¿™ä¸ªæ¦‚ç‡ï¼Œå®é™…å°±è®©æŸäº›è¾“å…¥å˜ä¸º0ï¼Œå…¶å®å°±æ˜¯ä¸Šä¸€å±‚çš„ç¥ç»å…ƒç™½è®¡ç®—äº†ï¼Œæ²¡æœ‰å‘åä¼ æ’­ã€‚è¿™æ ·ææœ‰ä¸€ä¸ªå›ºå®šçš„æ¯”ä¾‹kä»£è¡¨æˆ‘ä»¬è¦ç¦æ­¢å¤šå°‘æ¯”ä¾‹ç¥ç»å…ƒï¼Œå¦‚æœç¦æ­¢æ‰0.4ï¼Œé‚£ä¹ˆç›¸å½“è¿œå…¶ä»–ç¥ç»å…ƒçš„æƒé‡ä½œç”¨å°±ä¼šå¢åŠ ï¼Œæµ‹è¯•æ—¶æˆ‘ä»¬è¿˜éœ€è¦å¯¹æ¯ä¸ªç¥ç»å…ƒä¹˜(1-k)ã€‚è®©ä»–å‘æŒ¥0.6çš„ä½œç”¨ï¼ˆå¥½å¥½ç†è§£ä¸‹ï¼‰ ä¸ºä»€ä¹ˆè¯´dropoutå…·æœ‰é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ•ˆæœï¼šï¼ˆ1ï¼‰å–å¹³å‡çš„ä½œç”¨ï¼š å…ˆå›åˆ°æ ‡å‡†çš„æ¨¡å‹å³æ²¡æœ‰dropoutï¼Œæˆ‘ä»¬ç”¨ç›¸åŒçš„è®­ç»ƒæ•°æ®å»è®­ç»ƒ5ä¸ªä¸åŒçš„ç¥ç»ç½‘ç»œï¼Œä¸€èˆ¬ä¼šå¾—åˆ°5ä¸ªä¸åŒçš„ç»“æœï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ â€œ5ä¸ªç»“æœå–å‡å€¼â€æˆ–è€…â€œå¤šæ•°å–èƒœçš„æŠ•ç¥¨ç­–ç•¥â€å»å†³å®šæœ€ç»ˆç»“æœã€‚ä¾‹å¦‚3ä¸ªç½‘ç»œåˆ¤æ–­ç»“æœä¸ºæ•°å­—9,é‚£ä¹ˆå¾ˆæœ‰å¯èƒ½çœŸæ­£çš„ç»“æœå°±æ˜¯æ•°å­—9ï¼Œå…¶å®ƒä¸¤ä¸ªç½‘ç»œç»™å‡ºäº†é”™è¯¯ç»“æœã€‚è¿™ç§â€œç»¼åˆèµ·æ¥å–å¹³å‡â€çš„ç­–ç•¥é€šå¸¸å¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿‡æ‹Ÿåˆé—®é¢˜ã€‚å› ä¸ºä¸åŒçš„ç½‘ç»œå¯èƒ½äº§ç”Ÿä¸åŒçš„è¿‡æ‹Ÿåˆï¼Œå–å¹³å‡åˆ™æœ‰å¯èƒ½è®©ä¸€äº›â€œç›¸åçš„â€æ‹Ÿåˆäº’ç›¸æŠµæ¶ˆã€‚dropoutæ‰ä¸åŒçš„éšè—ç¥ç»å…ƒå°±ç±»ä¼¼åœ¨è®­ç»ƒä¸åŒçš„ç½‘ç»œï¼Œéšæœºåˆ æ‰ä¸€åŠéšè—ç¥ç»å…ƒå¯¼è‡´ç½‘ç»œç»“æ„å·²ç»ä¸åŒï¼Œæ•´ä¸ªdropoutè¿‡ç¨‹å°±ç›¸å½“äºå¯¹å¾ˆå¤šä¸ªä¸åŒçš„ç¥ç»ç½‘ç»œå–å¹³å‡ã€‚è€Œä¸åŒçš„ç½‘ç»œäº§ç”Ÿä¸åŒçš„è¿‡æ‹Ÿåˆï¼Œä¸€äº›äº’ä¸ºâ€œåå‘â€çš„æ‹Ÿåˆç›¸äº’æŠµæ¶ˆå°±å¯ä»¥è¾¾åˆ°æ•´ä½“ä¸Šå‡å°‘è¿‡æ‹Ÿåˆã€‚ï¼ˆ2ï¼‰å‡å°‘ç¥ç»å…ƒä¹‹é—´å¤æ‚çš„å…±é€‚åº”å…³ç³»ï¼š å› ä¸ºdropoutç¨‹åºå¯¼è‡´ä¸¤ä¸ªç¥ç»å…ƒä¸ä¸€å®šæ¯æ¬¡éƒ½åœ¨ä¸€ä¸ªdropoutç½‘ç»œä¸­å‡ºç°ã€‚è¿™æ ·æƒå€¼çš„æ›´æ–°ä¸å†ä¾èµ–äºæœ‰å›ºå®šå…³ç³»çš„éšå«èŠ‚ç‚¹çš„å…±åŒä½œç”¨ï¼Œé˜»æ­¢äº†æŸäº›ç‰¹å¾ä»…ä»…åœ¨å…¶å®ƒç‰¹å®šç‰¹å¾ä¸‹æ‰æœ‰æ•ˆæœçš„æƒ…å†µ ã€‚è¿«ä½¿ç½‘ç»œå»å­¦ä¹ æ›´åŠ é²æ£’çš„ç‰¹å¾ ï¼Œè¿™äº›ç‰¹å¾åœ¨å…¶å®ƒçš„ç¥ç»å…ƒçš„éšæœºå­é›†ä¸­ä¹Ÿå­˜åœ¨ã€‚æ¢å¥è¯è¯´å‡å¦‚æˆ‘ä»¬çš„ç¥ç»ç½‘ç»œæ˜¯åœ¨åšå‡ºæŸç§é¢„æµ‹ï¼Œå®ƒä¸åº”è¯¥å¯¹ä¸€äº›ç‰¹å®šçš„çº¿ç´¢ç‰‡æ®µå¤ªè¿‡æ•æ„Ÿï¼Œå³ä½¿ä¸¢å¤±ç‰¹å®šçš„çº¿ç´¢ï¼Œå®ƒä¹Ÿåº”è¯¥å¯ä»¥ä»ä¼—å¤šå…¶å®ƒçº¿ç´¢ä¸­å­¦ä¹ ä¸€äº›å…±åŒçš„ç‰¹å¾ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹dropoutå°±æœ‰ç‚¹åƒL1ï¼ŒL2æ­£åˆ™ï¼Œå‡å°‘æƒé‡ä½¿å¾—ç½‘ç»œå¯¹ä¸¢å¤±ç‰¹å®šç¥ç»å…ƒè¿æ¥çš„é²æ£’æ€§æé«˜ã€‚ï¼ˆ3ï¼‰Dropoutç±»ä¼¼äºæ€§åˆ«åœ¨ç”Ÿç‰©è¿›åŒ–ä¸­çš„è§’è‰²ï¼šç‰©ç§ä¸ºäº†ç”Ÿå­˜å¾€å¾€ä¼šå€¾å‘äºé€‚åº”è¿™ç§ç¯å¢ƒï¼Œç¯å¢ƒçªå˜åˆ™ä¼šå¯¼è‡´ç‰©ç§éš¾ä»¥åšå‡ºåŠæ—¶ååº”ï¼Œæ€§åˆ«çš„å‡ºç°å¯ä»¥ç¹è¡å‡ºé€‚åº”æ–°ç¯å¢ƒçš„å˜ç§ï¼Œæœ‰æ•ˆçš„é˜»æ­¢è¿‡æ‹Ÿåˆï¼Œå³é¿å…ç¯å¢ƒæ”¹å˜æ—¶ç‰©ç§å¯èƒ½é¢ä¸´çš„ç­ç»ã€‚ è´´ä¸ªä»£ç ï¼Œå¤§å®¶çœ‹çœ‹12345678910111213141516171819202122232425import numpy as np# dropoutå‡½æ•°çš„å®ç°def dropout(x, level): if level &lt; 0. or level &gt;= 1: # levelæ˜¯æ¦‚ç‡å€¼ï¼Œå¿…é¡»åœ¨0~1ä¹‹é—´ raise Exception('Dropout level must be in interval [0, 1[.') retain_prob = 1. - level # æˆ‘ä»¬é€šè¿‡binomialå‡½æ•°ï¼Œç”Ÿæˆä¸xï¼ˆxè¡¨ç¤ºè¾“å…¥æ•°æ®ï¼Œè¦å¯¹å…¶dropoutï¼‰ä¸€æ ·çš„ç»´æ•°å‘é‡ã€‚ # binomialå‡½æ•°å°±åƒæŠ›ç¡¬å¸ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸ªç¥ç»å…ƒå½“åšæŠ›ç¡¬å¸ä¸€æ · # ç¡¬å¸æ­£é¢çš„æ¦‚ç‡ä¸ºpï¼Œnè¡¨ç¤ºæ¯ä¸ªç¥ç»å…ƒè¯•éªŒçš„æ¬¡æ•° # å› ä¸ºæˆ‘ä»¬æ¯ä¸ªç¥ç»å…ƒåªéœ€è¦æŠ›ä¸€æ¬¡å°±å¯ä»¥äº†æ‰€ä»¥n=1ï¼Œsizeå‚æ•°æ˜¯æˆ‘ä»¬æœ‰å¤šå°‘ä¸ªç¡¬å¸ã€‚ # å³å°†ç”Ÿæˆä¸€ä¸ª0ã€1åˆ†å¸ƒçš„å‘é‡ï¼Œ0è¡¨ç¤ºè¿™ä¸ªç¥ç»å…ƒè¢«å±è”½ï¼Œä¸å·¥ä½œäº†ï¼Œä¹Ÿå°±æ˜¯dropoutäº† sample = np.random.binomial(n=1, p=retain_prob, size=x.shape) print(sample) # ã€0,1,0,1ã€‚ã€‚ã€‚ã€‘æœ‰ç‚¹åƒç‹¬çƒ­ # 0ã€1ä¸xç›¸ä¹˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥å±è”½æŸäº›ç¥ç»å…ƒï¼Œè®©å®ƒä»¬çš„å€¼å˜ä¸º0ã€‚1åˆ™ä¸å½±å“ x *= sample print(x) # å¯¹ä½™ä¸‹çš„é0çš„è¿›è¡Œæ‰©å¤§å€æ•°,å› ä¸ºp&lt;0ã€‚0/x=0,æ‰€ä»¥0ä¸å½±å“ x /= retain_prob return(x)# å¯¹dropoutçš„æµ‹è¯•ï¼Œå¤§å®¶å¯ä»¥è·‘ä¸€ä¸‹ä¸Šé¢çš„å‡½æ•°ï¼Œäº†è§£ä¸€ä¸ªè¾“å…¥xå‘é‡ï¼Œç»è¿‡dropoutçš„ç»“æœx = np.asarray([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], dtype=np.float32)dropout(x, 0.2) å‚è€ƒæ–‡çŒ®[1] è¯¦è§£æ·±åº¦å­¦ä¹ ä¸­çš„Normalizationï¼ŒBN/LN/WN:https://zhuanlan.zhihu.com/p/33173246[2]æ·±åº¦å­¦ä¹ ä¸­DropoutåŸç†è§£æ[3]Batch Normalizationåæ–¹å‘ä¼ æ’­æ±‚å¯¼[4]Batch Normalizationæ¢¯åº¦åå‘ä¼ æ’­æ¨å¯¼","categories":[{"name":"åˆ·é¢˜","slug":"åˆ·é¢˜","permalink":"http://www.cloudcver.com/categories/%E5%88%B7%E9%A2%98/"}],"tags":[]},{"title":"æ·±åº¦å­¦ä¹ åŸºç¡€é—®é¢˜æ€»ç»“ï¼ˆä¸€ï¼‰","slug":"æ·±åº¦å­¦ä¹ åŸºç¡€é—®é¢˜æ€»ç»“ï¼ˆä¸€ï¼‰","date":"2019-12-08T02:41:15.000Z","updated":"2019-12-15T13:17:50.327Z","comments":true,"path":"2019/12/08/æ·±åº¦å­¦ä¹ åŸºç¡€é—®é¢˜æ€»ç»“ï¼ˆä¸€ï¼‰/","link":"","permalink":"http://www.cloudcver.com/2019/12/08/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93%EF%BC%88%E4%B8%80%EF%BC%89/","excerpt":"æ¿€æ´»å‡½æ•°ï¼›æ¢¯åº¦æ¶ˆå¤±æ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼›æŸå¤±å‡½æ•°ï¼›åå‘ä¼ æ’­ï¼›","text":"æ¿€æ´»å‡½æ•°ï¼›æ¢¯åº¦æ¶ˆå¤±æ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼›æŸå¤±å‡½æ•°ï¼›åå‘ä¼ æ’­ï¼› ä¸€ã€æ¿€æ´»å‡½æ•°1.ä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°ï¼Ÿæ¿€æ´»å‡½æ•°æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿæ¿€æ´»å‡½æ•°æ˜¯åœ¨ç¥ç»ç½‘ç»œæ¯ä¸€å±‚å·ç§¯æˆ–è€…å…¨è¿æ¥åçš„éçº¿æ€§å‡½æ•°éƒ¨åˆ†ã€‚å¥¹æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿå¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°åªæœ‰å‰é¢çš„å…¨è¿æ¥çš„è¯ï¼Œç›¸å½“äºæ•´ä¸ªç¥ç»ç½‘ç»œåªæœ‰çº¿æ€§å‡½æ•°ï¼Œæ¯ä¸€å±‚éƒ½æ˜¯æƒé‡ä¸è¾“å…¥çš„ä¹˜æœºï¼Œç½‘ç»œçš„æ‹Ÿåˆèƒ½åŠ›æœ‰é™ã€‚æ­£å› ä¸ºä¸Šé¢çš„åŸå› ï¼Œæˆ‘ä»¬å†³å®šå¼•å…¥éçº¿æ€§å‡½æ•°ä½œä¸ºæ¿€åŠ±å‡½æ•°ï¼Œè¿™æ ·æ·±å±‚ç¥ç»ç½‘ç»œè¡¨è¾¾èƒ½åŠ›å°±æ›´åŠ å¼ºå¤§ï¼ˆä¸å†æ˜¯è¾“å…¥çš„çº¿æ€§ç»„åˆï¼Œè€Œæ˜¯å‡ ä¹å¯ä»¥é€¼è¿‘ä»»æ„å‡½æ•°ï¼‰ã€‚ 2.å¸¸è§çš„æ¿€æ´»å‡½æ•°è®°ä½ä¸‹å›¾å°±å¯ä»¥äº† 3.ä¸ºå•¥reluç”¨çš„æ¯”è¾ƒå¤šï¼Ÿreluçš„ä¼˜ç‚¹ï¼Ÿ1ã€sigmoidæ¿€æ´»å‡½æ•°ä»¥åŠtanhæ¿€æ´»å‡½æ•°å®¹æ˜“äº§ç”Ÿæ¢¯åº¦æ¶ˆå¤±ç°è±¡ï¼›reluè§£å†³äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚2ã€sigmoidè®¡ç®—é‡è¾ƒå¤§ï¼Œè€Œreluè®¡ç®—é‡è¾ƒå°ã€‚é€Ÿåº¦å¿«3ã€reluä¼šä½¿å¾—è´Ÿæ•°ä¸º0ï¼Œä½¿å¾—ç½‘ç»œå…·æœ‰ä¸€å®šç¨€ç–æ€§ï¼Œæé«˜ç½‘ç»œè¡¨è¾¾èƒ½åŠ›ï¼ŒæŠ—è¿‡æ‹Ÿåˆç‰¹æ€§ã€‚ï¼ˆä½†æ˜¯è¿™ä¹Ÿä½¿å¾—ä¸€äº›ç¥ç»å…ƒæœªè¢«æ¿€æ´»â€¦.ï¼‰ 4.ä¸ºå•¥sigmoidä¼šæœ‰æ¢¯åº¦æ˜¾ç¤ºç°è±¡ï¼Ÿçœ‹ç¬¬äºŒéƒ¨åˆ†â€œæ¢¯åº¦æ¶ˆå¤±â€ äºŒã€æ¢¯åº¦æ¶ˆå¤±ã€æ¢¯åº¦çˆ†ç‚¸1.æ¢¯åº¦æ¶ˆå¤±çš„ä¾‹å­ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºä¸€ä¸ªå«æœ‰20å±‚éšè—å±‚çš„ç®€å•ç¥ç»ç½‘ç»œæ¥è¯´ï¼Œå½“æ¢¯åº¦æ¶ˆå¤±å‘ç”Ÿæ—¶ï¼Œæ¥è¿‘äºè¾“å‡ºå±‚çš„éšè—å±‚ç”±äºå…¶æ¢¯åº¦ç›¸å¯¹æ­£å¸¸ï¼Œæ‰€ä»¥æƒå€¼æ›´æ–°æ—¶ä¹Ÿå°±ç›¸å¯¹æ­£å¸¸ï¼Œä½†æ˜¯å½“è¶Šé è¿‘è¾“å…¥å±‚æ—¶ï¼Œç”±äºæ¢¯åº¦æ¶ˆå¤±ç°è±¡ï¼Œä¼šå¯¼è‡´é è¿‘è¾“å…¥å±‚çš„éšè—å±‚æƒå€¼æ›´æ–°ç¼“æ…¢æˆ–è€…æ›´æ–°åœæ»ã€‚è¿™å°±å¯¼è‡´åœ¨è®­ç»ƒæ—¶ï¼Œåªç­‰ä»·äºåé¢å‡ å±‚çš„æµ…å±‚ç½‘ç»œçš„å­¦ä¹ ã€‚æ³¨æ„ï¼šæµ…å±‚æ˜¯æŒ‡é è¿‘è¾“å‡ºç«¯ï¼›æ·±å±‚æ˜¯é è¿‘è¾“å…¥ç«¯çš„ï¼› 2.æ¢¯åº¦æ¶ˆå¤±ä¸æ¢¯åº¦çˆ†ç‚¸æ¢¯åº¦è®¡ç®—å‰å±‚ä¸Šçš„æ¢¯åº¦çš„è®¡ç®—æ¥è‡ªäºåå±‚ä¸Šæ¢¯åº¦çš„ä¹˜ç§¯ï¼ˆé“¾å¼æ³•åˆ™ï¼‰ã€‚å½“å±‚æ•°å¾ˆå¤šæ—¶ï¼Œå°±å®¹æ˜“å‡ºç°ä¸ç¨³å®šã€‚å¦‚æœæ¿€æ´»å‡½æ•°æ±‚å¯¼åä¸æƒé‡ç›¸ä¹˜çš„ç§¯å¤§äº1ï¼Œé‚£ä¹ˆå±‚æ•°å¢å¤šçš„æ—¶å€™ï¼Œæœ€ç»ˆçš„æ±‚å‡ºçš„æ¢¯åº¦æ›´æ–°ä¿¡æ¯å°†ä»¥æŒ‡æ•°å½¢å¼å¢åŠ ï¼Œå³å‘ç”Ÿæ¢¯åº¦çˆ†ç‚¸ï¼Œå¦‚æœæ­¤éƒ¨åˆ†å°äº1ï¼Œé‚£ä¹ˆéšç€å±‚æ•°å¢å¤šï¼Œæ±‚å‡ºçš„æ¢¯åº¦æ›´æ–°ä¿¡æ¯å°†ä¼šä»¥æŒ‡æ•°å½¢å¼è¡°å‡ï¼Œå³å‘ç”Ÿäº†æ¢¯åº¦æ¶ˆå¤±ã€‚ 3.åˆ†æsigmoidæ¢¯åº¦æ¶ˆå¤±sigmoidçš„å‡½æ•°æ±‚å…¶å¯¼æ•°å¾—åˆ°ä¸‹å›¾ï¼Œå¯ä»¥çœ‹å‡ºå½“xä¸º0æ—¶æ¢¯åº¦æœ€å¤§ä¸º0.25ï¼Œè€Œä¸”å½“xç¨å¾®åå¤§æˆ–è€…åå°ä¼šè¶‹è¿‘äº0ã€‚ä¸¤ä¸ªè§’åº¦ç†è§£ï¼šAï¼‰ä¸€ä¸ªæ¢¯åº¦æœ€å¤§ä¸º0.25ï¼Œå½“å±‚æ•°å¢åŠ åï¼Œä¸æ–­å‘æ·±å±‚ä¼ æ’­ä¼šå‡ºç°0.25*0.25â€¦è¶Šæ¥è¶Šå°ï¼Œæ¢¯åº¦æ¶ˆå¤±ã€‚Bï¼‰æŸä¸€å±‚æ¢¯åº¦å¯èƒ½ä¼šå› ä¸ºè¾“å…¥è¿‡å¤§å¯¼è‡´å‡ºç°ä¸º0çš„æ—¶å€™å‘å‰ä¼ æ’­å°±å±é™©äº†ï¼æ¢¯åº¦ä¼šéšç€è¾“å…¥çš„å˜åŒ–è€Œå˜åŒ–ã€‚é‚£ä¹ˆä¸ºå•¥äººå®¶reluå°±å¥½å‘¢ï¼ï¼ï¼reluå…¶å®é•¿å¾—éå¸¸åƒä¸€ä¸ªçº¿æ€§å‡½æ•°ã€‚ï¼ˆè®¤çœŸçœ‹ï¼ï¼‰ 1ï¼‰sigmoidå‡½æ•°çš„æ¢¯åº¦éšç€xçš„å¢å¤§æˆ–å‡å°å’Œæ¶ˆå¤±ï¼Œè€ŒReLUä¸ä¼šã€‚è¾“å…¥å¤§äº0å°±æ˜¯1ï¼Œè¾“å…¥å°äº0å°±æˆªæ­¢äº†ã€‚ï¼ˆè¿™ä¸€ç‚¹å‘¢ï¼Œåæ¥å‡ºç°leakReluï¼‰2ï¼‰å®ƒè®©è´Ÿæ•°è¾“å…¥çš„æ—¶å€™ä¸º0.1xï¼Œç¨å¾®æ¿€æ´»ä¸€ä¸‹â€¦ç¼“è§£reluçš„è´Ÿæ•°ä¸º0çš„é—®é¢˜ï¼Œä½†æ˜¯æˆ‘è€ƒè™‘æŒ‰ç…§sigmoidçš„ç¬¬ä¸€æ¡é—®é¢˜çš„è¯leakreluä¹Ÿæœ‰ï¼Œè´Ÿæ•°ä¸º0.1ï¼Œä¸æ–­ä¼ æ’­å°±è¶Šæ¥è¶Šå°ï¼Œä½†æ˜¯å‘¢ï¼Œä»–æ²¡æœ‰è¶‹è¿‘äº0çš„æ—¶å€™ï¼Œæ‰€ä»¥ç›¸å¯¹äºsigmoidå¥½å¤ªå¤šï¼ï¼ï¼ï¼ï¼ 4.è§£å†³æ¢¯åº¦æ¶ˆå¤±çš„æ–¹æ³•1ã€æ¢æ¿€æ´»å‡½æ•°2ã€æ®‹å·®ç½‘ç»œï¼ˆè¿™ä¸ªåé¢è¯¦ç»†è¯´ï¼‰å°±æ˜¯ä¸‹é¢è¿™ä¸ªå›¾ï¼Œå½“åˆå°±æ˜¯æœ‰äº†å®ƒï¼Œç½‘ç»œçš„å±‚æ•°ç“¶é¢ˆæ‰“å¼€äº†ï¼ï¼å¯ä»¥çœ‹å‡ºåä¸€å±‚æœ‰ä¸€ä¸ª +x ï¼Œæ¢¯åº¦å°±æ˜¯+1ï¼Œè¿™ä¸ªå¥½ï¼Œæ¢¯åº¦ä¸ä¼šå˜çš„è¶Šæ¥è¶Šå°äº†ã€‚ç½‘ç»œå†æ·±ä¹Ÿä¸ä¼šæ¶ˆå¤±äº†ã€‚3ã€BNæ‰¹é‡è§„èŒƒåŒ–ï¼ˆBatchNormalizationï¼‰è€ç‰›é€¼äº†ï¼Œç°åœ¨å‡ ä¹æ‰€æœ‰çš„ç½‘ç»œéƒ½åŠ ä¸ªè¿™ä¸ªï¼åé¢è¯¦ç»†è¯´4ã€LSTMç½‘ç»œè¿™ä¸ªå¾ªç¯ç¥ç»ç½‘ç»œå…·æœ‰è®°å¿†åŠŸèƒ½ï¼Œå¯ä»¥ç¼“è§£æ¢¯åº¦æ¶ˆå¤±ã€‚5ã€æƒé‡åˆå§‹åŒ–æ³¨æ„ä¸€ä¸‹æ¯”å¦‚ç”¨ä¸ªé«˜æ–¯åˆ†å¸ƒåˆå§‹åŒ–ï¼›å› ä¸ºæœ‰ä¸€éƒ¨åˆ†åŸå› åœ¨äºæƒé‡åˆå§‹åŒ–å€¼è¿‡é«˜å¯¼è‡´å‡½æ•°çš„å€¼å‘ç”Ÿæ¢¯åº¦çˆ†ç‚¸ 5.å®éªŒè¿‡ç¨‹ä¸­æ€ä¹ˆå‘ç°æ˜¯å¦æœ‰æ¢¯åº¦æ¶ˆå¤±æˆ–è€…æ¢¯åº¦çˆ†ç‚¸ï¼Ÿ1ã€æˆ‘ä»¬ä¼šçœ‹ä¸€ä¸‹æŸäº›å±‚çš„æ¢¯åº¦å˜åŒ–ï¼Œæ˜¯å¦å‡ºç°è¶Šæ¥è¶Šå°ï¼Œæ˜¯å¦å‡ºç°çˆ†è¡¨ã€‚2ã€æƒé‡æ˜¯å¦ä¼šå˜ä¸ºNanï¼Ÿ3ã€æ¢¯åº¦å¿«é€Ÿå˜å¤§å˜å°ã€‚ ä¸‰ã€æŸå¤±å‡½æ•°1.äº¤å‰ç†µæ·±åº¦å­¦ä¹ ä¸­ä¸€èˆ¬ç”¨äº¤å‰ç†µè¿™ä¸ªæŸå¤±å‡½æ•°ã€‚äº¤å‰ç†µæŸå¤±å‡½æ•°åˆ»ç”»çš„æ˜¯ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„è·ç¦»ã€‚å¦‚ä¸‹å¼ï¼Œäº¤å‰ç†µåˆ»ç”»çš„çš„æ˜¯é€šè¿‡æ¦‚ç‡åˆ†å¸ƒqæ¥è¡¨è¾¾æ¦‚ç‡åˆ†å¸ƒpçš„å›°éš¾ç¨‹åº¦ï¼Œå…¶ä¸­pä¸ºçœŸå®åˆ†å¸ƒï¼Œqä¸ºé¢„æµ‹ï¼Œäº¤å‰ç†µè¶Šå°ï¼Œä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒè¶Šæ¥è¿‘ã€‚åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå¯¹äºä¸€ä¸ªå¤šåˆ†ç±»é—®é¢˜ï¼Œä¸€èˆ¬ç”¨softmaxå°†æœ€åçš„å…¨è¿æ¥å±‚å•¥çš„è½¬ä¸ºä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„æƒ…å†µï¼Œsoftmaxå¦‚ä¸‹å¼ã€‚å…¶å®å°±æ˜¯ç”¨äº†ä¸ªæŒ‡æ•°ï¼Œç„¶ååˆ†æ¯æ˜¯æ¯ä¸ªæ•°æ®æ‰€å¯¹åº”å„ç±»å¾—åˆ†çš„æ€»å’Œï¼Œåˆ†å­æ˜¯ä»–çš„æ ‡ç­¾ç±»æ‰€å¯¹åº”çš„åˆ†æ•°ï¼Œè¿™æ ·å°±è½¬ä¸ºä¸€ä¸ªæ¦‚ç‡äº†ã€‚å†ç”¨ä¸Šé¢é‚£ä¸ªäº¤å‰ç†µã€‚å®é™… 2.ä¸ºå•¥äººä»¬é€‰æ‹©äº¤å‰ç†µäº¤å‰ç†µçš„æ›²çº¿å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»–æ˜¯ä¸€ä¸ªå‡¸å‡½æ•°ï¼Œæœ‰ä¸€ä¸ªæœ€ä½ç‚¹ï¼Œåˆ©äºlossæ¢¯åº¦ä¸‹é™æ³•ä¼˜åŒ–ã€‚ 3.å›å½’é—®é¢˜æŸå¤±å‡½æ•°å‡æ–¹å·®ï¼ˆMES, Mean square errorï¼‰å‡æ–¹æ ¹è¯¯å·®RMSE å‚è€ƒæ–‡çŒ®[1]æ·±åº¦å­¦ä¹ ä¸­å¸¸ç”¨æŸå¤±å‡½æ•°https://blog.csdn.net/Tianlock/article/details/88232467","categories":[{"name":"åˆ·é¢˜","slug":"åˆ·é¢˜","permalink":"http://www.cloudcver.com/categories/%E5%88%B7%E9%A2%98/"}],"tags":[]},{"title":"ç®—æ³•å²—ä½å®ä¹ &å·¥ä½œéœ€æ±‚æ€»ç»“","slug":"ç®—æ³•å²—ä½å®ä¹ &å·¥ä½œéœ€æ±‚æ€»ç»“","date":"2019-12-03T09:45:39.000Z","updated":"2019-12-03T09:32:16.484Z","comments":true,"path":"2019/12/03/ç®—æ³•å²—ä½å®ä¹ &å·¥ä½œéœ€æ±‚æ€»ç»“/","link":"","permalink":"http://www.cloudcver.com/2019/12/03/%E7%AE%97%E6%B3%95%E5%B2%97%E4%BD%8D%E5%AE%9E%E4%B9%A0&%E5%B7%A5%E4%BD%9C%E9%9C%80%E6%B1%82%E6%80%BB%E7%BB%93/","excerpt":"","text":"æœ¬å¸–æ€»ç»“ä¸€äº›ç®—æ³•å²—ä½å®ä¹ &amp;å·¥ä½œçš„è¦æ±‚ï¼›é™†ç»­ä¼šè¡¥ä¸€äº›é¢ç»ã€‚ è®¡ç®—æœºè§†è§‰ç®—æ³•å®ä¹  åŸºæœ¬æ¡ä»¶ï¼š ç†Ÿæ‚‰æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ˆTensorflow/Torch/Keras/Caffeï¼‰ï¼› äº†è§£åŸºæœ¬æ·±åº¦å­¦ä¹ ç½‘ç»œï¼ˆCNNï¼ŒRNNï¼‰ï¼ˆRNNåº”è¯¥æ˜¯åœ¨è§†é¢‘ç†è§£æˆ–è€…NLPä¸­åº”ç”¨å¤šï¼‰ ç†Ÿæ‚‰Pythonè¯­è¨€ï¼›æœ‰æ—¶ä¹Ÿéœ€è¦C++ã€JAVAï¼› ç†Ÿæ‚‰Linuxç³»ç»Ÿï¼ˆå…¬å¸ä¸€èˆ¬éƒ½æ˜¯æœåŠ¡å™¨ä¸‹æ“ä½œï¼‰ï¼ŒShellç¼–ç¨‹ï¼› ç†Ÿæ‚‰å¸¸è§çš„è®¡ç®—æœºè§†è§‰çš„åº”ç”¨æ–¹å‘ï¼›ä»¥ä¸‹æˆ‘æ€»ç»“çš„ä½†ä¸é™äºå›¾åƒåˆ†ç±»ï¼ˆï¼‰ã€ç›®æ ‡æ£€æµ‹ï¼ˆDetectionï¼‰ã€è¯­ä¹‰åˆ†å‰²ï¼ˆsematic segmentationï¼‰ã€æ¨¡å‹å‹ç¼©ã€å¼±ç›‘ç£ï¼ˆweakly supervised learningï¼‰ã€è¶…åˆ†è¾¨ç‡é‡å»ºï¼ˆsuper resolutionï¼‰ã€ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰ ç†Ÿæ‚‰ç»å…¸çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆbackboneåŸºæœ¬ç»“æ„ï¼‰ äº†è§£MLç®—æ³•ï¼ˆBoostingã€SVMâ€¦ï¼‰ ä¼˜å…ˆæ¡ä»¶ï¼š æœ‰é¡¶ä¼šè®ºæ–‡/å®é™…é¡¹ç›®è½åœ°ç»éªŒè€…ï¼›ï¼ˆä¸€èˆ¬æ™®é€šå®éªŒå®¤æ²¡æœ‰é¡¶ä¼šâ€¦é‚£å°±å¾—æœ‰å®ä¹ ç»å†æˆ–è€…è€æ¿æœ‰é¡¹ç›®â€¦ä¸ç„¶å°±çœ‹æ„¿ä¸æ„¿æ„åŸ¹å…»ä½ ï¼‰ é‡å¤§æ¯”èµ›æˆ–è€…ç«èµ›æœ‰è£èª‰ï¼›åœ¨Githubä¸Šæœ‰å½±å“å¤§çš„å¼€æºä»£ç ï¼› è‡ªç„¶è¯­è¨€ç®—æ³•å®ä¹ é¢è¯• ç®€å†ä¸Šé¡¹ç›®åˆ†æï¼›å¬ä¸€ä¸‹åšäº†å•¥ï¼Œä»¥åŠä½ çš„å·¥ä½œä¸å·¥ä½œé‡ï¼› åŸºç¡€çŸ¥è¯†ï¼šæ·±åº¦å­¦ä¹ ï¼ˆDropOutã€è¿‡æ‹Ÿåˆã€å„ç§ä½ çŸ¥é“çš„ç½‘ç»œâ€¦ï¼‰ ç¼–ç¨‹é¢˜ï¼ˆå¿…é¡»åˆ·é¢˜ï¼Œå…¶å®å¤§å®¶éƒ½æ˜¯åˆ·é¢˜ï¼Œä½†æ˜¯é¢è¯•å®˜å‡ ä¹éƒ½ä¼šè€ƒï¼Œé‚£å°±åªèƒ½å¹²äº†ï¼ï¼‰ é¢ç»","categories":[{"name":"å·¥ä½œ","slug":"å·¥ä½œ","permalink":"http://www.cloudcver.com/categories/%E5%B7%A5%E4%BD%9C/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://www.cloudcver.com/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-11-21T14:24:30.256Z","updated":"2019-11-21T14:24:30.256Z","comments":true,"path":"2019/11/21/hello-world/","link":"","permalink":"http://www.cloudcver.com/2019/11/21/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"from tensorflow.python.keras.utils import tf_utils ImportError':' cannot import name 'tf_utils'","slug":"from tensorflow.python.keras.utils import tf_utils ImportError_ cannot import name 'tf_utils'","date":"2019-11-16T04:45:39.000Z","updated":"2019-11-27T13:05:46.727Z","comments":true,"path":"2019/11/16/from tensorflow.python.keras.utils import tf_utils ImportError_ cannot import name 'tf_utils'/","link":"","permalink":"http://www.cloudcver.com/2019/11/16/from%20tensorflow.python.keras.utils%20import%20tf_utils%20ImportError_%20cannot%20import%20name%20'tf_utils'/","excerpt":"Debug:åœ¨å®‰è£…keraså‡ºç°é—®é¢˜","text":"Debug:åœ¨å®‰è£…keraså‡ºç°é—®é¢˜ é—®é¢˜ï¼š12from tensorflow.python.keras.utils import tf_utilsImportError: cannot import name 'tf_utils' åŸå› ï¼šSeems like it was a problem with keras 2.3.0, I installed keras 2.1.5 using pip and it works fine. è§£å†³æ–¹æ¡ˆï¼š1pip install keras==2.1.5 -i https://pypi.tuna.tsinghua.edu.cn/simple å‚è€ƒæ¥æºhttps://stackoverflow.com/questions/57985406/cannot-import-name-tf-utils-when-using-importing-keras","categories":[{"name":"Debug","slug":"Debug","permalink":"http://www.cloudcver.com/categories/Debug/"}],"tags":[{"name":"keras","slug":"keras","permalink":"http://www.cloudcver.com/tags/keras/"}]},{"title":"anaconda + python3.6å®‰è£…","slug":"ancondaç‰ˆæœ¬å·å¯¹åº”pythonç‰ˆæœ¬","date":"2019-11-09T09:45:39.000Z","updated":"2019-11-23T10:19:48.540Z","comments":true,"path":"2019/11/09/ancondaç‰ˆæœ¬å·å¯¹åº”pythonç‰ˆæœ¬/","link":"","permalink":"http://www.cloudcver.com/2019/11/09/anconda%E7%89%88%E6%9C%AC%E5%8F%B7%E5%AF%B9%E5%BA%94python%E7%89%88%E6%9C%AC/","excerpt":"","text":"anaconda + python3.6å®‰è£… æ¸…åé•œåƒè¿æ¥https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[{"name":"anaconda","slug":"anaconda","permalink":"http://www.cloudcver.com/tags/anaconda/"}]},{"title":"å¤šå…‰è°±çŸ¥è¯†æ€»ç»“","slug":"å¤šå…‰è°±","date":"2019-11-09T09:45:39.000Z","updated":"2019-12-01T08:49:28.824Z","comments":true,"path":"2019/11/09/å¤šå…‰è°±/","link":"","permalink":"http://www.cloudcver.com/2019/11/09/%E5%A4%9A%E5%85%89%E8%B0%B1/","excerpt":"","text":"anaconda + python3.6å®‰è£… å¤šå…‰è°±çŸ¥è¯†æ€»ç»“1ã€ä»€ä¹ˆæ˜¯å¤šå…‰è°±ï¼Ÿå¤šå…‰è°±æˆåƒæŠ€æœ¯æ˜¯åŸºäºæ¶²æ™¶å¯è°ƒè°æ»¤æ³¢ï¼ˆLCTF)æŠ€æœ¯ï¼Œå¯åœ¨ä¸åŒæ³¢é•¿å¤„ï¼ˆ420ä¸€720nmï¼‰æ£€æµ‹è§å…‰æ¢é’ˆæˆ–æŸ“æ–™åœ¨ç»†èƒæˆ–ç»„ç»‡ä¸­çš„åˆ†å¸ƒï¼Œå¯è·å–å„ç§æ³¢é•¿èŒƒå›´å†…çš„æ‰€æœ‰ä¿¡å·ï¼Œé€šè¿‡å…‰è°±å­¦çš„åŸç†ï¼Œå¯å°†æ¯ä¸€ç§è‰²åŸæˆ–æŸ“æ–™åˆ†ç¦»æˆå•ç‹¬çš„å›¾åƒï¼Œå®Œå…¨å»é™¤æ ·æœ¬çš„è‡ªå‘è§å…‰ï¼Œå¯æ˜æ˜¾æé«˜ç»„ç»‡åˆ‡ç‰‡æˆåƒçš„ä¿¡å™ªæ¯”ï¼Œè¿˜å¯å°†æ¯ç§ä¿¡å·è¿›è¡Œå•ç‹¬åˆ†ç¦»ã€å®šé‡ï¼Œä¸ºå¤šæŒ‡æ ‡æ£€æµ‹æä¾›å¯è¡Œæ€§ï¼Œä½¿ä¹‹åœ¨ç—…ç†è¯Šæ–­ä¸­æœ‰ç€å¾ˆå¥½çš„åº”ç”¨ä»·å€¼ã€‚ç®€å•çš„è¯´å°±æ˜¯çœ‹çœ‹å®ƒåœ¨ä¸åŒæ³¢æ®µä¸‹æ˜¯å¦æ¯”RGBæ˜¾ç¤ºæƒ…å†µä¸‹è¡¨ç°æ›´æ¸…æ™°ã€‚2ã€å¤šå…‰è°±æˆåƒå›¾åƒçš„è¯„ä»·æŒ‡æ ‡2.1 å›¾åƒäº®åº¦ä¿¡æ¯æ³•å¯¹å¤šå…‰è°±å›¾åƒçš„æ¯ä¸ªæ³¢æ®µæ¥è®²ï¼Œäººçœ¼è¯†åˆ«ç°åº¦å›¾åƒçš„æœ€å¤§é™åº¦å–å†³äºç°åº¦å›¾åƒçš„äº®åº¦å€¼å¤§å°å’Œå›¾åƒçš„ç°åº¦åˆ†å¸ƒã€‚å¯ä»¥ç”¨å¹³å‡ç°åº¦å€¼è¡¡é‡ç¬¬iæ³¢æ®µç°åº¦å›¾åƒçš„äº®åº¦ï¼Œç”¨å›¾åƒçš„æ ‡å‡†å·®æ¥åº¦é‡ç°åº¦å›¾åƒçš„ç¦»æ•£ç¨‹åº¦ 2.2 åˆ¤æ–­åˆ†ç±»æ³•å¯ä»¥ç”¨æ·±åº¦å­¦ä¹ çš„æ–¹æ³•å¯¹å›¾åƒåšåˆ†ç±»å®éªŒï¼Œæµ‹è¯•å…¶å¯¹åˆ†ç±»çš„å½±å“ï¼Œæˆ–è€…çœ‹å…¶æå–çš„ç‰¹å¾çš„æ¬§å¼è·ç¦»å·®åˆ«çš„å¤§å°ã€‚3ã€ ä¸€äº›è®ºæ–‡åº”ç”¨3.1 é©¬é“ƒè–¯çš„æœ€ä½³å…‰è°±èŒƒå›´è®ºæ–‡é€šè¿‡å¯¹å¤šç«¯æ³¢é•¿è¿›è¡Œäº†å®éªŒæœ€ç»ˆç»™å‡ºäº†é©¬é“ƒè–¯çš„æœ€ä½³å…‰è°±èŒƒå›´ä¸º475ï¼Œ558ï¼Œ680ï¼Œ715ï¼Œ750ï¼Œ800ï¼Œ850ï¼ˆå•ä½nmï¼‰ã€‚3.2 å››å­£è±†å¶ç‰‡çš„ç‰¹å¾æ³¢æ®µå¯¹400ï½720nmæ³¢æ®µèŒƒå›´çš„å¤šå…‰è°±å›¾åƒæ³¢æ®µæ•°æ®è¿›è¡Œä¼˜åŒ–ï¼Œé€‰å–äº†ç°åº¦åˆ†å¸ƒç¦»æ•£ã€å›¾åƒäº®åº¦ä¿¡æ¯å¤§ä¸”ä¸å…¶ä»–æ³¢æ®µç›¸å…³æ€§å°çš„å››å­£è±†å¶ç‰‡ç‰¹å¾æ³¢æ®µã€‚æ ¹æ®å„æ³¢æ®µå›¾åƒçš„æ³¢æ®µæŒ‡æ•°å€¼å’Œå¯è¯†åˆ«åº¦ï¼Œä»å¤§é‡æ³¢æ®µæ•°æ®ä¸­é€šè¿‡æ¯”è¾ƒä¸¤ç§æ–¹æ³•è·å–äº†å››å­£è±†å¶ç‰‡çš„ç‰¹å¾æ³¢æ®µï¼Œå¾—å‡º545ã€630ã€645ã€720ã€650 å’Œ570nmæ³¢æ®µå¯¹å››å­£è±†å¶ç‰‡çš„åˆ†ç±»å‡æ¯”è¾ƒç†æƒ³ã€‚","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"http://www.cloudcver.com/categories/%E5%85%B6%E4%BB%96/"}],"tags":[{"name":"å¤šå…‰è°±","slug":"å¤šå…‰è°±","permalink":"http://www.cloudcver.com/tags/%E5%A4%9A%E5%85%89%E8%B0%B1/"}]},{"title":"pipæ¢é•œåƒå®‰è£… æ¸…åé•œåƒ è±†ç“£é•œåƒ","slug":"pipæ¢é•œåƒå®‰è£… æ¸…åé•œåƒ è±†ç“£é•œåƒ","date":"2019-10-27T09:45:39.000Z","updated":"2019-11-23T09:12:39.547Z","comments":true,"path":"2019/10/27/pipæ¢é•œåƒå®‰è£… æ¸…åé•œåƒ è±†ç“£é•œåƒ/","link":"","permalink":"http://www.cloudcver.com/2019/10/27/pip%E6%8D%A2%E9%95%9C%E5%83%8F%E5%AE%89%E8%A3%85%20%E6%B8%85%E5%8D%8E%E9%95%9C%E5%83%8F%20%E8%B1%86%E7%93%A3%E9%95%9C%E5%83%8F/","excerpt":"pipæ¢é•œåƒå®‰è£… æ¸…åé•œåƒ è±†ç“£é•œåƒ","text":"pipæ¢é•œåƒå®‰è£… æ¸…åé•œåƒ è±†ç“£é•œåƒ è±†ç“£é•œåƒæºhttps://pypi.douban.com/simple/æ¸…åé•œåƒæºhttps://pypi.tuna.tsinghua.edu.cn/simpleç¤ºä¾‹ä»£ç å®‰è£…kerasï¼ˆæ³¨æ„ï¼šâ€”userä»£è¡¨å®‰è£…åœ¨ä¸ªäººç›®å½•ä¸‹ï¼Œä¸å½±å“rootç›®å½•ï¼‰1pip3 install keras -i https://pypi.douban.com/simple/ --user","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[{"name":"pip","slug":"pip","permalink":"http://www.cloudcver.com/tags/pip/"},{"name":"æ¸…åé•œåƒ","slug":"æ¸…åé•œåƒ","permalink":"http://www.cloudcver.com/tags/%E6%B8%85%E5%8D%8E%E9%95%9C%E5%83%8F/"}]},{"title":"glibæºç ç¼–è¯‘å®‰è£…ä¸libffiæºç ç¼–è¯‘å®‰è£…","slug":"glibæºç ç¼–è¯‘å®‰è£…ä¸libffiæºç ç¼–è¯‘å®‰è£…","date":"2019-10-24T09:45:39.000Z","updated":"2019-11-23T09:11:36.703Z","comments":true,"path":"2019/10/24/glibæºç ç¼–è¯‘å®‰è£…ä¸libffiæºç ç¼–è¯‘å®‰è£…/","link":"","permalink":"http://www.cloudcver.com/2019/10/24/glib%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E4%B8%8Elibffi%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/","excerpt":"æºç å®‰è£…ï¼å•Šï¼glibæºç ç¼–è¯‘å®‰è£…ä¸libffiæºç ç¼–è¯‘å®‰è£…","text":"æºç å®‰è£…ï¼å•Šï¼glibæºç ç¼–è¯‘å®‰è£…ä¸libffiæºç ç¼–è¯‘å®‰è£… å®‰è£…glibå®‰è£…glib ä¸‹è½½glib http://ftp.acc.umu.se/pub/GNOME/sources/glib/1234tar -xvf glib-2.48.1.tar.xz./configure --prefix=/home/meng/software/glibmake -j12make installä¹‹åéœ€è¦é…ç½®ç¯å¢ƒéå†ã€‚1export PKG_CONFIG_PATH=$HOME/menglingjun/software/glib/lib/pkgconfig ä½ å¯èƒ½ä¼šä¼šé‡åˆ°è¿™ä¸ªé”™è¯¯ï¼Œç¼ºå°‘libffiï¼Œç›´æ¥åˆ°å®‰è£…libffi12345678No package 'libffi' foundConsider adjusting the PKG_CONFIG_PATH environment variable if youinstalled software in a non-standard prefix.Alternatively, you may set the environment variables LIBFFI_CFLAGSand LIBFFI_LIBS to avoid the need to call pkg-config.See the pkg-config man page for more details. ä½ å¯èƒ½ä¼šä¼šé‡åˆ°è¿™ä¸ªé”™è¯¯ï¼Œç¼ºå°‘libffiï¼Œç›´æ¥åˆ°å®‰è£…libpcre123configure: error: Package requirements (libpcre &gt;= 8.13) were not met:No package 'libpcre' found å®‰è£…libffiå»å®˜ç½‘ä¸‹è½½libffi http://sourceware.org/libffi/ï¼Œç„¶åè§£å‹ï¼Œconfigureï¼Œç¼–è¯‘makeï¼Œå®‰è£…installã€‚è¿™é‡Œéœ€è¦æ³¨æ„å¦‚æœä¸æ˜¯rootå°±éœ€è¦è£…åœ¨è‡ªå·±çš„ç›®å½•ä¸‹ï¼Œconfigéœ€è¦åŠ ä¸Šprefixå‚æ•°12345tar xf libffi-3.0.0.tar.gzcd libffi-3.0.0./configure --prefix=/home/meng/software/libffimake -j12make installä¹‹åéœ€è¦é…ç½®ç¯å¢ƒéå†ã€‚1234export LIBFFI_CFLAGS=-I$HOME/menglingjun/software/libffi/lib/libffi-3.2.1/includeexport LIBFFI_LIBS=$HOME/menglingjun/software/libffi/lib/libffi.laexport C_INCLUDE_PATH=$HOME/menglingjun/software/libffi/lib/libffi-3.2.1/include/export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$HOME/menglingjun/software/libffi/lib/pkgconfig å®‰è£…libpcrehttps://sourceforge.net/projects/pcre/files/pcre/ 1234tar -jxvf pcre-8.39.tar.bz2./configure --prefix=/home/menglingjun/menglingjun/software/pcre/make -j12make install é…ç½®ç¯å¢ƒå˜é‡1export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$HOME/menglingjun/software/pcre/lib/pkgconfig å‚è€ƒåšå®¢https://www.cnblogs.com/pcat/p/5520317.html","categories":[{"name":"LINUX","slug":"LINUX","permalink":"http://www.cloudcver.com/categories/LINUX/"}],"tags":[{"name":"glib","slug":"glib","permalink":"http://www.cloudcver.com/tags/glib/"},{"name":"libffi","slug":"libffi","permalink":"http://www.cloudcver.com/tags/libffi/"}]},{"title":"YouTube-8M feature extraction bug","slug":"YouTube-8M feature extraction bug","date":"2019-10-23T10:45:39.000Z","updated":"2019-11-23T09:14:33.299Z","comments":true,"path":"2019/10/23/YouTube-8M feature extraction bug/","link":"","permalink":"http://www.cloudcver.com/2019/10/23/YouTube-8M%20feature%20extraction%20bug/","excerpt":"æºç ç¼–è¯‘OPENCV C++ç‰ˆæœ¬ linux","text":"æºç ç¼–è¯‘OPENCV C++ç‰ˆæœ¬ linux YouTube-8M feature extraction bugè®°å½• Error 1 fatal error: opencv2/core.hpp: No such file or directory1234567ERROR: /data/menglingjun/mediapipe/mediapipe/framework/formats/BUILD:163:1: C++ compilation of rule '//mediapipe/framework/formats:image_frame_opencv' failed (Exit 1) gcc failed: error executing command /usr/local/gcc/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections ... (remaining 70 argument(s) skipped)Use --sandbox_debug to see verbose messages from the sandboxIn file included from ./mediapipe/framework/formats/image_frame_opencv.h:20:0, from mediapipe/framework/formats/image_frame_opencv.cc:15:./mediapipe/framework/port/opencv_core_inc.h:18:36: fatal error: opencv2/core/version.hpp: No such file or directorycompilation terminated. æ²¡æœ‰æ‰¾åˆ°opencv2/core/version.hppè§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹./mediapipe/framework/port/opencv_core_inc.hä¸­çš„è·¯å¾„ï¼Œæˆ‘çš„æ˜¯opencv4ï¼Œåœ¨è·¯å¾„/opencv/include/opencv4/opencv2ä¸‹ï¼Œæ‰€ä»¥æ”¹ä¸º123456#include &lt;opencv4/opencv2/core/version.hpp&gt;#ifdef CV_VERSION_EPOCH // for OpenCV 2.x#include &lt;opencv4/opencv2/core/core.hpp&gt;#else#include &lt;opencv4/opencv2/core/core.hpp&gt; Error2 fatal error: libavcodec/avcodec.h: No such file or directory12345ERROR: /data/menglingjun/mediapipe/mediapipe/util/BUILD:67:1: C++ compilation of rule '//mediapipe/util:audio_decoder' failed (Exit 1) gcc failed: error executing command /usr/local/gcc/bin/gcc -U_FORTIFY_SOURCE -fstack-protector -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections ... (remaining 81 argument(s) skipped)Use --sandbox_debug to see verbose messages from the sandboxIn file included from mediapipe/util/audio_decoder.cc:15:0:./mediapipe/util/audio_decoder.h:33:32: fatal error: libavcodec/avcodec.h: No such file or directory","categories":[{"name":"Debug","slug":"Debug","permalink":"http://www.cloudcver.com/categories/Debug/"}],"tags":[{"name":"YouTube-8M","slug":"YouTube-8M","permalink":"http://www.cloudcver.com/tags/YouTube-8M/"}]},{"title":"bazel æ€»ç»“","slug":"bazelå°æ€»ç»“","date":"2019-10-23T09:45:39.000Z","updated":"2019-11-23T09:09:09.618Z","comments":true,"path":"2019/10/23/bazelå°æ€»ç»“/","link":"","permalink":"http://www.cloudcver.com/2019/10/23/bazel%E5%B0%8F%E6%80%BB%E7%BB%93/","excerpt":"æœ€è¿‘åœ¨ç”¨Utube-8Mçš„mediapipeæ¡†æ¶æå–è§†é¢‘ç‰¹å¾ï¼Œç”¨åˆ°äº†bazelç¼–è¯‘ï¼Œé‡åˆ°ä¸€äº›é—®é¢˜åšä¸€äº›æ€»ç»“ã€‚","text":"æœ€è¿‘åœ¨ç”¨Utube-8Mçš„mediapipeæ¡†æ¶æå–è§†é¢‘ç‰¹å¾ï¼Œç”¨åˆ°äº†bazelç¼–è¯‘ï¼Œé‡åˆ°ä¸€äº›é—®é¢˜åšä¸€äº›æ€»ç»“ã€‚ WORKSPACEWORKSPACEä½äºä½ çš„é¡¹ç›®æ ¹ç›®å½•ï¼Œæ ‡å¿—ä½ çš„å·¥ä½œåŒºã€‚ç”¨äºå¼•å…¥å¤–éƒ¨ä¾èµ–å…³ç³»ï¼Œé€šå¸¸æ˜¯æºä»£ç ä½äºä¸»å­˜å‚¨åº“ä¹‹å¤–ã€‚ BUILDæ–‡ä»¶BUILDæ–‡ä»¶ç»™å‡ºäº†ç¼–è¯‘ç›®æ ‡çš„è§„åˆ™ï¼ŒåŒ…æ‹¬targetåç§°ï¼Œæºæ–‡ä»¶srcsï¼Œå¤´æ–‡ä»¶hdrsï¼Œä¾èµ–deps12345678cc_binary( name = &quot;hello-world&quot;, srcs = [&quot;hello-world.cc&quot;], hdrs = [&quot;hello-world.hpp&quot;, &quot;helo.hpp&quot;, ], deps = [&quot;//lib:hello-time&quot;])å…·ä½“è§„åˆ™å¯ä»¥å‚è€ƒæºç½‘ç«™https://docs.bazel.build/versions/master/be/c-cpp.html#cc_binary depsä¾èµ–å¯ä»¥åŒ…å«å†…éƒ¨ä¾èµ–ä¹Ÿå¯ä»¥åŒ…å«å¤–éƒ¨ä¾èµ–ï¼Œå†…éƒ¨ä¾èµ–è¿™é‡Œçš„è·¯å¾„æ˜¯ä»¥WORKSPACEçš„è·¯å¾„å¼€å§‹çš„ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚deps = [â€œ//lib:hello-timeâ€]ä»£è¡¨WORKSPACEè·¯å¾„ä¸‹æœ‰libæ–‡ä»¶å¤¹ï¼Œlibé‡Œé¢æœ‰hello-time.ccï¼Œå¹¶ä¸”æœ‰BUILDæ–‡ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯å†…éƒ¨ä¾èµ–ï¼Œè¿˜æ²¡æœ‰ç¼–è¯‘ï¼Œåœ¨ä½ ç¼–è¯‘ä¸»æ–‡ä»¶æ—¶ä»–ä¼šè‡ªåŠ¨é“¾æ¥å…ˆç¼–è¯‘è¿™ä¸ªæ–‡ä»¶ã€‚ å¤–éƒ¨ä¾èµ–å°±æ˜¯å¯ä»¥è°ƒç”¨ä½ å®‰è£…å¥½çš„åŒ…ï¼Œæ¯”å¦‚opencvåŒ…ï¼Œè¿™æ—¶ä½ éœ€è¦å…ˆæ”¹WORKSPACEåŠ å…¥ç¯å¢ƒï¼Œå†å†™ä¸€ä¸ªBUILDè°ƒç”¨ã€‚1ã€WORKSPACEåŠ å…¥ç¯å¢ƒï¼Œå®ƒæŒ‡å®šäº†åå­—ï¼Œpathå°±æ˜¯ç¯å¢ƒéå†ï¼Œbuild_fileå°±æ˜¯buildçš„æ–‡ä»¶å†third_partyæ–‡ä»¶å¤¹ä¸‹opencv_linux.BUILDä¸­ã€‚12345new_local_repository( name = &quot;linux_opencv&quot;, build_file = &quot;@//third_party:opencv_linux.BUILD&quot;, path = &quot;/home/menglingjun/menglingjun/software/opencv&quot;,)2ã€æ”¹opencv_linux.BUILDåŠ å…¥æºæ–‡ä»¶ï¼Œå¤´æ–‡ä»¶ï¼Œincludeå•¥çš„ï¼Œéƒ½æ˜¯ç›¸å¯¹äºä½ å‰é¢çš„path123456789101112131415161718192021cc_library( name = &quot;opencv&quot;, srcs = glob( [ &quot;lib64/libopencv_core.so&quot;, &quot;lib64/libopencv_highgui.so&quot;, &quot;lib64/libopencv_imgcodecs.so&quot;, &quot;lib64/libopencv_imgproc.so&quot;, &quot;lib64/libopencv_video.so&quot;, &quot;lib64/libopencv_videoio.so&quot;, ], ), hdrs = glob( [ &quot;include/opencv4/opencv2/**/*.h*&quot;, &quot;include/opencv4/opencv2/*.h*&quot;, ]), includes = [&quot;include/opencv4&quot;,], # [&quot;include&quot;], linkstatic = 1, visibility = [&quot;//visibility:public&quot;],)3ã€ä½ è¦ç¼–è¯‘çš„ç›®æ ‡å¦‚ä½•ä¾èµ–æŠŠopencvåŠ ä¸Šå°±å¯ä»¥äº†ã€‚12345678cc_binary( name = &quot;hello-world&quot;, srcs = [&quot;hello-world.cc&quot;], hdrs = [&quot;hello-world.hpp&quot;, &quot;helo.hpp&quot;, ], deps = [&quot;//third_party:opencv&quot;]) ç¼–è¯‘æ–‡ä»¶Test 1ç¼–è¯‘å•ç‹¬ä¸€ä¸ªç›®æ ‡åœ¨ä½ çš„WORKSPACEæ‰€åœ¨ç›®å½•ä¸‹è¿è¡Œbazel buildï¼Œè¿è¡Œmainæ–‡ä»¶å¤¹ä¸‹çš„hello-world.ccstage1 â”œâ”€â”€ main â”‚ â”œâ”€â”€ BUILD â”‚ â””â”€â”€ hello-world.cc â””â”€â”€ WORKSPACE1bazel build //main:hello-world Test 2ç¼–è¯‘å¸¦æœ‰ä¾èµ–çš„ç›®æ ‡å¦‚æœhello-world.ccçš„æ–‡ä»¶éœ€è¦è°ƒç”¨hello-greetçš„åŒ…æ­¤æ—¶å°±éœ€è¦åŠ å…¥depsä¾èµ–ã€‚buildæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º12345678910111213cc_library( name = &quot;hello-greet&quot;, srcs = [&quot;hello-greet.cc&quot;], hdrs = [&quot;hello-greet.h&quot;],)cc_binary( name = &quot;hello-world&quot;, srcs = [&quot;hello-world.cc&quot;], deps = [ &quot;:hello-greet&quot;, ],)è¿™æ ·å†ç¼–è¯‘hello-worldï¼Œbazelå°±ä¼šé¦–å…ˆç¼–è¯‘hello-greetå†å¯¹hello-world.ccè¿›è¡Œç¼–è¯‘ã€‚æŒ‡ä»¤æˆ‘ä»¬è¿˜æ˜¯ä¸€æ ·1bazel build //main:hello-world","categories":[{"name":"LINUX","slug":"LINUX","permalink":"http://www.cloudcver.com/categories/LINUX/"}],"tags":[{"name":"bazel","slug":"bazel","permalink":"http://www.cloudcver.com/tags/bazel/"}]},{"title":"mediapipe bazel build ç¼–è¯‘æç¤ºç¼–è¯‘æ‰¾ä¸åˆ°opencv4/opencv2/core/version.hpp","slug":"mediapipe bazel build ç¼–è¯‘æç¤ºç¼–è¯‘æ‰¾ä¸åˆ°opencv4_opencv2_core_version.hpp","date":"2019-10-23T08:57:39.000Z","updated":"2019-11-23T08:25:43.570Z","comments":true,"path":"2019/10/23/mediapipe bazel build ç¼–è¯‘æç¤ºç¼–è¯‘æ‰¾ä¸åˆ°opencv4_opencv2_core_version.hpp/","link":"","permalink":"http://www.cloudcver.com/2019/10/23/mediapipe%20bazel%20build%20%E7%BC%96%E8%AF%91%E6%8F%90%E7%A4%BA%E7%BC%96%E8%AF%91%E6%89%BE%E4%B8%8D%E5%88%B0opencv4_opencv2_core_version.hpp/","excerpt":"è§£å†³mediapipe bazel build ç¼–è¯‘æç¤ºç¼–è¯‘æ‰¾ä¸åˆ°opencv4/opencv2/core/version.hpp","text":"è§£å†³mediapipe bazel build ç¼–è¯‘æç¤ºç¼–è¯‘æ‰¾ä¸åˆ°opencv4/opencv2/core/version.hpp é—®é¢˜ï¼šmediapipe bazel build ç¼–è¯‘æç¤ºç¼–è¯‘æ‰¾ä¸åˆ°opencv4/opencv2/core/version.hppåˆ†æï¼šä¸»è¦åŸå› åœ¨äºæ²¡æœ‰é…ç½®å¥½bazelçš„ç¬¬ä¸‰æ–¹åº“çš„ç¯å¢ƒå˜é‡è§£å†³æ–¹æ¡ˆï¼š1ã€éœ€è¦ä¿®æ”¹æ ¹ç›®å½•ä¸‹WORKSAPCEçš„linux_opencvä»“åº“çš„pathï¼Œæ”¹åˆ°ä½ å®‰è£…çš„opencvç¯å¢ƒä½ç½®ï¼Œä¾‹å¦‚æˆ‘å®‰è£…opencv4éœ€è¦ä¿®æ”¹å¦‚ä¸‹12345new_local_repository( name = &quot;linux_opencv&quot;, build_file = &quot;@//third_party:opencv_linux.BUILD&quot;, path = &quot;/home/myname/software/opencv&quot;,)2ã€éœ€è¦ä¿®æ”¹third_party/opencv_linux.BUILDæ‰¾åˆ°opencv123456789101112131415161718cc_library( name = &quot;opencv&quot;, srcs = glob( [ &quot;lib/libopencv_core.so&quot;, &quot;lib/libopencv_highgui.so&quot;, &quot;lib/libopencv_imgcodecs.so&quot;, &quot;lib/libopencv_imgproc.so&quot;, &quot;lib/libopencv_video.so&quot;, &quot;lib/libopencv_videoio.so&quot;, ], ), hdrs = glob([&quot;include/opencv4/opencv2/*.h*&quot;ï¼Œ &quot;include/opencv4/opencv2/**/*.h*&quot; ï¼Œ ]), includes = [&quot;include/opencv4/&quot;], linkstatic = 1, visibility = [&quot;//visibility:public&quot;],)","categories":[{"name":"Debug","slug":"Debug","permalink":"http://www.cloudcver.com/categories/Debug/"}],"tags":[{"name":"bazel","slug":"bazel","permalink":"http://www.cloudcver.com/tags/bazel/"},{"name":"mediapipe","slug":"mediapipe","permalink":"http://www.cloudcver.com/tags/mediapipe/"}]},{"title":"æºç ç¼–è¯‘OPENCV C++ç‰ˆæœ¬ linux","slug":"æºç ç¼–è¯‘OPENCV C++ç‰ˆæœ¬ linux","date":"2019-10-21T09:45:39.000Z","updated":"2019-11-23T09:10:25.342Z","comments":true,"path":"2019/10/21/æºç ç¼–è¯‘OPENCV C++ç‰ˆæœ¬ linux/","link":"","permalink":"http://www.cloudcver.com/2019/10/21/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91OPENCV%20C++%E7%89%88%E6%9C%AC%20linux/","excerpt":"æºç ç¼–è¯‘OPENCV C++ç‰ˆæœ¬ linux","text":"æºç ç¼–è¯‘OPENCV C++ç‰ˆæœ¬ linux Tips 1 ä¸‹è½½ OPENCV12git clone https://github.com/opencv/opencvgit clone https://github.com/opencv/opencv Tips 2 åˆ›å»ºbuildæ–‡ä»¶å¤¹123cd opencvmkdir buildcd build Tips 3 Cmakeç¼–è¯‘æ³¨æ„ï¼šä¸€èˆ¬ç¼–è¯‘è¿‡ç¨‹ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶æ¯”è¾ƒéš¾ä¸‹è½½ï¼Œæœ€å¥½æå‰ä¸‹è½½ä¸‹æ¥ï¼Œè¿™é‡Œå‚è€ƒError2ï¼ŒError4å…ˆè§£å†³å†èµ°ä¸‹é¢æµç¨‹ã€‚ å…¶ä¸­CMAKE_INSTALL_PREFIXä»£è¡¨ä½ çš„å®‰è£…è·¯å¾„-D BUILD_opencv_python3é…ç½®æ˜¯å¦å®‰è£…pythonç‰ˆçš„ã€‚12345cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=../../OpenCV \\ -D OPENCV_EXTRA_MODULES_PATH=../../opencv_contrib/modules \\-D BUILD_opencv_python3=OFF \\-D BUILD_opencv_python2=OFF \\OPENCV_GENERATE_PKGCONFIG=YES .. Tips 4 makeå®‰è£…j4ä»£è¡¨ç”¨å‡ ä¸ªCPUåŠ é€Ÿ123make -j12#long time ...make install Tips 5 ç¯å¢ƒå˜é‡1234567vim ~/.bashrcPKG_CONFIG_PATH=$PKG_CONFIG_PATH:$HOME/menglingjun/software/opencv/lib64/pkgconfigexport PKG_CONFIG_PATHexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$HOME/menglingjun/software/opencv/lib64/source ~/.bashrc æµ‹è¯•ç‰ˆæœ¬ä¿¡æ¯1pkg-config --modversion opencv Error1 Cmake3æ‰¾ä¸åˆ°123456789101112131415161718192021222324-D WITH_CUBLAS=ON ..-- The CXX compiler identification is GNU 5.5.0-- The C compiler identification is GNU 5.5.0-- Check for working CXX compiler: /usr/local/gcc/bin/g++-- Check for working CXX compiler: /usr/local/gcc/bin/g++ -- brokenCMake Error at /usr/share/cmake3/Modules/CMakeTestCXXCompiler.cmake:45 (message): The C++ compiler &quot;/usr/local/gcc/bin/g++&quot; is not able to compile a simple test program. It fails with the following output: Change Dir: /home/menglingjun/menglingjun/software/opencv-master/build/CMakeFiles/CMakeTmp Run Build Command:&quot;/usr/bin/gmake&quot; &quot;cmTC_39633/fast&quot; /usr/bin/gmake -f CMakeFiles/cmTC_39633.dir/build.make CMakeFiles/cmTC_39633.dir/build gmake[1]: Entering directory `/data/menglingjun/software/opencv-master/build/CMakeFiles/CMakeTmp&apos; /bin/sh: /usr/bin/cmake3: No such file or directory gmake[1]: *** [CMakeFiles/cmTC_39633.dir/testCXXCompiler.cxx.o] Error 127 gmake[1]: Leaving directory `/data/menglingjun/software/opencv-master/build/CMakeFiles/CMakeTmp&apos; gmake: *** [cmTC_39633/fast] Error 2 CMake will not be able to correctly generate this project. å…³æ³¨è¿™é‡Œ/bin/sh: /usr/bin/cmake3: No such file or directoryæˆ‘æŸ¥çœ‹äº†ä¸€ä¸‹/usr/bin/ä¸‹æœ‰cmakeï¼ŒæŸ¥ä¸€ä¸‹cmakeç‰ˆæœ¬ï¼ˆcmake â€”versionï¼‰å‘ç°cmakeæ˜¯3ç‰ˆæœ¬ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªcmakeå°±æ˜¯3ï¼Œæ‰€ä»¥åˆ›å»ºä¸€ä¸ªè½¯é“¾ï¼ˆå‰¯æœ¬ï¼‰1ln -s cmake cmake3æˆ‘è¿™é‡Œå°±okäº†ï¼Œå¦‚æœä½ æœ‰åˆ«çš„é—®é¢˜ï¼Œç™¾åº¦å…¶ä»–åœ°æ–¹æŠŠã€‚ Error2 ippicvä¸‹è½½å¤±è´¥é—®é¢˜1234567CMake Warning at cmake/OpenCVDownload.cmake:202 (message): IPPICV: Download failed: 28;&quot;Timeout was reached&quot; For details please refer to the download log file: /home/menglingjun/menglingjun/software/opencv-master/build/CMakeDownloadLog.txt ç¦»çº¿ä¸‹è½½é“¾æ¥ï¼šhttps://pan.baidu.com/s/1f6x2-S-XHKr8K0qv5inKIg&amp;shfl=sharepsetæå–ç ï¼šs9mzå¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ å­˜åˆ°ä¸€ä¸ªç›®å½•ä¸‹ï¼Œéšæ„ /home/menglingjun/menglingjun/software12345678910111213# æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ vim ~/menglingjun/software/opencv-master/3rdparty/ippicv/ippicv.cmake #å°±æ˜¯è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ # å°†47è¡Œçš„ &quot;https://raw.githubusercontent.com/opencv/opencv_3rdparty/$&#123;IPPICV_COMMIT&#125;ippicv/&quot; # æ”¹ä¸ºæ­¥éª¤1ä¸­æ‰‹åŠ¨ä¸‹è½½çš„æ–‡ä»¶çš„æœ¬åœ°è·¯å¾„(ä¹Ÿå°±æ˜¯å°†ç½‘ç»œä¸‹è½½çš„æ¨¡å¼æ”¹ä¸ºæœ¬åœ°æ–‡ä»¶ä¸‹è½½çš„æ¨¡å¼): &quot;file: /home/menglingjun/menglingjun/software/opencv-master&quot; #ï¼ˆä»…ä¾›å‚è€ƒï¼Œæ ¹æ®è‡ªå·±çš„è·¯å¾„å¡«å†™ï¼‰ Error3 fatal error: sys/videoio.h: No such file or directoryCmakeæ—¶æŠŠè¿™ä¸ªåŠ ä¸Š1-D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib-3.2.0/module Error4 face_landmark_model.datä¸‹è½½å¤±è´¥é—®é¢˜ç™¾åº¦äº‘ä¸‹è½½åœ°å€ï¼Œå¤±æ•ˆè¯·è¯„è®ºæé†’æˆ‘æ›´æ–°ï¼šé“¾æ¥ï¼šhttps://pan.baidu.com/s/1uhIDqIbMuIawrE6mXuSrnA&amp;shfl=sharepsetæå–ç ï¼šre72å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦æ‰¾åˆ°/opencv_contrib/modules/faceä¸‹é¢çš„CMakeLists.txtæ–‡ä»¶å¹¶æ‰“å¼€ï¼Œå¦‚ä¸‹ï¼Œä¿®æ”¹çº¢è‰²æ ‡æ³¨çš„ç½‘ç«™ï¼Œæ”¹ä¸ºæœ¬åœ°ç›®å½•ï¼ˆä½ éœ€è¦æå‰ä¸‹è½½å¥½å­˜åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚12345678910111213ocv_download( FILENAME face_landmark_model.dat HASH $&#123;__file_hash&#125; URL &quot;$&#123;OPENCV_FACE_ALIGNMENT_URL&#125;&quot; &quot;$ENV&#123;OPENCV_FACE_ALIGNMENT_URL&#125;&quot; &quot;file:/home/menglingjun/menglingjun/software/opencv_contrib/&quot; DESTINATION_DIR &quot;$&#123;CMAKE_BINARY_DIR&#125;/$&#123;OPENCV_TEST_DATA_INSTALL_PATH&#125;/cv/face/&quot; ID &quot;data&quot; RELATIVE_URL STATUS res)","categories":[{"name":"Debug","slug":"Debug","permalink":"http://www.cloudcver.com/categories/Debug/"}],"tags":[{"name":"opencv","slug":"opencv","permalink":"http://www.cloudcver.com/tags/opencv/"}]},{"title":"æºç ç¼–è¯‘opencv æ‰¾ä¸åˆ°cmake3","slug":"æºç ç¼–è¯‘opencv æ‰¾ä¸åˆ°cmake3","date":"2019-10-21T04:45:39.000Z","updated":"2019-11-23T08:23:52.990Z","comments":true,"path":"2019/10/21/æºç ç¼–è¯‘opencv æ‰¾ä¸åˆ°cmake3/","link":"","permalink":"http://www.cloudcver.com/2019/10/21/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91opencv%20%E6%89%BE%E4%B8%8D%E5%88%B0cmake3/","excerpt":"æºç ç¼–è¯‘opencv æ‰¾ä¸åˆ°cmake3","text":"æºç ç¼–è¯‘opencv æ‰¾ä¸åˆ°cmake3 123456789101112131415161718192021222324-D WITH_CUBLAS=ON ..-- The CXX compiler identification is GNU 5.5.0-- The C compiler identification is GNU 5.5.0-- Check for working CXX compiler: /usr/local/gcc/bin/g++-- Check for working CXX compiler: /usr/local/gcc/bin/g++ -- brokenCMake Error at /usr/share/cmake3/Modules/CMakeTestCXXCompiler.cmake:45 (message): The C++ compiler &quot;/usr/local/gcc/bin/g++&quot; is not able to compile a simple test program. It fails with the following output: Change Dir: /home/menglingjun/menglingjun/software/opencv-master/build/CMakeFiles/CMakeTmp Run Build Command:&quot;/usr/bin/gmake&quot; &quot;cmTC_39633/fast&quot; /usr/bin/gmake -f CMakeFiles/cmTC_39633.dir/build.make CMakeFiles/cmTC_39633.dir/build gmake[1]: Entering directory `/data/menglingjun/software/opencv-master/build/CMakeFiles/CMakeTmp&apos; /bin/sh: /usr/bin/cmake3: No such file or directory gmake[1]: *** [CMakeFiles/cmTC_39633.dir/testCXXCompiler.cxx.o] Error 127 gmake[1]: Leaving directory `/data/menglingjun/software/opencv-master/build/CMakeFiles/CMakeTmp&apos; gmake: *** [cmTC_39633/fast] Error 2 CMake will not be able to correctly generate this project. å…³æ³¨è¿™é‡Œ/bin/sh: /usr/bin/cmake3: No such file or directoryæˆ‘æŸ¥çœ‹äº†ä¸€ä¸‹/usr/bin/ä¸‹æœ‰cmakeï¼ŒæŸ¥ä¸€ä¸‹cmakeç‰ˆæœ¬ï¼ˆcmake â€”versionï¼‰å‘ç°cmakeæ˜¯3ç‰ˆæœ¬ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªcmakeå°±æ˜¯3ï¼Œæ‰€ä»¥åˆ›å»ºä¸€ä¸ªè½¯é“¾ï¼ˆå‰¯æœ¬ï¼‰1ln -s cmake cmake3æˆ‘è¿™é‡Œå°±okäº†ï¼Œå¦‚æœä½ æœ‰åˆ«çš„é—®é¢˜ï¼Œç™¾åº¦å…¶ä»–åœ°æ–¹æŠŠã€‚","categories":[{"name":"Debug","slug":"Debug","permalink":"http://www.cloudcver.com/categories/Debug/"}],"tags":[{"name":"opencv","slug":"opencv","permalink":"http://www.cloudcver.com/tags/opencv/"},{"name":"cmake","slug":"cmake","permalink":"http://www.cloudcver.com/tags/cmake/"}]},{"title":"linuxè½¯è¿æ¥","slug":"linuxè½¯è¿æ¥","date":"2019-10-21T03:52:39.000Z","updated":"2019-11-23T08:33:50.072Z","comments":true,"path":"2019/10/21/linuxè½¯è¿æ¥/","link":"","permalink":"http://www.cloudcver.com/2019/10/21/linux%E8%BD%AF%E8%BF%9E%E6%8E%A5/","excerpt":"linuxä¸­æœ‰ä¸ªæ“ä½œå«åšè½¯è¿æ¥ï¼Œç±»ä¼¼äºwindowsä¸­çš„å¿«æ·æ–¹å¼ï¼Œå¯¹äºæ–‡ä»¶ï¼Œå¯ä»¥ç›¸å½“äºåŒä¸€ä¸ªæ–‡ä»¶ç”¨ä¸€ä¸ªå†…å­˜å­˜å‚¨ï¼›å¯¹äºæ–‡ä»¶å¤¹ï¼Œå†…å­˜åœ¨Aå¤„ï¼Œè½¯é“¾åˆ°Bå¤„ï¼Œæˆ‘ä»¬åœ¨Bå¤„æ“ä½œï¼Œæ‰€æœ‰çš„ç©ºé—´å†…å­˜éƒ½å­˜å‚¨åˆ°Aå¤„ï¼›","text":"linuxä¸­æœ‰ä¸ªæ“ä½œå«åšè½¯è¿æ¥ï¼Œç±»ä¼¼äºwindowsä¸­çš„å¿«æ·æ–¹å¼ï¼Œå¯¹äºæ–‡ä»¶ï¼Œå¯ä»¥ç›¸å½“äºåŒä¸€ä¸ªæ–‡ä»¶ç”¨ä¸€ä¸ªå†…å­˜å­˜å‚¨ï¼›å¯¹äºæ–‡ä»¶å¤¹ï¼Œå†…å­˜åœ¨Aå¤„ï¼Œè½¯é“¾åˆ°Bå¤„ï¼Œæˆ‘ä»¬åœ¨Bå¤„æ“ä½œï¼Œæ‰€æœ‰çš„ç©ºé—´å†…å­˜éƒ½å­˜å‚¨åˆ°Aå¤„ï¼› åˆ›å»ºè½¯é“¾æ¥1ln -s [æºæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•]ä¾‹å¦‚ï¼Œåœ¨å½“å‰ç›®å½•åˆ›å»ºtest1ï¼Œè½¯é“¾åˆ°varè·¯å¾„ä¸‹çš„testï¼Œè¿™æ ·å†…å­˜å°±å ç”¨testçš„å†…å­˜ã€‚ï¼ˆä¸€èˆ¬ç”¨äºèŠ‚çœhomeçš„å†…å­˜ï¼Œå°†homeä¸‹çš„æ•°æ®è½¯é“¾åˆ°å…¶ä»–ç¡¬ç›˜ï¼‰1ln â€“s /var/www/test test1 åˆ é™¤è½¯è¿æ¥1rm â€“rf testä¿®æ”¹è½¯è¿æ¥1ln â€“snf [æ–°çš„æºæ–‡ä»¶æˆ–ç›®å½•] [ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•]","categories":[{"name":"LINUX","slug":"LINUX","permalink":"http://www.cloudcver.com/categories/LINUX/"}],"tags":[{"name":"è½¯è¿æ¥","slug":"è½¯è¿æ¥","permalink":"http://www.cloudcver.com/tags/%E8%BD%AF%E8%BF%9E%E6%8E%A5/"}]},{"title":"CVPR2019 GANè®ºæ–‡åˆ†äº«","slug":"CVPR2019 GANè®ºæ–‡åˆ†äº«","date":"2019-09-28T11:57:39.000Z","updated":"2019-11-23T08:35:58.302Z","comments":true,"path":"2019/09/28/CVPR2019 GANè®ºæ–‡åˆ†äº«/","link":"","permalink":"http://www.cloudcver.com/2019/09/28/CVPR2019%20GAN%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB/","excerpt":"æ›´æ–°äº2019-9-292019-9-29å¢åŠ DCGANæ€»ç»“2019-9-27å¢åŠ ã€ŠGeometry-Consistent Generative Adversarial Networks forã€‹2019-9-26å¢åŠ ã€ŠSphere Generative Adversarial Network Based on Geometric Moment Matchingã€‹2019-9-25å¢åŠ ã€ŠMixture Density Generative Adversarial Networksã€‹2019-9-23åˆ›å»ºæ–‡æœ¬","text":"æ›´æ–°äº2019-9-292019-9-29å¢åŠ DCGANæ€»ç»“2019-9-27å¢åŠ ã€ŠGeometry-Consistent Generative Adversarial Networks forã€‹2019-9-26å¢åŠ ã€ŠSphere Generative Adversarial Network Based on Geometric Moment Matchingã€‹2019-9-25å¢åŠ ã€ŠMixture Density Generative Adversarial Networksã€‹2019-9-23åˆ›å»ºæ–‡æœ¬ æ¦‚è¦2019CVPRå…±æœ‰10ç¯‡è®ºæ–‡ä¸Šæ¦œï¼Œå…¶ä¸­åŒ…å«6ç¯‡æ”¹è¿›GANç½‘ç»œçš„æ–‡ç« ï¼ŒåŒ…æ‹¬å››ç¯‡æ”¹è‰¯GANçš„æ¨¡å‹å´©å¡Œé—®é¢˜ï¼Œæœ‰ä¸€ç¯‡æ”¹è‰¯æ–‡å­—è½¬å›¾åƒæ¨¡å‹çš„ï¼Œæœ‰ä¸€ç¯‡æå‡ºåˆ‡ç‰‡Wè·ç¦»ï¼›é™¤äº†æ”¹è¿›GANçš„è®ºæ–‡è¿˜æœ‰æœ‰4ç¯‡æ–‡ç« å±äºé¢†åŸŸåˆ›æ–°å‹æ–‡ç« ï¼Œæœ‰åº”ç”¨åœ¨æ¨¡å‹å‹ç¼©ã€ç¾å¦†ç”Ÿæˆã€äº¤äº’å¼å›¾åƒç”Ÿæˆã€è§†é¢‘ç”Ÿæˆç­‰é¢†åŸŸã€‚ ã€ŠMode Seeking Generative Adversarial Networks for Diverse Image Synthesisã€‹â€”â€”-MSGANè¿™ç¯‡æ–‡ç« ä¸»è¦é’ˆå¯¹cGANçš„æ¨¡å‹å´©å¡Œé—®é¢˜æå‡ºäº†ä¸€ç§æ­£åˆ™åŒ–çš„æ€æƒ³ï¼Œåœ¨åŸç›®æ ‡å‡½æ•°åŸºç¡€ä¸ŠåŠ å…¥ä¸€ä¸ªè¾“å‡ºå›¾åƒä¹‹é—´çš„è·ç¦»ä¸å™ªå£°è¾“å…¥ä¹‹é—´è·ç¦»çš„æ¯”å€¼ã€‚æºç ï¼šhttps://github.com/HelenMao/MSGAN IDEAå…ˆæ‘†ä¸€å¼ è®ºæ–‡ä¸­çš„å›¾ï¼Œè¿™æ˜¯ä»–ideaçš„æ¥æºï¼Œè®²çš„ä»€ä¹ˆæ„æ€å‘¢ï¼Œå·¦è¾¹ä¸ºçœŸå®æ•°æ®åˆ†å¸ƒï¼Œåº”è¯¥åœ¨æ¨¡å‹ç©ºé—´é‡Œä¼šæœ‰äº”ä¸ªæ¨¡å‹ï¼Œæ¨¡å‹å´©å¡Œæ—¶ä¼šåƒç¬¬äºŒä¸ªå›¾ä¸€æ ·ï¼Œä»–æ˜ å°„å¥½åªæœ‰ä¸­é—´é‚£ä¸¤ä¸ªæ³¢å³°æ¨¡å‹ï¼Œè€Œåˆ©ç”¨å®ƒçš„ModeSeekingä¼šè¾¾åˆ°ç¬¬ä¸‰å¼ å›¾çŠ¶æ€ï¼Œæ€ä¹ˆè¾¾åˆ°å‘¢ï¼Œçœ‹å³ä¾§è™šçº¿æ¡†ï¼Œé‡Œé¢è§£é‡Šåœ¨Zåˆ°ImageSpaceIçš„æ˜ å°„ä¸­ï¼Œå¯ä»¥çœ‹å‡ºå¦‚æœï¼Œè¿™ä¸ªæ¯”å€¼å°çš„è¯ï¼Œä¼šä½¿çš„åªåœ¨ä¸­é—´æ™ƒè¡ï¼Œå½“æ¯”å€¼å¤§æ—¶å°±æ´»åˆ°å¤–è¾¹æ˜ å°„åˆ°æ›´å¤šçš„æ¨¡å‹å»ã€‚æ‰€ä»¥ä½œè€…ç»™å‡ºä¸€ä¸ªæ­£åˆ™åŒ–æ€æƒ³å°±æ˜¯æœ€å¤§åŒ–ä¸€ä¸ªè¾“å‡ºå›¾åƒä¹‹é—´çš„è·ç¦»ä¸å™ªå£°è¾“å…¥ä¹‹é—´è·ç¦»çš„æ¯”å€¼ã€‚ WorkåŠ å…¥çš„æ­£åˆ™é¡¹å¦‚ä¸‹ï¼Œä»–ä¸»è¦æƒ³æœ€å¤§åŒ–è¿™ä¸ªæ¯”å€¼ï¼Œä»¥å®ç°è¾“å…¥ç«¯ä¸€ä¸ªå·®å€¼å¾ˆå°çš„è¾“å…¥å´èƒ½å¼•èµ·è¾“å‡ºç«¯è¾ƒå¤§çš„æ¨¡å‹å·®å¼‚ã€‚ï¼ˆç¬”è€…æ„Ÿè§‰è¿™æ˜¯ä¸€ä¸ªæ–¹å‘ï¼Œå¤§å®¶éƒ½åœ¨æƒ³è®©è¾“å‡ºæ¨¡å‹å°½å¯èƒ½å·®åˆ«å¤§ä¸€äº›ï¼Œæˆ–è€…å¢å¤§è·ç¦»ï¼Œæˆ–è€…æ˜ å°„åˆ°ä¸€ä¸ªåŒºåˆ«éƒ½æ›´å¤§çš„ç©ºé—´ï¼Œè¿™æ ·æ¨¡å‹æ‰èƒ½è¾“å‡ºå¤šæ ·æ€§ï¼‰ä¸€èˆ¬äººä»¬å¼•å…¥ä¸€ä¸ªæ­£åˆ™é¡¹åè¦åŠ å…¥ä¸€ä¸ªæƒé‡ç³»æ•°æ¥å¹³è¡¡ï¼Œæ‰€ä»¥æœ€ç»ˆçš„ç›®æ ‡å‡½æ•°å¦‚ä¸‹ï¼š Experimentsä½œè€…å¯¹äºå›¾åƒçº¦æŸGANï¼ˆpairedimage and unpaired imagesï¼‰ã€æ–‡å­—çº¦æŸGANåˆ†åˆ«åšäº†å¤§é‡å®éªŒæ¥éªŒè¯å®ƒçš„æ­£åˆ™åŒ–é¡¹å¥½ï¼è¿™é‡Œä¸¾ä¸€ä¾‹paired image cGANä½œè€…ç”¨pix2pixåšçš„baselineï¼Œæ•°æ®é›†ç”¨çš„facadesï¼ˆå»ºç­‘é£æ ¼ï¼‰ä¸mapsï¼ˆåœ°å›¾æ˜ å°„ï¼‰æœ€ç»ˆç»“æœå¦‚ä¸‹ï¼Œè¿™å¤§å®¶éƒ½è¯´è‡ªå·±å¥½çš„ã€‚ ã€ŠMixture Density Generative Adversarial Networksã€‹â€”â€”-MDGANè¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯ç”¨æ¥è§£å†³GANçš„æ¨¡å‹å´©å¡Œé—®é¢˜ï¼Œä¼ ç»Ÿçš„GANä¸­Dåªåšäº†ä¸ªæ‰“åˆ†æ“ä½œï¼Œè¿™é‡Œä½œè€…æƒ³åˆ°è®©Dè¾“å‡ºKç»´å‘é‡ï¼Œç„¶ååœ¨è¿™ä¸ªKç»´åº¦ç©ºé—´å»èšç±»ä¸åŒçš„é«˜æ–¯æ¨¡å‹ã€‚è¿™ä¸åŒçš„é«˜æ–¯æ¨¡å‹å°±ä»£è¡¨çœŸå®å›¾åƒå¯èƒ½å­˜åœ¨çš„æ¨¡å‹ï¼ˆæ„Ÿè§‰åšè¿™æ–¹é¢æ”¹è¿›çš„æƒ³æ³•éƒ½å·®ä¸å¤šï¼Œæˆ‘ä»¬èƒ½æ”¹è¿›å—ï¼Ÿï¼‰æºç ï¼šhttps://github.com/eghbalz/mdganï¼ˆä½œè€…è¿˜æ²¡å†™â€¦â€¦åªå†™äº†ä¸ªreadmeï¼‰ IDEAè¿™é‡Œè¿˜æ˜¯æ‹¿è®ºæ–‡ä¸­ä¸€å¼ å›¾ç®€è¦è¯´ä¸€ä¸‹ä½œè€…æ€è·¯ï¼Œä½œè€…æƒ³æ„é€ æ›´å¤šçš„æ¨¡å‹ï¼Œä»–å°±åƒæœ€åæ˜ å°„åˆ°ä¸€ä¸ªé«˜çº¬åº¦ç©ºé—´ï¼Œæˆ‘ä»¬å»èšç±»å¤šä¸ªé«˜æ–¯æ¨¡å‹è¿™æ ·å°±èƒ½å½¢æˆæ›´å¤šçš„æ¨¡å‹ã€‚ Workä½œè€…ä¸»è¦çš„å·¥ä½œå°±æ˜¯è¿™ä¸ªå…¬å¸ï¼Œå®šä¹‰äº†ä¸€ä¸ªlkå‡½æ•°ï¼Œlkå‡½æ•°å¦‚ä¸‹ï¼Œä»–æŠŠDè¾“å‡ºçš„ç»“æœå½“æˆkç»´embeddingæ¥å¤„ç†ï¼Œå°†kç»´åº¦å‘é‡æ”¾åˆ°Cä¸ªé«˜æ–¯åˆ†å¸ƒä¸­å»è®¡ç®—lkå€¼ï¼Œè¿™ä¸ªå€¼è¶Šé«˜å°±è¯´æ˜ä»–æœä»è¿™ä¸ªé«˜æ–¯åˆ†å¸ƒï¼Œç„¶åè¿™é‡ŒCä¸ªæ¨¡å‹ç›¸å½“äºä»–æƒ³å»æ˜ å°„kä¸ªä¸åŒçš„æ¨¡å‹æ¥æé«˜å›¾åƒçš„å¤šæ ·æ€§ï¼ˆæˆ‘ä¸å¤ªæ‡‚å¾—æ˜¯ä»–è¿™Cä¸ªæ¨¡å‹å‚æ•°æ˜¯æå‰ç»™å®šå‚æ•°è¿˜æ˜¯è®­ç»ƒè‡ªåŠ¨è°ƒï¼Ÿï¼Ÿï¼Ÿï¼‰æ³¨æ„ï¼šè¿™é‡Œçš„æƒå€¼æ˜¯1/d+1ï¼Œå¯ä¸å¯ä»¥æ”¹è¿›ä¸€ä¸‹ï¼Œå¼•å…¥ä¸ªè¿‡æ‹Ÿåˆé¡¹ï¼Œå“ˆå“ˆã€‚ ç„¶åå®é™…æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼Œæ•´ä½“è¿˜æ˜¯å’ŒGANä¸€æ ·ã€‚ Experimentsä½œè€…åˆ†åˆ«å¯¹MNISTã€Fashion-MNISTã€CIFAR-10ã€CelebAæ•°æ®é›†åšäº†å®éªŒï¼Œå–VanillaGANä»¥åŠWGANã€DRAGANåšå¯¹æ¯”å®éªŒï¼Œè¿™é‡Œå±•ç¤ºMNISTæ•°æ®é›†å®éªŒç»“æœå¦‚ä¸‹ï¼š ã€ŠSphere Generative Adversarial Network Based on Geometric Moment Matchingã€‹æœ¬ç¯‡æ–‡ç« ä¹Ÿæ˜¯æ—¨åœ¨æ”¹è‰¯GANç½‘ç»œè®­ç»ƒæ—¶å®¹æ˜“å‡ºç°æ¨¡å‹å´©å¡Œå’Œä¸ç¨³å®šçš„é—®é¢˜ã€‚åŸå§‹çš„GANç½‘ç»œæŸå¤±å‡½æ•°è®¡ç®—ç‰¹å¾embeddingçš„ä¸€é˜¶çŸ©ï¼ŒGANåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ä¼šå‡ºç°ä¸ç¨³å®šå’Œæ¨¡å‹å´©å¡Œï¼ŒWGAN/WGAN-gpè™½ç„¶å¼•ç”¨äº†Wassersteinè·ç¦»ï¼Œä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™äº›æ¨¡å‹åŒæ ·å­˜åœ¨é—®é¢˜ï¼šå¯¹äºæ¨¡å‹çš„å‚æ•°è¦æ±‚è¿˜æ˜¯æ¯”è¾ƒé«˜ï¼Œå› æ­¤SphereGANå°è¯•ä¸å¼•å…¥æ–°çš„å‚æ•°çš„æƒ…å†µä¸‹å°†æ¨¡å‹æ•´ä½“è¿›è¡Œå˜æ¢ï¼Œè¾¾åˆ°ç¨³å®šæ¨¡å‹çš„æ•ˆæœã€‚æºç ï¼šhttps://github.com/Dotori-HJ/SphereGAN-Pytorch-implementation IDEAç›®å‰æˆ‘è¿˜æ²¡å…¨çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ç†è§£çš„æ„æ€æ—¶ï¼Œæ™®é€šçš„ä¸€é˜¶çŸ©å¯èƒ½ä¼šçªç„¶è·ç¦»å¾ˆè¿œï¼Œå¯¼è‡´ä¸€äº›ä¸ç¨³å®šçš„ç°åƒï¼Œè€Œæˆ‘ä»¬æŠŠembeddingå¼„åˆ°è¶…çƒé¢ï¼Œè®¡ç®—è¶…çƒé¢è·ç¦»å°±ä¼šè¢«å±€é™åˆ°è¶…çƒé¢ï¼Œä»¥å®ç°è®­ç»ƒæ¯”è¾ƒç¨³å®šçš„æ•ˆæœï¼Œå¯ä»¥çœ‹ä¸‹å›¾ç†è§£ã€‚å¦å¤–ï¼Œä½œè€…è¯´åˆ©ç”¨ä¸€ä¸ªé«˜ç»´çš„ç‰¹å¾ä»¥åŠè¶…çƒé¢çš„ç‰¹å¾æ¥ä¿è¯å……åˆ†è¯„æµ‹æ•°æ®ï¼Œä»¥æœ‰ä¸€ä¸ªå¥½çš„ç»“æœã€‚ä¸¤è€…å…¼å¤‡äº†ï¼ä¼˜ç§€ã€‚ Workä¸‹å›¾å±•ç¤ºäº†æ•´ä¸ªç½‘ç»œçš„ç¤ºæ„å›¾ï¼Œå‰é¢å’ŒGANç½‘ç»œä¸€è‡´ä¿®æ”¹äº†åé¢æŸå¤±è®¡ç®—çš„éƒ¨åˆ†ã€‚ æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š Experimentsä½œè€…åœ¨CIFARä¸Šåšäº†å®éªŒï¼Œä¸‹å›¾ä¸ºå®éªŒç»“æœï¼Œæ•ˆæœè¿˜ç®—æé«˜äº†å¾ˆå¤šã€‚ ã€ŠGeometry-Consistent Generative Adversarial Networks for One-Sided Unsupervised Domain Mappingã€‹æœ¬æ–‡æå‡ºä¸€ç§å‡ ä½•ä¸€è‡´çš„æ— ç›‘ç£Image2ImageGANï¼Œç›¸æ¯”äºCycleGANã€distanceGANæœ‰ä¸€ä¸ªæ›´å¥½çš„æ•ˆæœï¼Œå¥½åƒæ–‡ä¸­æ²¡æœ‰å»è§£é‡Šä¸åˆ«äººç›¸æ¯”æ˜¯å¦å¥½ï¼Œæ–‡ä¸­è¯´æ˜¯is compatible with other well-studied unsupervised constraints.ä½†æ˜¯å®éªŒç»“æœä»–å½“ç„¶è¯æ˜æ¯”åˆ«äººå¥½ï¼ IDEAèµ·åˆimage2imageçš„ç”Ÿæˆå¯¹æŠ—ç½‘ç»œéœ€è¦å¤§é‡çš„pairå›¾æ‰èƒ½æœ‰ä¸€ä¸ªå¥½çš„æ•ˆæœï¼Œä¸ºæ­¤ç ”ç©¶è€…æå‡ºå¥½äº†cycleGANæ„é€ Gxyå’ŒGyxæ¥æŠŠyä½œä¸ºä¸­é—´éšå«çš„å˜é‡ï¼›distanceGANåˆ™æ˜¯åˆ©ç”¨yè·ç¦»æ¥æ˜ å°„xä¹‹é—´è·ç¦»ï¼Œè¿™é‡Œä½œè€…ç»™å‡ºä¸€ç§å‡ ä½•ä¸€è‡´çš„æ–¹æ³•ï¼Œä¸‹å›¾å³ä¾§æ‰€ç¤ºï¼Œä¹Ÿæ˜¯åœ¨ä¸çŸ¥é“yçš„æƒ…å†µï¼Œç”¨é“¶å«é‡å»æ‹Ÿåˆã€‚ Experimentsä½œè€…é‡‡ç”¨äº†SVHMä¸MNISTæ•°æ®é›†ä½œä¸ºxã€yï¼Œå¯¹æ¯”äº†DistanceGANã€CycleGANç­‰å®éªŒæ–¹æ³•ï¼Œç»“æœå¦‚ä¸‹ï¼š ã€ŠTowards Optimal Structured CNN Pruning via Generative Adversarial Learningã€‹æœ¬æ–‡ç®—æ˜¯æ¯”è¾ƒæ–°é¢–çš„ä¸€ç¯‡æ–‡ç« ï¼Œä½œè€…å°†GANç½‘ç»œåº”ç”¨åˆ°æ¨¡å‹å‰ªææ–¹é¢ï¼Œæå‡ºäº†GALç½‘ç»œã€‚æºç ï¼šhttps://github.com/anonymouscvpr1983/GAL IDEAè¿™ç¯‡æ–‡ç« å¼•ç”¨ä¸€ä¸ªsoftmaskï¼ˆè½¯æ©ç ï¼‰ä¸ç¨€ç–é™åˆ¶çš„æ€æƒ³å»è¯•å›¾åˆ æ‰åŸç½‘ç»œçš„ä¸€éƒ¨åˆ†å±‚å»çœ‹å®ƒçš„æ•ˆæœï¼Œæ¥è®­ç»ƒå¾—åˆ°ä¸€ä¸ªå’Œbaselineç›¸ä¼¼æ•ˆæœçš„ç½‘ç»œã€‚ Workç½‘ç»œæ¡†å›¾å¦‚ä¸‹æ‰€ç¤ºï¼ŒGeneratorå®Œæˆå¯¹æ¨¡å‹çš„å‹ç¼©ï¼ŒDiscrimantorå®Œæˆå¯¹åŸå§‹BaseLineæ¨¡å‹å’Œå‰ªæåçš„æ¨¡å‹çš„è¯„ä»·ï¼ŒDiscriminatorä¼˜åŒ–ä½¿ä¸¤ä¸ªæ¨¡å‹å·®è·æ›´å¤§ï¼Œè€ŒGeneratorä½¿çš„æ¨¡å‹æ•ˆæœå’ŒBaselineä¸€è‡´ã€‚Generatoråˆ†ä¸‰æ–¹é¢å»æ”¹åŠ¨ï¼š 1ï¼‰BlockSelectionï¼šè¿™ä¸ªæ–¹æ³•é€‚åˆresnetç­‰å¸¦æ®‹å·®çš„ç½‘ç»œï¼Œå°†ç½‘ç»œåˆ†æˆè®¸å¤šå—ï¼Œæ¯ä¸ªå—åœ¨ä¼ æ’­æ—¶ä¹˜ä»¥å‚æ•°mï¼Œmçš„å€¼å†³å®šè¯¥blockéœ€è¦çš„ç¨‹åº¦ï¼Œå¦‚æœæœ€åå‘ç°må˜ä¸º0åˆ™è¯¥å±‚å°±å¯ä»¥åˆ æ‰ã€‚2ï¼‰BranchSelectionï¼šå·ç§¯æ ¸é€‰æ‹©ï¼Œå¯¹äº1*1ã€3*3ç­‰å·ç§¯æ ¸åˆ†åˆ«ä¹˜ä»¥ä¸€å®šæ¯”ä¾‹ï¼Œå†³å®šå·ç§¯æ ¸å¯¹ç½‘ç»œçš„å½±å“å¤šå°‘ï¼›è¿™ä¸ªåœ¨googlenetç­‰ä¸€äº›ç”¨å¤šç§å·ç§¯æ ¸çš„ç½‘ç»œä¸­æœ‰å¥½å¤„ã€‚ 3ï¼‰ChanelSelectionï¼šé€šé“é€‰æ‹©ï¼Œè¿™ç§ä¼˜åŒ–æ–¹æ³•å¯¹äºæ¯ä¸ªå·ç§¯ç½‘ç»œéƒ½é€‚ç”¨ã€‚ä»–æ˜¯å¯¹äºæ¯ä¸€å±‚å·ç§¯ç½‘ç»œï¼Œåœ¨æ¯å®ƒçš„æ¯ä¸€ä¸ªæƒé‡çš„åŸºç¡€ä¸Šä¹˜ä»¥å‚æ•°mæ¥é™åˆ¶è¯¥æƒé‡å¯¹æ•´ä¸ªæ¨¡å‹çš„å½±å“ã€‚æœ€åæ¸…é™¤mä¸º0çš„æƒé‡ã€‚ Experimentsä½œè€…åšäº†å¤§é‡å®éªŒè¯æ˜GALåœ¨ä¿è¯æ¨¡å‹å‡†ç¡®ç‡çš„æƒ…å†µä¸‹å¤§å¤§å‹ç¼©äº†æ¨¡å‹çš„å‚æ•°é‡ã€‚å¦‚ä¸‹å›¾ä¸ºMNISTæ•°æ®é›†ï¼ŒLeNetä¸VGGæ¨¡å‹çš„å®éªŒç»“æœï¼Œä½œè€…ç”¨SSLå’ŒNISPæ–¹æ³•å¯¹æ¯”ï¼Œ GAL è·å¾—äº†æœ€å¥½çš„åˆ†ç±»é”™è¯¯ç‡ä¸å‚æ•°å‹ç¼©é‡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½œè€…ä¹Ÿå¯¹Resnetã€GoogLenetã€Densenetåšäº†GALä¼˜åŒ–ï¼Œç»™å‡ºäº†ä¼˜åŒ–ç»“æœã€‚","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"GAN","slug":"è®¡ç®—æœºè§†è§‰/GAN","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/GAN/"}],"tags":[{"name":"CVPR","slug":"CVPR","permalink":"http://www.cloudcver.com/tags/CVPR/"},{"name":"MSGAN","slug":"MSGAN","permalink":"http://www.cloudcver.com/tags/MSGAN/"}]},{"title":"Pycharmæ›´æ–°ä»£ç åˆ°æœåŠ¡å™¨ç«¯","slug":"Pycharmæ›´æ–°ä»£ç åˆ°æœåŠ¡å™¨ç«¯","date":"2019-09-18T09:45:39.000Z","updated":"2019-11-22T15:00:36.628Z","comments":true,"path":"2019/09/18/Pycharmæ›´æ–°ä»£ç åˆ°æœåŠ¡å™¨ç«¯/","link":"","permalink":"http://www.cloudcver.com/2019/09/18/Pycharm%E6%9B%B4%E6%96%B0%E4%BB%A3%E7%A0%81%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF/","excerpt":"","text":"åˆ°è®¾ç½®-Deplomentéƒ¨ç½²é‡Œï¼Œç‚¹åŠ å·ï¼Œæ·»åŠ ä¸€ä¸ªã€‚é€‰æ‹©SFTP ç„¶åï¼Œéšä¾¿èµ·ä¸ªåå­—å–½ã€‚å†è®¾ç½®Connectioné€‰é¡¹ã€‚å¦‚ä¸‹å›¾ä¹‹åéœ€è¦è®¾ç½®Mappingsï¼Œè®¾ç½®æœ¬åœ°ä»£ç åœ°å€ä»¥åŠæœåŠ¡å™¨ä»£ç åœ°å€ï¼ŒæœåŠ¡å™¨ä»£ç åœ°å€ç‚¹å‡»å³ä¾§æ‰“å¼€åå»æ‰¾å°±è¡Œã€‚ è®¾ç½®å¥½åç‚¹å‡»okéšåå†ä»£ç éƒ¨åˆ†å³å‡»ä¼šæœ‰deploymentï¼Œåˆ†åˆ«æœ‰ä¸Šä¼ ï¼Œä¸‹è½½ï¼Œè¿˜æœ‰syncè¿™æ ·ä¼šåŒæ­¥æ‰€æœ‰ä¸ä¸€æ ·çš„ï¼Œå¯ä»¥è®¾ç½®ã€‚syncä¸‹æ˜¯è¿™æ ·ç•Œé¢ï¼Œç‚¹å‡»é‚£ä¸ªç®­å¤´å¯ä»¥æ”¹å˜æ›´æ–°æ–¹å‘ï¼Œé»˜è®¤æ˜¯æŒ‰ç…§æ—¶é—´æ›´æ–°ã€‚","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[{"name":"Pycharm","slug":"Pycharm","permalink":"http://www.cloudcver.com/tags/Pycharm/"}]},{"title":"screenåŠŸèƒ½ linuxåå°è¿è¡Œç¨‹åº","slug":"screenåŠŸèƒ½ linuxåå°è¿è¡Œç¨‹åº","date":"2019-09-18T09:45:39.000Z","updated":"2019-11-23T08:10:01.742Z","comments":true,"path":"2019/09/18/screenåŠŸèƒ½ linuxåå°è¿è¡Œç¨‹åº/","link":"","permalink":"http://www.cloudcver.com/2019/09/18/screen%E5%8A%9F%E8%83%BD%20linux%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F/","excerpt":"screenåŠŸèƒ½ linuxåå°è¿è¡Œç¨‹åº","text":"screenåŠŸèƒ½ linuxåå°è¿è¡Œç¨‹åº 1åˆ›å»ºscreenè¿›ç¨‹1screen #è¿›å…¥screenç¯å¢ƒ 2è¿›ç¨‹ä¸‹è¿è¡Œæ–‡ä»¶1python a.py#è¿è¡Œa.py 3åˆ†ç¦»çª—å£å…ˆctrl + a è¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œå†æŒ‰dåˆ†ç¦»çª—å£ 4åˆ—å‡ºå½“å‰è¿›ç¨‹12345screen -ls #åˆ—å‡ºå½“å‰è¿›ç¨‹There are screens on: 22013.pts-37.hpcgpu30 (Detached) 9915.pts-33.hpcgpu30 (Detached) 5å†æ¬¡è¿›å…¥çª—å£1screen -r 22013 6æ€æ­»æŸä¸ªçª—å£æ€æ­»22013çª—å£1kill -9 22013","categories":[{"name":"LINUX","slug":"LINUX","permalink":"http://www.cloudcver.com/categories/LINUX/"}],"tags":[{"name":"screen","slug":"screen","permalink":"http://www.cloudcver.com/tags/screen/"},{"name":"linux","slug":"linux","permalink":"http://www.cloudcver.com/tags/linux/"}]},{"title":"Faissæºç å®‰è£…","slug":"Faissæºç å®‰è£…","date":"2019-09-16T09:45:39.000Z","updated":"2019-11-23T08:34:23.218Z","comments":true,"path":"2019/09/16/Faissæºç å®‰è£…/","link":"","permalink":"http://www.cloudcver.com/2019/09/16/Faiss%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85/","excerpt":"æœ¬ç¯‡æ–‡ç« æä¾›äº†äº†Faisså®‰è£…çš„æ•™ç¨‹ï¼ˆCPUç‰ˆå®‰å¥½äº†ï¼ŒGPUç‰ˆæœ‰ç‚¹é—®é¢˜ï¼Œåè¡¥ï¼‰","text":"æœ¬ç¯‡æ–‡ç« æä¾›äº†äº†Faisså®‰è£…çš„æ•™ç¨‹ï¼ˆCPUç‰ˆå®‰å¥½äº†ï¼ŒGPUç‰ˆæœ‰ç‚¹é—®é¢˜ï¼Œåè¡¥ï¼‰ Step 1 ä¸‹è½½FAISS1git clone https://github.com/facebookresearch/faiss Step 2 ç”Ÿæˆé…ç½®12cd faiss./configure --with-cuda=/usr/local/cuda-9.0 --prefix=/home/cver/software/faiss/ --with-python=python3 configureç”Ÿæˆmakfileæ–‡ä»¶ï¼Œè¿™é‡Œéœ€è¦é…ç½®cudaç›®å½•ï¼Œå®‰è£…ç›®å½•prefix Step 3 å®‰è£…faissæˆ‘è¿è¡Œæ—¶å­˜åœ¨ä¸€äº›é—®é¢˜ä¸èƒ½å®‰è£…GPUç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘æŠŠGPUéƒ¨åˆ†å±è”½äº†ï¼Œä»¥åå†è§£å†³ã€‚1234567891011vim makefile.inc-------------------------------NVCC = /usr/local/cuda-9.0/bin/nvccCUDA_ROOT = /usr/local/cuda-9.0//CUDA_ARCH = -gencode=arch=compute_35,code=compute_35 \\//-gencode=arch=compute_52,code=compute_52 \\//-gencode=arch=compute_60,code=compute_60 \\//-gencode=arch=compute_61,code=compute_61 \\//-gencode=arch=compute_70,code=compute_70 \\//-gencode=arch=compute_75,code=compute_75ä¿®æ”¹ä¹‹åï¼Œç¼–è¯‘ï¼Œå®‰è£… 12makemake install Step 4 å®‰è£…swing3swing3æ˜¯C++è½¬pythonçš„æ¡¥æ¢â€¦å…·ä½“å¯ä»¥æŸ¥ä¸€ä¸‹ã€‚é¦–å…ˆè¦ä¸‹è½½swing312wget https://sourceforge.net/projects/swig/files/swig/swig-3.0.12/swig-3.0.12.tar.gztar -zxvf swig-3.0.12.tar.gzç„¶åé…ç½®config123bash ./configure --prefix=/home/cver/software/swing3 --without-pcremakemake installé…ç½®ç¯å¢ƒå˜é‡12345vim ~/.bashrc-----------------------æ·»åŠ ä»¥ä¸‹ä¸¤å¥export SWIG_PATH=/home/cver/software/swing3/binexport PATH=$SWIG_PATH:$PATH Step 5 ç”ŸæˆpythonåŒ…å›åˆ°faissç›®å½•ä¸‹1make pyä»ç„¶éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶12345cd pythonvim Makefile---------------------æˆ‘æ²¡æœ‰sudoæƒé™ï¼Œæ‰€ä»¥æˆ‘å®‰è£…åˆ°è‡ªå·±ç›®å½•ä¸‹$(PYTHON) setup.py install --prefix=/home/cver/.localé…ç½®å¥½åç¼–è¯‘ï¼Œå®‰è£…1make install","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"äººè„¸è¯†åˆ«","slug":"è®¡ç®—æœºè§†è§‰/äººè„¸è¯†åˆ«","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"}],"tags":[{"name":"faiss","slug":"faiss","permalink":"http://www.cloudcver.com/tags/faiss/"}]},{"title":"The Summary Of Face Recognition","slug":"ä¸€æ–‡ææ‡‚äººè„¸è¯†åˆ«é‚£ç‚¹äº‹---äººè„¸è¯†åˆ«æ–¹æ¡ˆsummary","date":"2019-08-21T09:45:39.000Z","updated":"2019-11-23T08:55:38.448Z","comments":true,"path":"2019/08/21/ä¸€æ–‡ææ‡‚äººè„¸è¯†åˆ«é‚£ç‚¹äº‹---äººè„¸è¯†åˆ«æ–¹æ¡ˆsummary/","link":"","permalink":"http://www.cloudcver.com/2019/08/21/%E4%B8%80%E6%96%87%E6%90%9E%E6%87%82%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E9%82%A3%E7%82%B9%E4%BA%8B---%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E6%96%B9%E6%A1%88summary/","excerpt":"é€šä¿—æ˜“æ‡‚æ•™ä½ å¦‚ä½•åšäººè„¸è¯†åˆ«","text":"é€šä¿—æ˜“æ‡‚æ•™ä½ å¦‚ä½•åšäººè„¸è¯†åˆ« The Summary Of Face Recognition[å…¨æ–‡å…±è®¡7162å­—ï¼Œé¢„è®¡é˜…è¯»15åˆ†é’Ÿï¼Œæ¶ˆè€—è„‘å®¹é‡20MB] äººè„¸è¯†åˆ«åŒ…å«äººè„¸æ£€æµ‹ã€äººè„¸å¯¹é½ã€äººè„¸è¯†åˆ«ä¸‰ä¸ªæ­¥éª¤ã€‚é¦–å…ˆåˆ©ç”¨äººè„¸æ£€æµ‹(FaceDetiction)è¯†åˆ«å›¾åƒä¸­æ‰€æœ‰äººè„¸ï¼Œå›å½’äººè„¸çš„boundboxã€‚ç„¶åå¯¹äºè¯†åˆ«å‡ºçš„äººè„¸ï¼Œå¯èƒ½ä¼šæœ‰æ­ªå¤´çš„ï¼Œå¦‚æœç›´æ¥åšrecognitionå¯èƒ½å‡†ç¡®ç‡è¾ƒä½ï¼Œæ‰€ä»¥&gt;æˆ‘ä»¬éœ€è¦åšä¸€æ­¥äººè„¸å¯¹é½(FaceAlign)ï¼ŒæŠŠæ‰€æœ‰äººè„¸è½¬ä¸ºä¸€ä¸ªæ ‡å‡†ï¼ˆæ­£æ–¹å½¢å†…ï¼Œä¸¤çœ¼å¯¹é½ï¼Œå˜´å·´ä¸¤ä¾§å¯¹é½â€¦ï¼‰ã€‚æœ€åæˆ‘ä»¬éœ€è¦å¯¹æ‰€æœ‰çš„äººè„¸åšè¯†åˆ«ï¼Œæå–ç‰¹å¾ä¸å‘˜å·¥ç‰¹å¾åº“è¿›è¡Œå¯¹æ¯”ã€‚ Part 1 FaceDetictionäººè„¸æ£€æµ‹ï¼ˆå¾…æ€»ç»“â€¦ï¼‰ Part 2 FaceRecognition å…¶å®äººè„¸è¯†åˆ«å¯ä»¥ä»ä¸¤ä¸ªè§’åº¦åšï¼Œä¹‹å‰äººä»¬ä¸€ç›´æ˜¯å½“æˆåˆ†ç±»ä»»åŠ¡åšï¼Œç°åœ¨æ›´å¤šçš„æ˜¯1ï¼š1ç‰¹å¾å¯¹æ¯”ï¼›å…ˆè¯´åˆ†ç±»ä»»åŠ¡ï¼Œæˆ‘ä»¬å…ˆå¯¹æ•°æ®è¿›è¡Œäººè„¸æ£€æµ‹ä»¥åŠå¯¹é½å¾—åˆ°ä¸€ä¸ªå¯¹é½åçš„äººè„¸æ•°æ®é›†ï¼Œåœ¨è®­ç»ƒé›†ä¸­æ¯ä¸ªç±»ï¼ˆæ ‡ç­¾/äººï¼‰ä¸‹æœ‰è®¸å¤šå›¾ç‰‡ï¼ˆéƒ½æ˜¯å¯¹é½å¥½çš„ï¼‰ï¼Œç„¶åå¯¹æ•°æ®åšä¸€ä¸ªåˆ†ç±»ä»»åŠ¡ï¼Œå¸¸è§„çš„åˆ†ç±»æ¨¡å‹æœ‰googlenetã€resnetã€densenetã€mobilenetï¼ˆç§»åŠ¨ç«¯ï¼‰ç­‰ç­‰ï¼Œç›®æ ‡å‡½æ•°ç”¨softmaxæŸå¤±å‡½æ•°ã€‚åè€…1ï¼š1æ¯”å¯¹ï¼ŒæŠŠåˆ†ç±»ç½‘ç»œå½“æˆç‰¹å¾æå–å™¨æå–ç‰¹å¾ï¼Œå’Œäººè„¸åº“å¯¹æ¯”ï¼Œæ¬§æ°è·ç¦»å°äºä¸€å®šé˜ˆå€¼å°±è®¤ä¸ºæ¯”å¯¹æˆåŠŸã€‚è¿™é‡Œæ³¨æ„çš„æ˜¯äººè„¸åº“é‡Œé¢æ˜¯æ ‡å‡†ç…§ç‰‡ç›´æ¥å‰å‘ä¼ æ’­å¾—åˆ°çš„embedding ç‰¹å¾å±‚ã€‚ Part 2.1 InsightFaceæ¡†æ¶æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹insightfaceçš„æ¡†æ¶æ˜¯æ€ä¹ˆåšçš„ã€‚è¿™æˆ‘è‡ªå·±ç”»çš„ä¸€ä¸ªç®€å•çš„å›¾ï¼Œå…¶å®å¾ˆç®€å•ï¼Œäººè„¸è¯†åˆ«åˆ†ç±»ä»£ç åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†åœ¨ç‰¹å¾æå–ç½‘ç»œï¼Œç”¨æˆç†Ÿçš„åˆ†ç±»ç½‘ç»œæå–ç‰¹å¾ï¼Œå¾—åˆ°embeddingå‘é‡ï¼Œå¯ä»¥çœ‹ä¸ºFaceImage2Vectorã€‚è¿™ä¸ªç»´åº¦å¯ä»¥è‡ªå·±è®¾è®¡ï¼Œå¤§å®¶éƒ½é€‰çš„512ï¼ˆæŠ±æ­‰ï¼Œä¸€ä¸ªç‰¹åˆ«çš„æ—¥å­ï¼Œæˆ‘ä»¬ä¸€èµ·é»˜å“€ä¸€ä¼šã€‚ï¼‰ç„¶åå¸¸è§„åšæ³•ï¼Œæˆ‘ä»¬ä¼šç”¨å…¨è¿æ¥å±‚è½¬åˆ°class_numç»´åº¦ï¼Œè¿™æ—¶æä¸€ä¸ªsoftmaxå»åšæŸå¤±å³å¯ã€‚åæ¥ï¼Œå¤§ä½¬ä»¬å°±è§‰å¾—æŸå¤±ä¸å¤Ÿå¥½å¼€å§‹æ”¹ï¼Œè¿™ä¸ªæˆ‘åœ¨2.2ä¸­å»ä»‹ç»ä¸€ä¸‹è¿™ä¸€ç³»åˆ—æŸå¤±å‡½æ•°çš„å˜åŒ–ã€‚ç„¶åæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹äººè„¸è¯†åˆ«ä»£ç æ€ä¹ˆè¯„æµ‹ï¼Ÿ Part 2.2 æ¨¡å‹è¯„æµ‹å¯¹äºæ™®é€šåˆ†ç±»é—®é¢˜ï¼Œå¯èƒ½æˆ‘ä»¬è€ƒå¯Ÿä¸€ä¸ªæ¨¡å‹å¥½åï¼Œä¸»è¦çœ‹æµ‹è¯•é›†å‡†ç¡®ç‡å°±å¯ä»¥ï¼›å¯¹äºäººè„¸è¯†åˆ«é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰å¼€é›†å’Œé—­é›†ä¹‹è¯´ï¼Œé—­é›†æ˜¯æŒ‡è®­ç»ƒé›†ä¸æµ‹è¯•é›†äººç‰©ä¸€æ ·ï¼Œä¸ä¼šå‡ºç°ä¸è®¤è¯†çš„äººï¼Œä¸€èˆ¬åªåœ¨æˆ‘ä»¬çš„æŸä¸ªé¢†åŸŸï¼Œæ¯”å¦‚æŸä¸ªå…¬å¸ä¸ä¼šæ¥å¤–äººã€‚ä½†å®é™…ä¸å¯èƒ½ï¼Œäººè„¸æ˜¯ä¸ªå¾ˆå¤§çš„å¼€é›†ï¼Œæˆ‘ä»¬çš„è®­ç»ƒé›†ä¸å¯èƒ½å›Šæ‹¬æ‰€æœ‰äººï¼Œä½ è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œæ¯”å¦‚å…¬å¸å†…éƒ¨ï¼Œä¸‡ä¸€æœ‰ä¸ªåˆ«çš„äººæ¥äº†ï¼Œè¿™ç ´æœºå™¨è®¤ä¸ºä»–å°±æ˜¯å†…éƒ¨çš„äººï¼Œå› ä¸ºå¯èƒ½æ¨¡å‹ä¸èƒ½å¾ˆå¥½çš„åŒºåˆ†å¼€ã€‚æ‰€ä»¥è¿™å°±æœ‰äº†å¼€é›†æµ‹è¯•çš„é‡è¦æ€§ã€‚ å®é™…æˆ‘ä»¬åšäººè„¸è¯†åˆ«è€ƒå¯Ÿæ˜¯åœ¨æˆ‘ä»¬çš„åº“é‡Œè®­ç»ƒä¸€ä¸ªæ›´å¥½çš„ç‰¹å¾æå–å™¨ï¼Œè¿™ä¸ªæå–å™¨æ‹¥æœ‰å¾ˆå¥½çš„åŒºåˆ†èƒ½åŠ›ã€‚å¦‚æœåªåœ¨é—­é›†æµ‹è¯•ï¼Œé‚£å°±çœ‹å‡†ç¡®ç‡å°±è¡Œï¼›å¦‚æœåœ¨å¼€é›†æµ‹è¯•ï¼Œæˆ‘ä»¬å°±è¦çœ‹ä»–åœ¨å…¶ä»–æ•°æ®é›†ä¸Šçš„åŒºåˆ†åº¦ï¼Œæ€ä¹ˆæµ‹ï¼Ÿæˆ‘ä»¬å–æ ·Nå¯¹å›¾åƒï¼Œçœ‹æ¯ä¸€å¯¹ä¸¤ä¸ªå›¾åƒæ˜¯å¦å±äºä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬æä¸€ä¸ªé˜ˆå€¼ï¼Œä¸¤ä¸ªå›¾åƒçš„ç‰¹å¾ï¼ˆç”±ç‰¹å¾æå–å™¨æå–ï¼‰æ¬§æ°è·ç¦»å°äºé˜ˆå€¼å°±è®¤ä¸ºå±äºä¸€ä¸ªç±»ï¼Œå¦åˆ™ä¸å±äºä¸€ä¸ªç±»ã€‚æˆ‘ä»¬çœ‹ä»–èƒ½å®ç°å¤šé«˜çš„å‡†ç¡®ç‡ã€‚ åš1ï¼š1è®¤è¯ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€ä¸ªpairæµ‹è¯•æ–‡ä»¶ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š å›¾Aåœ°å€ å›¾Båœ°å€ 0/1ï¼ˆä»£è¡¨ç€æ˜¯å¦ä¸ºåŒç±»ï¼‰ è¿™é‡Œæ³¨æ„ä¸¤å¼ å›¾ç‰‡æ˜¯ä¸åŒå›¾ç‰‡ï¼Œå¤§æ¦‚å¯èƒ½ä¼šæœ‰3000æ­£ä¾‹ï¼ˆåŒç±»ï¼‰ï¼Œ3000è´Ÿä¾‹ã€‚åšæ¯”å¯¹ä¹‹åæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªç»“æœ TPä»£è¡¨æ­£ç¡®è¯†åˆ«ä¸ºæ­£ä¾‹çš„æ ·æœ¬ï¼ˆåŸæ¥æ˜¯æ­£ä¾‹ï¼‰ TNæ­£ç¡®è¯†åˆ«ä¸ºè´Ÿä¾‹çš„æ ·æœ¬ï¼ˆåŸæ¥æ˜¯è´Ÿä¾‹ï¼‰FPä»£è¡¨é”™è¯¯è¯†åˆ«ä¸ºæ­£ä¾‹çš„æ ·æœ¬ï¼ˆåŸæ¥æ˜¯è´Ÿä¾‹ï¼‰ FNé”™è¯¯è¯†åˆ«ä¸ºè´Ÿä¾‹çš„æ ·æœ¬ï¼ˆåŸæ¥æ˜¯æ­£ä¾‹ï¼‰TN+FPä»£è¡¨æµ‹è¯•è´Ÿä¾‹ï¼Œä¹Ÿå°±æ˜¯ç±»é—´æµ‹è¯•æ¬¡æ•°TP+FNä»£è¡¨æµ‹è¯•æ­£ä¾‹ï¼Œä¹Ÿå°±æ˜¯ç±»å†…æµ‹è¯•æ¬¡æ•°ï¼ˆè¿™é‡Œç±»å†…æµ‹è¯•æ˜¯æŒ‡åŒå±äºä¸€ä¸ªç±»çš„æ ·æœ¬æµ‹è¯•ï¼Œçœ‹ä»–ä»¬æ˜¯å¦è¶³å¤Ÿæ¥è¿‘ï¼Œç±»é—´æµ‹è¯•æ˜¯å¯¹äºä¸åŒç±»çš„æµ‹è¯•ï¼Œçœ‹ä»–ä»¬è·ç¦»æ˜¯å¦è¶³å¤Ÿå¤§ï¼‰FNä¸ºé”™è¯¯è¯†åˆ«ä¸ºè´Ÿä¾‹çš„æ ·æœ¬ï¼Œä¹Ÿæ˜¯é”™è¯¯æ¥å—çš„æ¬¡æ•°FPåŒç†ä»£è¡¨é”™è¯¯æ‹’ç»çš„æ¬¡æ•° ç„¶åæˆ‘ä»¬ä¼šç”¨ä»¥ä¸‹æŒ‡æ ‡è€ƒæŸ¥ï¼šï¼ˆ1ï¼‰å‡†ç¡®ç‡ï¼šå®éªŒä¸­ç›´æ¥é‡‡ç”¨(TP+TN)/SUMï¼›è€ƒå¯Ÿè¶Šé«˜è¶Šå¥½ã€‚ TPRå¬å›ç‡ï¼šTP/(TP+FN)ï¼›è€ƒå¯Ÿè¶Šé«˜è¶Šå¥½ FPRå‡æ­£ä¾‹ç‡ï¼šFP/(TN+FP)ï¼›è€ƒå¯Ÿè¶Šä½è¶Šå¥½ ï¼ˆ2ï¼‰FARè¯¯è¯†ç‡ï¼šFAR = é”™è¯¯æ¥å—æ¬¡æ•°/ç±»é—´æµ‹è¯•æ¬¡æ•°=FN/(TN+FP)ï¼›è€ƒå¯Ÿè¶Šä½è¶Šå¥½ã€‚ ï¼ˆ3ï¼‰FRRæ‹’è¯†ç‡ï¼šFRR = é”™è¯¯æ‹’ç»æ¬¡æ•°/ç±»å†…æµ‹è¯•æ¬¡æ•°=FP/(TP+FN)ï¼›è€ƒå¯Ÿè¶Šä½è¶Šå¥½ã€‚ Part 2.3 æŸå¤±å‡½æ•°å›é¡¾ äººè„¸è¯†åˆ«å’Œä¸€èˆ¬çš„åˆ†ç±»ä»»åŠ¡ä¸å¤ªä¸€æ ·ï¼Œä»–æ›´å¤§çš„ç‰¹ç‚¹åœ¨äºç±»ç›®å¤šï¼Œæˆ‘ä»¬è®­ç»ƒ13äº¿äººï¼Œè¦è®©ä»–å¯¹åœ°çƒäººè¿›è¡Œé€‚åº”ï¼Œå¹¶ä¸”ç±»é—´å·®è·å¯èƒ½ä¹Ÿå°ï¼Œæ ·æœ¬æœ‰æ—¶ä¸å‡è¡¡ï¼Œæ•°æ®ä¸å¤šã€‚æ‰€ä»¥å¯¹äºäººè„¸è¯†åˆ«è¦æ±‚æœ‰æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ã€å®¹é”™èƒ½åŠ›ã€‚æˆ‘ä»¬ä»åŸºæœ¬çš„softmaxä¸€ç‚¹ä¸€ç‚¹çœ‹ä¸€çœ‹ Part 2.3.1 softmaxæŸå¤±softmaxæŸå¤±å‡½æ•°æ˜¯æœ€ç»å…¸çš„æŸå¤±å‡½æ•°ï¼Œç”¨äºå¤šåˆ†ç±»é—®é¢˜ï¼›softmaxæŸå¤±ä½œç”¨äºæ ‡ç­¾æ‰€å¯¹åº”ç±»Y_içš„å¾—åˆ†ï¼Œä¼˜åŒ–æé«˜å®ƒçš„æ¦‚ç‡å¾—åˆ†ï¼Œæ‰€ä»¥å¯¹äºé—­é›†çš„åˆ†ç±»èƒ½æœ‰ä¸€ä¸ªå¥½çš„ç»“æœï¼›ç„¶è€Œæˆ‘ä»¬äº†è§£äººè„¸è¯†åˆ«ä¸€èˆ¬æ˜¯å¼€é›†çš„ï¼Œæµ‹è¯•é›†æ˜¯æ‰€æœ‰å¯èƒ½è¿›å…¥ä½ çš„æ£€æµ‹ç³»ç»Ÿçš„äººï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜ï¼Ÿä¸€åˆ™æ¥äº†ä¸€ä¸ªå¤–äººï¼Œä½ æ˜¯å¦èƒ½æŠŠä»–æ’å‡ºå»ï¼ŸäºŒåˆ™ç¨å¾®è„¸ä¸Šå˜äº†ç‚¹ï¼Œä½ æ˜¯å¦èƒ½å¾ˆå¥½åœ°åˆ†å¼€ï¼ŸsoftmaxåšæŸå¤±åœ¨è®­ç»ƒé›†èƒ½å¾ˆå¥½çš„åˆ†å¼€ï¼Œä½†æ˜¯ä¸èƒ½å¾ˆå¥½çš„å¢åŠ ç±»å¤–é—´è·ï¼Œå‡å°ç±»å†…é—´è·ã€‚ è¿™é‡Œè¡¥å……ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç±»å†…é—´è·ï¼Œç±»å¤–é—´è·ï¼Ÿåˆ’åˆ†å¤šä¸ªç±»ï¼Œæ— éæ˜¯æŠŠå®ƒæ˜ å°„åˆ°æŸä¸€ä¸ªfeaturemapï¼Œç„¶ååšä¸€ä¸ªè¶…å¹³é¢ï¼ŒæŠŠå®ƒä»¬åˆ†å¼€ï¼Œç±»å†…é—´è·ï¼Œå°±æ˜¯ä¸€ä¸ªç±»è‡ªå·±çš„åˆ’åˆ†åŒºåŸŸæœ€å¤§ä¼¸å±•è·ç¦»ï¼Œå…¶å®å°±æ˜¯å®ƒçš„ç©ºé—´ã€‚ç±»å¤–é—´è·å°±æ˜¯æ¯ä¸ªç±»åŒºåŸŸä¹‹é—´çš„é—´è·ã€‚æˆ‘ä»¬æƒ³è¦çš„ç»“æœæ˜¯ä»–ä»¬ä¹‹é—´çš„é—´éš”å¤§ä¸€ç‚¹ï¼Œè¿™æ ·ä¼šæœ‰ä¸€å®šçš„å®¹é”™èƒ½åŠ›ï¼Œæ³›åŒ–èƒ½åŠ›ï¼›ç±»å†…çš„é—´éš”å°ä¸€äº›ï¼Œè¿™æ ·èšç±»æ•ˆæœæ›´å¥½ä¸€äº›ã€‚ éšåå¤§å®¶å°±å¼€å§‹å¢å¤§ç±»å¤–é—´è·ï¼Œå‡å°ç±»å†…é—´è·çš„æ¢ç´¢ã€‚ Part 2.3.2 Triplet LossTriplet losså±äºMetric Learning, ç›¸æ¯”èµ·softmax, å®ƒå¯ä»¥æ–¹ä¾¿åœ°è®­ç»ƒå¤§è§„æ¨¡æ•°æ®é›†ï¼Œä¸å—æ˜¾å­˜çš„é™åˆ¶ã€‚ç¼ºç‚¹æ˜¯è¿‡äºå…³æ³¨å±€éƒ¨ï¼Œå¯¼è‡´éš¾ä»¥è®­ç»ƒä¸”æ”¶æ•›æ—¶é—´é•¿ è¿™é‡Œæä¸€ä¸‹Metric Learningçš„æ¦‚å¿µï¼Œå®ƒæ˜¯æ ¹æ®ä¸åŒçš„ä»»åŠ¡æ¥è‡ªä¸»å­¦ä¹ å‡ºé’ˆå¯¹æŸä¸ªç‰¹å®šä»»åŠ¡çš„åº¦é‡è·ç¦»å‡½æ•°ã€‚é€šè¿‡è®¡ç®—ä¸¤å¼ å›¾ç‰‡ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œä½¿å¾—è¾“å…¥å›¾ç‰‡è¢«å½’å…¥åˆ°ç›¸ä¼¼åº¦å¤§çš„å›¾ç‰‡ç±»åˆ«ä¸­å»ã€‚é€šå¸¸çš„ç›®æ ‡æ˜¯ä½¿åŒç±»æ ·æœ¬ä¹‹é—´çš„è·ç¦»å°½å¯èƒ½ç¼©å°ï¼Œä¸åŒç±»æ ·æœ¬ä¹‹é—´çš„è·ç¦»å°½å¯èƒ½æ”¾å¤§ã€‚ Triplet lossæ˜¯è¿™ä¹ˆå¹²çš„ï¼Œæä¸‰ç§å›¾ç‰‡è¿›å»ï¼Œå›¾Aï¼Œä¸å›¾AåŒç±»çš„å›¾ï¼Œä¸å›¾Aä¸æ˜¯åŒç±»çš„å›¾ï¼Œç„¶åæŸå¤±å‡½æ•°å¦‚ä¸‹ï¼Œç›®çš„å°±æ˜¯è®©åŒç±»çš„å›¾æ›´è¿‘ï¼Œä¸åŒç±»çš„å›¾æ›´è¿œã€‚ $$L=max(d(a,p)âˆ’d(a,n)+margin,0)$$ Part 2.3.3 L-Softmaxåˆ°L-Softmaxï¼Œäººä»¬å°±å¼€å§‹ç›´æ¥æä¸€ä¸ªé—´è·ç»™æŸå¤±å‡½æ•°ï¼Œä¸‹å›¾ä¸­ç¬¬ä¸€ä¸ªæ˜¯softmaxåšååˆ†ç±»çš„äºŒç»´ç‰¹å¾å›¾ï¼Œå¯ä»¥çœ‹å‡ºæ¥æ˜¯åˆ†å¼€äº†ï¼Œä½†æ˜¯å¾ˆæ‹¥æŒ¤ã€‚å¦‚æœæ”¾ä¸€å¼ è®­ç»ƒé›†ä¹‹å¤–çš„å›¾å¯èƒ½å°±åˆ†é”™äº†ã€‚ è¿™é‡Œæˆ‘å¯¹è¿™ä¸ªå›¾åšä¸€ä¸ªè§£é‡Šï¼Œé¦–å…ˆæ•°æ®å®éªŒæ˜¯å°†æŸå¤±å‡½æ•°å‰çš„embeddingå±‚å®šä¸ºäºŒç»´ï¼ˆX1,X2ï¼‰ä¹Ÿå°±å¯¹åº”ç€å›¾é‡Œçš„æ¨ªçºµåæ ‡ï¼›ç„¶ååœ¨æ­£å¼æŸå¤±ä¹‹å‰æœ‰ä¸ªå…¨è¿æ¥å±‚ï¼Œå¯¹äºè¿™ä¸ªWç»´åº¦åº”è¯¥æ˜¯ï¼ˆ2ï¼Œclassï¼‰è¿™é‡Œå®éªŒæ˜¯å¯¹æ‰‹å†™æ•°å­—ä½“åšå®éªŒï¼Œæ‰€ä»¥class=10ï¼Œè¿™é‡Œæˆ‘ä»¬è®¤ä¸ºW=(W_1,W_2,W_3,â€¦,W_10)ä»£è¡¨10ä¸ªå­æƒé‡ï¼Œå…¶å®æˆ‘ä»¬å»çœ‹$W\\cdot X= ||W|||X| cos\\theta = ( ||W_1|||X| cos\\theta_1,||W_2|||X| cos\\theta_2,â€¦)$æœ€åæ¯ä¸€é¡¹ä»£è¡¨è¯¥ç±»çš„å¾—åˆ†ï¼Œä¹Ÿå°±æ˜¯å“ªä¸€é¡¹å€¼å¤§å°±æ›´å±äºå“ªä¸€ç±»ã€‚æ­¤æ—¶æƒé‡æ˜¯ä¸€ä¸ªå¯è°ƒé‡ï¼Œæˆ‘ä»¬è®¤ä¸ºä»–æ˜¯å¹³é¢å†…åä¸ªå‘é‡ï¼Œç„¶ååŒæ ·ä¸€ä¸ªXçœ‹ä»–å’Œè°çš„ç‚¹ä¹˜æ›´å¤§å°±æ›´å¥½ã€‚å†è€…ç”±äºcosåœ¨0-180åº¦å†…æ˜¯å•è°ƒå‡½æ•°ï¼Œæ‰€ä»¥è§’åº¦è¶Šå°è¶Šå¥½ï¼Œ||W||è¶Šå¤§è¶Šå¥½ã€‚ L-Softmaxå°±å¯¹$\\theta$åšäº†ä¸ªé—´è·ï¼Œå¦‚ä¸‹å…¬å¼ï¼Œå¯¹äºä¸æ˜¯æœ¬ç±»çš„è¿˜æ˜¯åŸæ¥æ“ä½œï¼ˆæ³¨æ„è¿™é‡Œå†™ä¸º$W\\cdot X=||W||||X||cos\\theta$ï¼‰ï¼Œå¯¹äºæœ¬ç±»ï¼Œæˆ‘ä»¬æŠŠè§’åº¦$\\theta$å˜æˆ$m\\theta$ï¼Œæ­¤å¤„mä»£è¡¨æå‡çš„å€æ•°ï¼Œè¿™æ ·è®©ä»–æœ¬æ¥å¯èƒ½æ¨¡å‹è®¤ä¸ºåˆ†ç±»ä¸é”™ï¼Œä½†æ˜¯æˆ‘ä»¬å¼ºè¡ŒæŠŠè§’åº¦å¢å¤§ï¼Œä½¿å¾—æ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œè¿™ä¼šæ¨¡å‹åªèƒ½è¯´å¥½å§ï¼ŒæŒ‰ç…§è¿™ä¸ªç»§ç»­å»ä¼˜åŒ–ï¼Œå»é€‚åº”è¿™ä¸ªé—´éš™ã€‚ å¦å¤–ä¸ºäº†æŸå¤±å‡½æ•°å•è°ƒï¼Œæˆ‘ä»¬æäº†ä¸ªæ¡ä»¶é™åˆ¶mtç„¶åæˆ‘ä»¬å†çœ‹ä¸Šé¢é‚£å¼ å½©å›¾ï¼Œå¯¹äºä¸åŒmï¼ŒæŠ•å°„å‡ºæ¥çš„é—´éš™ç¡®å®ä¸ä¸€æ ·ï¼Œä¹‹é—´çš„é—´éš™è¶Šæ¥è¶Šå¤§ã€‚mè¶Šå¤§åˆ†å‰²çš„ç±»é—´è·è¶Šå¤§ï¼Œç±»å†…é—´è·è¶Šå°ï¼Œèšç±»çš„æ•ˆæœè¶Šå¥½ï¼Œå½“ç„¶è¿™ä¸ªå€¼ä¹Ÿä¸èƒ½å¤ªå¤§ï¼Œå¯èƒ½ä¼šä¸æ”¶æ•›ã€‚ Part 2.3.4 SphereFace( A-softmax)SphereFaceæ˜¯åœ¨L-Softmaxçš„åŸºç¡€ä¸Šå°†æƒé‡è¿›è¡Œå½’ä¸€åŒ–ï¼ŒL-Softmaxä¼šåŒæ—¶ä»è§’åº¦å’Œæƒé‡é•¿åº¦ä¸ŠåŒºåˆ†ä¸åŒç±»åˆ«ï¼Œè€ŒSphereFaceåªä»è§’åº¦ä¸Šå»åŒºåˆ†ä¸åŒç±»åˆ«ï¼ˆå› ä¸º||W|| = 1äº†ï¼‰è¿™é‡Œå¯ä»¥ç”¨ä»–è®ºæ–‡é‡Œè¿™å¼ å›¾ï¼Œè¿™é‡Œï¼ˆaï¼‰å’Œï¼ˆbï¼‰æ˜¯softmax lossçš„ç»“æœï¼›ï¼ˆcï¼‰å’Œï¼ˆdï¼‰æ˜¯é™åˆ¶W1å’ŒW2å‘é‡çš„æ¨¡ç­‰äº1ï¼Œè€Œä¸”b1å’Œb2åç½®ç­‰äº0ï¼Œç§°ä¸ºmodified softmax lossï¼›ï¼ˆeï¼‰å’Œï¼ˆfï¼‰æ˜¯angular softmax lossï¼›æˆ‘ä»¬èƒ½çœ‹å‡ºsoftmaxç‚¹æ¯”è¾ƒæ•£ï¼Œç±»é—´è·å‡ ä¹æ²¡æœ‰ï¼Œæˆ‘ä»¬æŠŠW1æ ‡å‡†åŒ–ï¼Œb=0å‘ç°ï¼Œäº§ç”Ÿäº†ä¸€å®šé—´è·ï¼Œè¿›è€Œä»–åšäº†marginå‘ç°é—´è·æ›´å¤§äº†ã€‚ä¹‹å‰çš„L-softmaxæ²¡æœ‰å¯¹æƒé‡å½’ä¸€åŒ–ï¼Œä½¿å¾—ç±»çš„ç»“æœè¿˜è¦è€ƒè™‘Wï¼Œè¿™æ ·æµ‹é—´è·å°±æ¯”è¾ƒå¤æ‚ï¼ŒA-softmaxåªéœ€è¦è¡¡é‡è§’åº¦å³å¯ã€‚ Part 2.3.5 CosFace( LMSL: Large Margin Cosine Loss)CosFaceçš„æ€æƒ³å’ŒSphereFace( A-softmax)çš„æ€æƒ³æ¥è¿‘ï¼Œå…¶ä¸­ä¸»è¦åšäº†ä»¥ä¸‹ä¸‰ç‚¹çš„æ”¹è¿›ï¼š lossçš„å½¢å¼åšäº†ç¨å¾®çš„æ”¹å˜ï¼Œå°†è¶…å‚æ•°mç”±ä¹˜æ³•è¿ç®—å˜æˆäº†å‡æ³•è¿ç®— ä¸ä»…å¯¹æƒé‡è¿›è¡Œäº†æ­£åˆ™åŒ–ï¼Œè¿˜å¯¹ç‰¹å¾è¿›è¡Œäº†æ­£åˆ™åŒ–ã€‚ å¯¹å½’ä¸€åŒ–åçš„å€¼ä¹˜ä¸Šä¸€ä¸ªscaleå‚æ•°ï¼Œè¶…çƒé¢è¿‡å°æ—¶ï¼Œåˆ†ç±»æ˜ å°„åˆ°è¶…çƒé¢ä¸Šä¸å¥½åˆ†ç±»ï¼Œè¿™ä¸ªscaleå‚æ•°å¯ä»¥æ‰©å¤§è¶…çƒé¢ä½“ç§¯ï¼Œè¿™æ˜¯åé¢çš„æŸå¤±ä¸€ç›´åœ¨ç”¨çš„è§‚ç‚¹ã€‚ Part 2.3.6 ArcFaceArcFaceæ˜¯åœ¨CosFaceåŸºç¡€ä¸Šåˆæ”¹äº†ä¸‹ï¼Œå‰é¢æœ‰è¿‡å¯¹äºè§’åº¦ä¹˜ä»¥ä¸€ä¸ªmarginï¼Œè¿™é‡Œå®ƒç›´æ¥åœ¨è§’åº¦ä¸ŠåŠ ä¸€ä¸ªmarginï¼Œå¾—åˆ°äº†ä¸€ä¸ªå¾ˆå¥½çš„ç»“æœï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚è®ºæ–‡ä¸­å¯¹å¤šä¸ªæŸå¤±å‡½æ•°åšäº†ä¸€ä¸ªå¯¹æ¯”ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ™®é€šsoftmaxå°±æ˜¯åˆ†å¼€å³å¯ï¼Œç±»é—´è·å‡ ä¹æ²¡æœ‰ï¼ŒSpherFaceåœ¨è§’åº¦ä¸Šä¹˜ä»¥marginå¯ä»¥å¢åŠ å†…é—´è·ï¼Œä½†æ˜¯å­˜åœ¨è§’åº¦ä¸º0çš„åœ°æ–¹ä¼šæœ‰äº¤é›†ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼›ArcFaceä¹Ÿæ˜¯åœ¨è§’åº¦ä¸Šåšçš„marginï¼Œä»–æ˜¯ç›´æ¥åŠ ä¸€ä¸ªmarginï¼Œå°±è§£å†³äº†0åº¦è§’çš„äº¤é›†ï¼›CosFaceåˆ™æ˜¯åœ¨è§’åº¦çš„coså€¼åŸºç¡€ä¸ŠåŠ äº†ä¸€ä¸ªmarginä¹Ÿèƒ½åœ¨cosiåŸºç¡€ä¸Šåšå¥½é—´è·ã€‚ Part 3 InsightFacePart 3.1 ä»£ç ç»“æ„æˆ‘åšäº†è¿™ä¹ˆä¸€å¼ å›¾ï¼Œå¤§æ¦‚å±•ç¤ºä»£ç çš„æ•´ä¸ªç»“æ„ï¼ŒInsightfaceæºç åœ¨è¿™ï¼šhttps://github.com/deepinsight/insightface#pretrained-modelsæˆ‘ä»¬å¦‚æœåªå…³æ³¨äººè„¸è¯†åˆ«éƒ¨åˆ†ï¼Œæ›´å¤šçš„è¦å»çœ‹srcä»¥åŠrecognitionéƒ¨åˆ†ä»£ç  Part 3.2 äººè„¸è¯†åˆ«å®éªŒè¿™é‡Œæˆ‘ä»¬ä»¥æ­å»ºä¸€ä¸ªäººè„¸è¯†åˆ«æ–¹æ¡ˆçš„ä¾‹å­å±•å¼€ï¼Œé¦–å…ˆéœ€è¦å‡†å¤‡æ•°æ®ï¼Œæ•°æ®å‡†å¤‡å®Œåæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œäººè„¸è¯†åˆ«+å¯¹é½ï¼Œè¿™éƒ¨åˆ†å¯ä»¥é‡‡ç”¨MTCNNæ–¹æ³•ï¼Œåœ¨src/alignä¸­ï¼Œé™„ä¸Šæˆ‘çš„å®é™…æ“ä½œæ€»ç»“ï¼šinsightfaceæ•°æ®åˆ¶ä½œå…¨è¿‡ç¨‹è®°å½•ç„¶åå¯¹äºå¯¹é½å¥½çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œç”¨insightfaceæä¾›çš„æ¨¡å‹åšåˆæ­¥éªŒè¯ï¼Œå¯ä»¥å‚è€ƒï¼šinsightfaceæµ‹è¯•recognitionéªŒè¯é›†æ•ˆæœå…¨è¿‡ç¨‹æµ‹è¯•ç»“æŸï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œè®­ç»ƒï¼Œå¯ä»¥å‚è€ƒï¼šinsightfaceä¸­recognitionè®­ç»ƒè¿‡ç¨‹ Part 4 äººè„¸è¯†åˆ«éƒ¨ç½²ï¼ˆå¾…è¡¥å……ï¼‰ å¹¸ç¦æ˜¯é è‡ªå·±æ­£ç¡®çš„ï¼ç”¨é»„æ™“æ˜çš„ä¸€å¥è¯ï¼Œæˆ‘ä¸ç®¡ä½ æ€ä¹ˆæƒ³ï¼Œæˆ‘åªè¯´æˆ‘è¦æ€æ ·ï¼åŠ æ²¹ï¼","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"äººè„¸è¯†åˆ«","slug":"è®¡ç®—æœºè§†è§‰/äººè„¸è¯†åˆ«","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"}],"tags":[{"name":"insightface","slug":"insightface","permalink":"http://www.cloudcver.com/tags/insightface/"},{"name":"äººè„¸è¯†åˆ«","slug":"äººè„¸è¯†åˆ«","permalink":"http://www.cloudcver.com/tags/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"}]},{"title":"python + webæ“ä½œ çˆ¬è™« è‡ªåŠ¨å¡«å†™è¡¨å•","slug":"python + webæ“ä½œ çˆ¬è™« è‡ªåŠ¨å¡«å†™è¡¨å•","date":"2019-08-21T02:41:15.000Z","updated":"2019-11-23T08:54:04.529Z","comments":true,"path":"2019/08/21/python + webæ“ä½œ çˆ¬è™« è‡ªåŠ¨å¡«å†™è¡¨å•/","link":"","permalink":"http://www.cloudcver.com/2019/08/21/python%20+%20web%E6%93%8D%E4%BD%9C%20%E7%88%AC%E8%99%AB%20%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%86%99%E8%A1%A8%E5%8D%95/","excerpt":"æœ€è¿‘æƒ³åšä¸€ä¸ªè‡ªåŠ¨å¡«è¡¨å•æäº¤çš„ç¨‹åºï¼Œç”¨åˆ°äº†webdriverè¿™ä¸ªä¸œè¥¿ï¼Œåšäº†ç®€ç­”çš„æ€»ç»“ã€‚","text":"æœ€è¿‘æƒ³åšä¸€ä¸ªè‡ªåŠ¨å¡«è¡¨å•æäº¤çš„ç¨‹åºï¼Œç”¨åˆ°äº†webdriverè¿™ä¸ªä¸œè¥¿ï¼Œåšäº†ç®€ç­”çš„æ€»ç»“ã€‚ Pre install packageå®‰è£…webdriveråº“(chormeç‰ˆæœ¬)ï¼šæ‰¾åˆ°ä½ çš„ç‰ˆæœ¬ï¼Œä¸‹è½½å¥½æ”¾åˆ°Google/Chrome/Applicationæ–‡ä»¶å¤¹ä¸‹http://npm.taobao.org/mirrors/chromedriver/é…ç½®ç¯å¢ƒå˜é‡C:\\Users\\menglingjun\\AppData\\Local\\Google\\Chrome\\ApplicationæŠŠè¿™ä¸ªåŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œå¯èƒ½ä½ é‚£ä¸ä¸€æ ·ï¼Œå°±æ˜¯æŠŠchromedriveråœ¨çš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚ å®‰è£…python seleniumåº“1pip3 install selenium åŸºæœ¬æ“ä½œå¯¼å…¥webåº“1from selenium import webdriveråˆ›å»ºdriverå¯¹è±¡å¹¶è¯»å–æŸç½‘é¡µ12driver= webdriver.Chrome()driver.get('http://www.baidu.com')è·å–ç½‘é¡µä¸ŠæŸå…ƒç´ å¹¶æ”¹å†…å®¹ç½‘é¡µä¸Šæœ‰ä¸ªå®¡æŸ¥å…ƒç´ ï¼Œå¯ä»¥å³é”®çœ‹å®¡æŸ¥å…ƒç´ ï¼Œè¿™ä¸ªå¤§å®¶éƒ½ä¼šã€‚googleæµè§ˆå™¨ä¸­å«åšâ€œæ£€æŸ¥â€ ç‚¹å‡»ä¸‹å›¾ä¸­é‚£ä¸ªæŒ‰é’®ï¼Œå°±å¯ä»¥è¿›å…¥é€‰å–çŠ¶æ€ï¼Œæ­¤æ—¶æˆ‘ä»¬é€‰å–å·¦ä¾§æŸä¸ªå†…å®¹ï¼Œå³ä¾§å°±ä¼šå¯¹åº”åˆ°ä»–é‚£ä¸€è¡Œä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒçš„idï¼Œnameç­‰ä¿¡æ¯ã€‚æ ¹æ®è¿™äº›idã€nameæ‰¾åˆ°å®ƒçš„ä½ç½®ã€‚è¿™é‡Œå¯ä»¥by_idä¹Ÿå¯ä»¥by_nameç­‰ç­‰ï¼Œç„¶åsend_keyæ›´æ”¹ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼š12name = driver.find_element_by_id(\"id_username\")name.send_keys(\"data_operation\") æŒ‰é’®ç±»æ“ä½œè·å–æŒ‰é’®ï¼Œç„¶åç‚¹å‡»ã€‚12login_button = driver.find_element_by_class_name(\"submit-row\")login_button.click() æ€»ç»“é€šè¿‡è¿™äº›æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç½‘é¡µè¡¨å•è‡ªåŠ¨å¡«å†™ã€‚","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"},{"name":"ç½‘ç»œçˆ¬è™«","slug":"python/ç½‘ç»œçˆ¬è™«","permalink":"http://www.cloudcver.com/categories/python/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://www.cloudcver.com/tags/%E7%88%AC%E8%99%AB/"},{"name":"webdriver","slug":"webdriver","permalink":"http://www.cloudcver.com/tags/webdriver/"}]},{"title":"VIMæœ€è¿‘ä½¿ç”¨å¸¸è§æŒ‡ä»¤æ€»ç»“","slug":"VIMæœ€è¿‘ä½¿ç”¨å¸¸è§æŒ‡ä»¤æ€»ç»“","date":"2019-08-15T02:41:15.000Z","updated":"2019-11-23T08:23:02.627Z","comments":true,"path":"2019/08/15/VIMæœ€è¿‘ä½¿ç”¨å¸¸è§æŒ‡ä»¤æ€»ç»“/","link":"","permalink":"http://www.cloudcver.com/2019/08/15/VIM%E6%9C%80%E8%BF%91%E4%BD%BF%E7%94%A8%E5%B8%B8%E8%A7%81%E6%8C%87%E4%BB%A4%E6%80%BB%E7%BB%93/","excerpt":"æœ¬æ–‡æ€»ç»“äº†VIMç¼–è¾‘å™¨çš„ä¸€äº›å¸¸è§æŒ‡ä»¤","text":"æœ¬æ–‡æ€»ç»“äº†VIMç¼–è¾‘å™¨çš„ä¸€äº›å¸¸è§æŒ‡ä»¤ 1 åŸºæœ¬åŠŸ åŸºæœ¬ä¸Š vi/vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰ï¼Œè¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰å’Œåº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰ã€‚ 1.1 å‘½ä»¤æ¨¡å¼ï¼šç”¨æˆ·åˆšåˆšå¯åŠ¨ vi/vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚ æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢«Vimè¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè€Œéè¾“å…¥å­—ç¬¦ã€‚æ¯”å¦‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹iï¼Œå¹¶ä¸ä¼šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œiè¢«å½“ä½œäº†ä¸€ä¸ªå‘½ä»¤ã€‚ i åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ï¼Œä»¥è¾“å…¥å­—ç¬¦ã€‚ x åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚ : åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚ 1.2 è¾“å…¥æ¨¡å¼åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹iå°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ã€‚è¾“å…¥çŠ¶æ€å°±ç›´æ¥æ‰“å­—å°±å¯ä»¥ï¼Œè®°ä½ä»¥ä¸‹å‡ ä¸ªæŒ‡ä»¤ HOME/ENDï¼Œç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–/è¡Œå°¾ Page Up/Page Downï¼Œä¸Š/ä¸‹ç¿»é¡µ Insertï¼Œåˆ‡æ¢å…‰æ ‡ä¸ºè¾“å…¥/æ›¿æ¢æ¨¡å¼ï¼Œå…‰æ ‡å°†å˜æˆç«–çº¿/ä¸‹åˆ’çº¿ ESCï¼Œé€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼ è®°ä½å†™å®Œäº†æŒ‰ä¸‹ESCå°±å›åˆ°å‘½ä»¤æ¨¡å¼1.1ä¸­ 1.3 åº•çº¿å‘½ä»¤æ¨¡å¼åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼š q é€€å‡ºç¨‹åº w ä¿å­˜æ–‡ä»¶ q! è‹¥æ›¾ä¿®æ”¹è¿‡æ¡£æ¡ˆï¼Œåˆä¸æƒ³å‚¨å­˜ï¼Œä½¿ç”¨ ! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ¡£æ¡ˆã€‚ ä¸€èˆ¬æˆ‘ä»¬å†™å®Œäº†ï¼ŒæŒ‰ESCå›é€€åˆ°å‘½ä»¤æ¨¡å¼ï¼Œå†æŒ‰:qwå›è½¦ä¿å­˜å¹¶é€€å‡ºã€‚ 2 å‘½ä»¤æ¨¡å¼å…¶ä»–åŠŸèƒ½å‘½ä»¤æ¨¡å¼ä¸‹é¡µé¢å˜æ¢ nG n ä¸ºæ•°å­—ã€‚ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ n è¡Œã€‚ä¾‹å¦‚ 20G åˆ™ä¼šç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ 20 è¡Œ gg ç§»åŠ¨åˆ°è¿™ä¸ªæ¡£æ¡ˆçš„ç¬¬ä¸€è¡Œï¼Œç›¸å½“äº 1G å•Šï¼ (å¸¸ç”¨) n n ä¸ºæ•°å­—ã€‚å…‰æ ‡å‘ä¸‹ç§»åŠ¨ n è¡Œ(å¸¸ç”¨) [Ctrl] +[f] å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Down]æŒ‰é”® (å¸¸ç”¨) [Ctrl] + [b] å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº[Page Up] æŒ‰é”® (å¸¸ç”¨) [Ctrl] + [d] å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨åŠé¡µ [Ctrl] + [u] å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨åŠé¡µ æœç´¢æ›¿æ¢åŠŸèƒ½ /word å‘å…‰æ ‡ä¹‹ä¸‹å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚è¦åœ¨æ¡£æ¡ˆå†…æœå¯» vbird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±è¾“å…¥ /vbird å³å¯ï¼(å¸¸ç”¨) ?word å‘å…‰æ ‡ä¹‹ä¸Šå¯»æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²åç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚ n è¿™ä¸ª n æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä»£è¡¨é‡å¤å‰ä¸€ä¸ªæœå¯»çš„åŠ¨ä½œã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œ å¦‚æœåˆšåˆšæˆ‘ä»¬æ‰§è¡Œ /vbird å»å‘ä¸‹æœå¯» vbird è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰ä¸‹ n åï¼Œä¼šå‘ä¸‹ç»§ç»­æœå¯»ä¸‹ä¸€ä¸ªåç§°ä¸º vbird çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ˜¯æ‰§è¡Œ ?vbird çš„è¯ï¼Œé‚£ä¹ˆæŒ‰ä¸‹ n åˆ™ä¼šå‘ä¸Šç»§ç»­æœå¯»åç§°ä¸º vbird çš„å­—ç¬¦ä¸²ï¼ N è¿™ä¸ª N æ˜¯è‹±æ–‡æŒ‰é”®ã€‚ä¸ n åˆšå¥½ç›¸åï¼Œä¸ºã€åå‘ã€è¿›è¡Œå‰ä¸€ä¸ªæœå¯»åŠ¨ä½œã€‚ ä¾‹å¦‚ /vbird åï¼ŒæŒ‰ä¸‹ N åˆ™è¡¨ç¤ºã€å‘ä¸Šã€æœå¯» vbird ã€‚ :1,$s/word1/word2/g æˆ– :%s/word1/word2/g ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œå¯»æ‰¾ word1 å­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸º word2 ï¼(å¸¸ç”¨) :1,$s/word1/word2/gc æˆ– :%s/word1/word2/gc ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œå¯»æ‰¾ word1 å­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸º word2 ï¼ä¸”åœ¨å–ä»£å‰æ˜¾ç¤ºæç¤ºå­—ç¬¦ç»™ç”¨æˆ·ç¡®è®¤ (confirm) æ˜¯å¦éœ€è¦å–ä»£ï¼(å¸¸ç”¨) å‚è€ƒæ–‡çŒ®[1]èœé¸Ÿæ•™ç¨‹ https://www.runoob.com/linux/linux-vim.html","categories":[{"name":"LINUX","slug":"LINUX","permalink":"http://www.cloudcver.com/categories/LINUX/"}],"tags":[{"name":"vim","slug":"vim","permalink":"http://www.cloudcver.com/tags/vim/"}]},{"title":"python å‚æ•°æ¨¡å—argparseä½¿ç”¨","slug":"python å‚æ•°æ¨¡å—argparseä½¿ç”¨","date":"2019-08-13T02:41:15.000Z","updated":"2019-11-22T14:52:43.715Z","comments":true,"path":"2019/08/13/python å‚æ•°æ¨¡å—argparseä½¿ç”¨/","link":"","permalink":"http://www.cloudcver.com/2019/08/13/python%20%E5%8F%82%E6%95%B0%E6%A8%A1%E5%9D%97argparse%E4%BD%BF%E7%94%A8/","excerpt":"python å‚æ•°æ¨¡å—argparseä½¿ç”¨æœ€è¿‘åœ¨ç”¨ï¼Œåšä¸‹æ€»ç»“ï¼","text":"python å‚æ•°æ¨¡å—argparseä½¿ç”¨æœ€è¿‘åœ¨ç”¨ï¼Œåšä¸‹æ€»ç»“ï¼ argparseæ˜¯pythonçš„ä¸€ä¸ªå‘½ä»¤è¡Œè§£æåŒ…ï¼Œç”¨äºç¼–å†™å¯è¯»æ€§éå¸¸å¥½çš„ç¨‹åº 1åˆ›å»ºå‚æ•°å¯¼å…¥åŒ…ï¼›åˆ›å»ºå‚æ•°12import argparseparser = argparse.ArgumentParser(\"name\") 2æ·»åŠ å‚æ•°æ·»åŠ å‚æ•°ï¼ŒåŒ…æ‹¬å‚æ•°ådata_dirè¡¨ç¤ºä¸ºâ€”data-dirdefaulté»˜è®¤å€¼helpæ³¨æ„ï¼šæ‰€æœ‰å‚æ•°å‡ä¸ºå­—ç¬¦ä¸²å‹1234parser.add_argument('--data-dir', default='', help='')parser.add_argument('--image-size', type=str, default='112,112', help='')parser.add_argument('--output', default='', help='path to save.')parser.add_argument('--num-samepairs',default=100) 3ç¨‹åºä¸­ç”¨å‚æ•°åˆ›å»ºå¯¹è±¡ï¼Œç„¶åè·å–å®ƒçš„å€¼12args = parser.parse_args()lfw_dir = args.data_dir 4å‘½ä»¤è¡Œå¦‚ä½•ç”¨1python3 verification.py --data-dir ../lfw --nfolds 10 --target lfw 5å‚æ•°åˆ†ç»„è®¾ç½®123456789101112add_argument_group()å‚æ•°åˆ†ç»„è®¾ç½®ã€‚å½“æœ‰åˆ†ç»„å‘½ä»¤çš„éœ€æ±‚æ—¶å¯ç”¨ï¼Œè¾“å…¥å‚æ•°å°†å½’äºæ‰€å±åˆ†ç»„ä¸‹.parser = argparse.ArgumentParser( formatter_class=argparse.ArgumentDefaultsHelpFormatter, description='Create an image list or \\ make a record database by reading from an image list') parser.add_argument('prefix', help='prefix of input/output lst and rec files.') cgroup = parser.add_argument_group('Options for creating image lists') cgroup.add_argument('--list', action='store_true', help='') 6å‚æ•°actionæœ‰çš„å‚æ•°å¸¦æœ‰actionè¡¨ç¤ºåœ¨å‘½ä»¤è¡Œæ—¶ç›´æ¥åŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼Œä¸èµ‹å€¼å°±ç›´æ¥æŒ‰ç…§actionè¡ŒåŠ¨ã€‚ä¾‹å¦‚ï¼šä¸‹é¢çš„è¡ŒåŠ¨æ˜¯store_trueï¼Œè®¾ç½®listä¸ºçœŸï¼Œè¿™æ ·1cgroup.add_argument('--list', action='store_true',help=' ')è¿™æ ·ç¨‹åºä¸­å¯ä»¥12if args.list: make_list(args)è¿è¡Œæ—¶ç›´æ¥åŠ â€”listä»£è¡¨è®¾ç½®ä¸ºçœŸ1python3 im2rec.py --list --recursive ../../datasets/lfw/lfw ../../datasets/lfw2","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[{"name":"argparse","slug":"argparse","permalink":"http://www.cloudcver.com/tags/argparse/"}]},{"title":"python æ–‡ä»¶æ“ä½œOSæ€»ç»“","slug":"python æ–‡ä»¶æ“ä½œOSæ€»ç»“","date":"2019-08-13T02:41:15.000Z","updated":"2019-11-23T08:24:19.409Z","comments":true,"path":"2019/08/13/python æ–‡ä»¶æ“ä½œOSæ€»ç»“/","link":"","permalink":"http://www.cloudcver.com/2019/08/13/python%20%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9COS%E6%80%BB%E7%BB%93/","excerpt":"æœ¬æ–‡æ€»ç»“äº†å…³äºpythonæ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œã€‚","text":"æœ¬æ–‡æ€»ç»“äº†å…³äºpythonæ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œã€‚ python æ–‡ä»¶æ“ä½œOSæ€»ç»“æœ€è¿‘åœ¨ç”¨ï¼Œåä¸‹æ€»ç»“ï¼ osçš„ä¸€äº›æ“ä½œ os.listdir(path)åˆ—å‡ºè¯¥æ–‡ä»¶å¤¹ä¸‹é¢çš„ç›®å½•ï¼Œä¸€èˆ¬è¿™ä¹ˆç”¨123folders_1 = os.listdir(prefix)for folder in folders_1: ...#éå†è¿™ä¸ªç›®å½• os.makedirs(path)åˆ›å»ºè¯¥è·¯å¾„1os.makedirs(path, mode=0o777) os.path() æ¨¡å—æ–‡ä»¶è·¯å¾„æ¨¡å—1ã€è·¯å¾„æ‹†åˆ†1os.path.split(path) æŠŠè·¯å¾„åˆ†å‰²æˆ dirname å’Œ basenameï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„2ã€è·¯å¾„åˆå¹¶1os.path.join(path1, path2,...) æŠŠç›®å½•å’Œæ–‡ä»¶ååˆæˆä¸€ä¸ªè·¯å¾„3ã€æŸ¥çœ‹è·¯å¾„æ˜¯å¦å­˜åœ¨1os.path.exists(path) è·¯å¾„å­˜åœ¨åˆ™è¿”å›True,è·¯å¾„æŸåè¿”å›Falseä¸€èˆ¬è¿™ä¹ˆç”¨12if not os.path.exists(out_dir): os.makedirs(out_dir) open()æ‰“å¼€æ–‡ä»¶1open(name[, mode[, buffering]])æ¨¡å¼å¦‚ä¸‹ä¾‹å¦‚ï¼š 123456789with open(img_root_path, 'r') as f: for line in f.readlines()[0:]: pair = line.strip().split(',') pairs_end += pairs_F[int(pair[0])],pairs_N[int(pair[1])] if pair == 'same': issame_list.append('True') else: issame_list.append('False')return pairs_end,issame_list åˆ›å»ºæ–‡ä»¶å¯¹è±¡ï¼Œåˆä¼šè¡ç”Ÿå‡ºä»–çš„æ–¹æ³• file å¯¹è±¡æ–¹æ³•file.read([size])ï¼šsize æœªæŒ‡å®šåˆ™è¿”å›æ•´ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å¤§å° &gt;2 å€å†…å­˜åˆ™æœ‰é—®é¢˜ï¼Œf.read()è¯»åˆ°æ–‡ä»¶å°¾æ—¶è¿”å›â€â€(ç©ºå­—ä¸²)ã€‚file.readline()ï¼šè¿”å›ä¸€è¡Œã€‚è¿™ä¸ªåœ¨ä¸Šé¢é‚£ä¸ªä¾‹å­æåˆ°ï¼Œæˆ‘ä»¬ä¸€è¡Œä¸€è¡Œè¯»å–ã€‚file.readlines([size]) ï¼šè¿”å›åŒ…å«sizeè¡Œçš„åˆ—è¡¨, size æœªæŒ‡å®šåˆ™è¿”å›å…¨éƒ¨è¡Œã€‚for line in f: print line ï¼šé€šè¿‡è¿­ä»£å™¨è®¿é—®ã€‚f.write(â€œhello\\nâ€)ï¼šå¦‚æœè¦å†™å…¥å­—ç¬¦ä¸²ä»¥å¤–çš„æ•°æ®,å…ˆå°†ä»–è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚f.tell()ï¼šè¿”å›ä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºå½“å‰æ–‡ä»¶æŒ‡é’ˆçš„ä½ç½®(å°±æ˜¯åˆ°æ–‡ä»¶å¤´çš„æ¯”ç‰¹æ•°)ã€‚f.seek(åç§»é‡,[èµ·å§‹ä½ç½®])ï¼šç”¨æ¥ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆã€‚åç§»é‡: å•ä½ä¸ºæ¯”ç‰¹ï¼Œå¯æ­£å¯è´Ÿèµ·å§‹ä½ç½®: 0 - æ–‡ä»¶å¤´, é»˜è®¤å€¼; 1 - å½“å‰ä½ç½®; 2 - æ–‡ä»¶å°¾f.close() å…³é—­æ–‡ä»¶","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[{"name":"os","slug":"os","permalink":"http://www.cloudcver.com/tags/os/"}]},{"title":"insightfaceä¸­recognitionè®­ç»ƒè¿‡ç¨‹","slug":"insightfaceä¸­recognitionè®­ç»ƒè¿‡ç¨‹","date":"2019-08-09T02:41:15.000Z","updated":"2019-11-22T14:47:56.279Z","comments":true,"path":"2019/08/09/insightfaceä¸­recognitionè®­ç»ƒè¿‡ç¨‹/","link":"","permalink":"http://www.cloudcver.com/2019/08/09/insightface%E4%B8%ADrecognition%E8%AE%AD%E7%BB%83%E8%BF%87%E7%A8%8B/","excerpt":"insightfaceä¸­recognitionè®­ç»ƒè¿‡ç¨‹","text":"insightfaceä¸­recognitionè®­ç»ƒè¿‡ç¨‹ 1 configæ–‡ä»¶åˆ°ç›®å½•/recognition/ä¸‹æœ‰sample_config.pyæ–‡ä»¶ï¼Œè¿™æ˜¯ç»™äº†ä¸ªæ ·ä¾‹é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¤åˆ¶ä¸€ä¸‹èµ·åconfig.pyç„¶åç¼–è¾‘ config.py 12cp sample_config.py config.pyvim config.py configä¸‹åšäº†ä¸€äº›é…ç½® defaulté»˜è®¤é…ç½®configé…ç½®networkç½‘ç»œæ¨¡å‹å‚æ•°lossæŸå¤±å‡½æ•°é€‰æ‹©datasetæ•°æ®é›†é…ç½®generate_configç”Ÿæˆé…ç½®æ–‡ä»¶ï¼ŒæŠŠnetworkã€lossã€dataseté…ç½®éƒ½åŠ è½½configä¸Šã€‚ ç„¶åçœ‹train.pyæ–‡ä»¶ 2 mainä¸»å‡½æ•°æ¯”è¾ƒç®€å•ï¼Œå‚æ•°å¡«è¿›å»å°±å¯ä»¥äº†ã€‚è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„ä¸‹å‚æ•°è¿™ä¸€å—ã€‚1234def main(): global args args = parse_args() train_net(args) åˆ°æœ€å¼€å§‹é‚£é‡Œæœ‰å‚æ•°ï¼Œå¦‚ä¸‹ï¼Œæˆ‘ä»¬æ³¨æ„å…ˆæ¥ä¸‰ä¸ªå‚æ•°datasetã€networkã€lossç„¶åæœ‰ä¸€ä¸ªgenerate_configç”Ÿæˆé…ç½®ï¼Œå§ä¸‰ä¸ªå‚æ•°ç»„åˆåˆ°configé‡Œï¼Œè¿™é‡Œè¿™ä¸‰ä¸ªå‚æ•°è¦å’Œconfig.pyé‡Œé¢æ¯ä¸ªå‚æ•°èµ·çš„åå­—ä¸€æ ·å“¦ä¾‹å¦‚dataset : emore retina å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±æ”¹é…ç½®æ–‡ä»¶è‡ªå·±åŠ network :r100 r50 r100fcâ€¦ 1234567891011121314151617181920212223def parse_args(): parser = argparse.ArgumentParser(description='Train face network') # general parser.add_argument('--dataset', default=default.dataset, help='dataset config') parser.add_argument('--network', default=default.network, help='network config') parser.add_argument('--loss', default=default.loss, help='loss config') args, rest = parser.parse_known_args() generate_config(args.network, args.dataset, args.loss) parser.add_argument('--models-root', default=default.models_root, help='root directory to save model.') parser.add_argument('--pretrained', default=default.pretrained, help='pretrained model to load') parser.add_argument('--pretrained-epoch', type=int, default=default.pretrained_epoch, help='pretrained epoch to load') parser.add_argument('--ckpt', type=int, default=default.ckpt, help='checkpoint saving option. 0: discard saving. 1: save when necessary. 2: always save') parser.add_argument('--verbose', type=int, default=default.verbose, help='do verification testing and model saving every verbose batches') parser.add_argument('--lr', type=float, default=default.lr, help='start learning rate') parser.add_argument('--lr-steps', type=str, default=default.lr_steps, help='steps of lr changing') parser.add_argument('--wd', type=float, default=default.wd, help='weight decay') parser.add_argument('--mom', type=float, default=default.mom, help='momentum') parser.add_argument('--frequent', type=int, default=default.frequent, help='') parser.add_argument('--per-batch-size', type=int, default=default.per_batch_size, help='batch size in each context') parser.add_argument('--kvstore', type=str, default=default.kvstore, help='kvstore setting') args = parser.parse_args() return args ç„¶åä¸»è¦çœ‹train.pyæ–‡ä»¶ 3 trainå‰é¢ä¼šé€‰æ‹©GPUï¼Œç„¶åmake å­˜æ¨¡å‹çš„æ–‡ä»¶å¤¹ï¼Œç„¶åè¯»æ•°æ®é›†binæ–‡ä»¶ åŠ è½½é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¦‚æœæœ‰é¢„è®­ç»ƒæ¨¡å‹ï¼Œå°±ç›´æ¥åŠ è½½checkpointæ¨¡å‹å‚æ•°åˆ°arg_paramsï¼Œaux_paramsï¼Œç„¶åsym = get_symbol(args)èµ°ä¸€ä¸ªå‰å‘ä¼ æ’­ï¼Œå¦‚æœæ²¡æœ‰æ¨¡å‹åˆ™å£°æ˜ä¸ªnoneã€‚å‚æ•°åœ¨åé¢fitæ—¶æœ‰ç”¨ã€‚ 1234567891011if len(args.pretrained)==0: arg_params = None aux_params = None sym = get_symbol(args) if config.net_name=='spherenet': data_shape_dict = &#123;'data' : (args.per_batch_size,)+data_shape&#125; spherenet.init_weights(sym, data_shape_dict, args.num_layers)else: print('loading', args.pretrained, args.pretrained_epoch) _, arg_params, aux_params = mx.model.load_checkpoint(args.pretrained, args.pretrained_epoch) sym = get_symbol(args) è¿™é‡Œæœ‰ä¸ªget_symbolå‰é¢æœ‰å®šä¹‰ï¼Œæˆ‘ä»¬åˆ°å‰é¢èƒ½çœ‹åˆ°ï¼Œå†™äº†ä¸€å¤§å †ï¼Œæˆ‘ä»¬çœ‹ä¸€ç‚¹è¿™é‡Œå…ˆè·å–ä½ çš„ç½‘ç»œçš„æ¨¡å‹net_nameè¿™ä¸€å¥—åœ¨/recognition/symbolæœ‰resnetç­‰ç­‰çš„get_symbolï¼Œè¿™ä¸ªç‰¹å¾æå®Œåï¼ŒåŠ å…¨è¿æ¥å±‚ï¼Œåˆ†åˆ«æœ‰softmaxç­‰ç­‰ã€‚12345678910111213def get_symbol(args): embedding = eval(config.net_name).get_symbol() all_label = mx.symbol.Variable(&apos;softmax_label&apos;) gt_label = all_label is_softmax = True if config.loss_name==&apos;softmax&apos;: #softmax _weight = mx.symbol.Variable(&quot;fc7_weight&quot;, shape=(config.num_classes, config.emb_size), lr_mult=config.fc7_lr_mult, wd_mult=config.fc7_wd_mult, init=mx.init.Normal(0.01)) if config.fc7_no_bias: fc7 = mx.sym.FullyConnected(data=embedding, weight = _weight, no_bias = True, num_hidden=config.num_classes, name=&apos;fc7&apos;) else: _bias = mx.symbol.Variable(&apos;fc7_bias&apos;, lr_mult=2.0, wd_mult=0.0) fc7 = mx.sym.FullyConnected(data=embedding, weight = _weight, bias = _bias, num_hidden=config.num_classes, name=&apos;fc7&apos;) å›åˆ°trainä¸Šæ¥ç„¶åè®¡ç®—ç®—åŠ›ï¼Œè¿™éƒ¨åˆ†æ—¶flops_counter.pyåœ¨/commonä¸‹ï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹ä¸€ä¸‹ã€‚ 1234567#è®¡ç®—æ¶ˆè€—ç®—åŠ›if config.count_flops: all_layers = sym.get_internals() _sym = all_layers['fc1_output'] FLOPs = flops_counter.count_flops(_sym, data=(1,3,image_size[0],image_size[1])) _str = flops_counter.flops_str(FLOPs) print('Network FLOPs: %s'%_str) åé¢åˆ›å»ºæ¨¡å‹contexé»˜è®¤é€‰æ‹©CPUï¼Œç»™ctxGPUåºå·symbolç»™å‡ºè®¡ç®—çš„è¾“å‡ºå³å¯ã€‚symbol: the network definitioncontext: the device (or a list of devices) to use for executiondata_names : the list of input data variable nameslabel_names : the list of input label variable names 1234model = mx.mod.Module( context = ctx, symbol = sym,) ä¸»è¦çœ‹model.fit 1234567891011121314model.fit(train_dataiter, begin_epoch = begin_epoch, num_epoch = 999999, eval_data = val_dataiter, eval_metric = eval_metrics, kvstore = args.kvstore, optimizer = opt, #optimizer_params = optimizer_params, initializer = initializer, arg_params = arg_params, aux_params = aux_params, allow_missing = True, batch_end_callback = _batch_callback, epoch_end_callback = epoch_cb ) å‚æ•°è§£é‡Šå¦‚ä¸‹train_data (DataIter) â€“ Train DataIter.eval_data (DataIter) â€“ éªŒè¯é›†æ•°æ®ï¼Œæ¯ä¸ªepochä¼šéªŒè¯ä¸€ä¸‹ï¼Œå¯ä»¥é€‰æ‹©noneepoch_end_callback (function or list of functions) â€“ æ¯ä¸€æ¬¡epochè°ƒç”¨ä¸€æ¬¡batch_end_callback (function or list of function) â€“ æ¯ä¸ªbatchè°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥å­˜æ”¾ä¸€äº›æ‰“å°å‡½æ•°æˆ–è€…æˆ‘ä»¬æ›´æ–°å­¦ä¹ ç‡kvstore (str or KVStore) â€“ Defaults to â€˜localâ€™.optimizer (str or Optimizer) â€“ Defaults to â€˜sgdâ€™.ä¼˜åŒ–å™¨initializer (Initializer) â€“ The initializer is called to initialize the module parameters when they are not already initialized.arg_params (dict) â€“ åˆå§‹åŒ–å‚æ•°ï¼Œé»˜è®¤æ²¡æœ‰aux_params (dict) â€“ auxå‚æ•°åŒä¸Šallow_missing (bool) â€“ åœ¨æœ‰é¢„è®­ç»ƒå‚æ•°æ—¶æ˜¯å¦å…è®¸ä¸¢å¤±ï¼Œä¹Ÿå°±æ˜¯å¦‚æœå…è®¸ï¼Œåˆ™ä¸Šé¢çš„å‚æ•°ä¸‡ä¸€æœ‰ä¸¢çš„ï¼Œæˆ‘ä»¬å°±éšæœºåˆå§‹åŒ–ã€‚begin_epoch (int) â€“ å¼€å§‹çš„æ¬¡æ•°ï¼Œä»å‡ å¼€å§‹è®¡æ•°num_epoch (int) â€“ è®­ç»ƒepoch ç„¶åçœ‹åˆ°modelæ¯ä¸ªepochè°ƒç”¨äº†å›è°ƒå‡½æ•°ï¼Œåšäº†ç‚¹å•¥å‘¢ä¸»è¦æ—¶å½“æ•°æ®é‡è¾¾åˆ°ä¸€å®šå°±æ‰“å°æ•°æ®ï¼Œå½“æµ‹è¯•æ•ˆæœå¥½çš„æ—¶å€™å°±ä¿å­˜æ¨¡å‹ã€‚ 4è¿è¡Œ1CUDA_VISIBLE_DEVICES=&apos;0,1,2,3&apos; python -u train.py --network r50 --loss arcface --dataset emore","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"äººè„¸è¯†åˆ«","slug":"è®¡ç®—æœºè§†è§‰/äººè„¸è¯†åˆ«","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"}],"tags":[{"name":"insightface","slug":"insightface","permalink":"http://www.cloudcver.com/tags/insightface/"}]},{"title":"linuxæœåŠ¡å™¨ä¸‹ä¸€äº›æ“ä½œ","slug":"linuxæœåŠ¡å™¨ä¸‹ä¸€äº›æ“ä½œ","date":"2019-08-09T02:41:15.000Z","updated":"2019-11-22T14:38:15.110Z","comments":true,"path":"2019/08/09/linuxæœåŠ¡å™¨ä¸‹ä¸€äº›æ“ä½œ/","link":"","permalink":"http://www.cloudcver.com/2019/08/09/linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C/","excerpt":"æœ¬æ–‡æ€»ç»“äº†æœ€è¿‘ä½¿ç”¨linuxæœåŠ¡å™¨ç”¨åˆ°çš„ä¸€äº›åŸºæœ¬æ“ä½œ","text":"æœ¬æ–‡æ€»ç»“äº†æœ€è¿‘ä½¿ç”¨linuxæœåŠ¡å™¨ç”¨åˆ°çš„ä¸€äº›åŸºæœ¬æ“ä½œ 1 é“¾æ¥æœåŠ¡å™¨1ssh menglingjun@hpcgpu9.ai.lycc.qihoo.net è¾“å…¥å¯†ç â€¦ 2 åˆ›å»ºè½¯è¿æ¥12345readlink -f ./insightface/äº§ç”Ÿè½¯è¿æ¥/data/menglingjun/insightfaceå¤åˆ¶ä¸€ä¸‹ï¼Œç„¶ååˆ°Homeä¸‹ln -s /data/menglingjun/insightface . 3 æŸ¥å†…å­˜æƒ…å†µ1df -h 4 æŸ¥çœ‹æ–‡ä»¶è¯¦æƒ…123ll /~ homeç›®å½•pwdæ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•ç»å¯¹è·¯å¾„ 5 æŸ¥çœ‹GPUæƒ…å†µ1nvidia-smi 6 å®‰è£…PIPåŒ…åˆ°ä¸ªäººç”¨æˆ·ä¸‹1pip3 install packget --user 71pip --default-timeout=100 install -U packget 8 æŸ¥çœ‹æœ¬æœºIP12ifconfigls -lhtæŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¿¡æ¯ 9 windowsæŠŠæ–‡ä»¶ä¼ åˆ°linuxä¸‹1234567scp -rp menglingjun@10.173.226.203:/home/menglingjun/insightface/insightface-master/datasets/lfw2/Micky_Arison/Micky_Arison_0001.jpg d:/ascp /d:/1.txt menglingjun@10.160.167.27:/home/menglingjun/ascp -r /d:/a menglingjun@10.160.167.27:/home/menglingjun/a#æ‹·è´æ•´ä¸ªç›®å½•scp /d:/im2rec.py menglingjun@10.173.226.203:/home/menglingjun/insightface/insightface-master/src/data/scp menglingjun@10.173.226.203 :/home/menglingjun/a/d:/1.txt /d:/ascp /d:/generate_image_pairs.py menglingjun@10.173.226.203:/home/menglingjun/insightface/insightface-master/src/data/ 10 åˆ é™¤æ–‡ä»¶å¤¹1rm -rf //","categories":[{"name":"LINUX","slug":"LINUX","permalink":"http://www.cloudcver.com/categories/LINUX/"}],"tags":[]},{"title":"insightfaceæµ‹è¯•recognitionéªŒè¯é›†æ•ˆæœå…¨è¿‡ç¨‹","slug":"insightfaceæµ‹è¯•recognitionéªŒè¯é›†æ•ˆæœå…¨è¿‡ç¨‹","date":"2019-08-08T03:41:15.000Z","updated":"2019-11-22T14:51:30.468Z","comments":true,"path":"2019/08/08/insightfaceæµ‹è¯•recognitionéªŒè¯é›†æ•ˆæœå…¨è¿‡ç¨‹/","link":"","permalink":"http://www.cloudcver.com/2019/08/08/insightface%E6%B5%8B%E8%AF%95recognition%E9%AA%8C%E8%AF%81%E9%9B%86%E6%95%88%E6%9E%9C%E5%85%A8%E8%BF%87%E7%A8%8B/","excerpt":"insightfaceæµ‹è¯•recognitionéªŒè¯é›†æ•ˆæœå…¨è¿‡ç¨‹","text":"insightfaceæµ‹è¯•recognitionéªŒè¯é›†æ•ˆæœå…¨è¿‡ç¨‹ æœ¬è¿‡ç¨‹åœ¨insightfaceä»£ç ä¸‹ä½œå®éªŒï¼Œæºä»£ç å‚è€ƒhttps://github.com/deepinsight/insightface#pretrained-modelså®éªŒæµ‹è¯•recognitionä¸‹çš„evaléªŒè¯ 1æ•°æ®å‡†å¤‡æ•°æ®å‡†å¤‡å‚è€ƒåšæ–‡ï¼šinsightfaceæ•°æ®åˆ¶ä½œå…¨è¿‡ç¨‹è®°å½•https://blog.csdn.net/CLOUD_J/article/details/98769515 2evaléªŒè¯åœ¨/recognition/evalä¸‹verification.pyæ–‡ä»¶ 1python3 verification.py --data-dir ../../datasets/lfw --model ../../models/model-r50-am-lfw/model,0 --nfolds 10 è¿è¡Œæ—¶å‡ºç°äº†ç‚¹é—®é¢˜ï¼Œä¸»è¦åœ¨äºæˆ‘ä»¬ä¹‹å‰å‡†å¤‡æ•°æ®é›†æ—¶æ²¡æœ‰æ‰“ä¹±æ•°æ®å¯¼è‡´æ­£æ ·æœ¬æŒ¤åœ¨ä¸€èµ·ï¼Œä¼šä½¿è¿™ä¸€éƒ¨åˆ†æ•°æ®è´Ÿæ ·æœ¬ä¸º0ï¼Œæˆ‘ä»¬è®¡ç®—æ­£ç¡®ç‡ä¼šç”¨è´Ÿæ ·æœ¬è¯†åˆ«æ­£ç¡®æ¯”ä¸Šæ€»è´Ÿæ ·æ ·æœ¬æ•°ï¼Œåˆ†æ¯å‡ºç°0ï¼Œæ‰€ä»¥åšäº†æ›´æ”¹calculate_val_farå‡½æ•° 1234567891011121314151617def calculate_val_far(threshold, dist, actual_issame): predict_issame = np.less(dist, threshold) true_accept = np.sum(np.logical_and(predict_issame, actual_issame)) false_accept = np.sum(np.logical_and(predict_issame, np.logical_not(actual_issame))) n_same = np.sum(actual_issame) n_diff = np.sum(np.logical_not(actual_issame)) #print(true_accept, false_accept) #print(n_same, n_diff) if n_same == 0: val = 1 else: val = float(true_accept) / float(n_same) if n_diff == 0: far = 0 else: far = float(false_accept) / float(n_diff) return val, far 3ä»£ç è§£æ3.1ä¸»å‡½æ•°ä¸»å‡½æ•°é¦–å…ˆåšäº†æ¨¡å‹è½½å…¥ï¼Œæ•°æ®è½½å…¥binæ–‡ä»¶ï¼Œç„¶åå¯¹è½½å…¥çš„æ¨¡å‹åˆ†åˆ«åšæµ‹è¯•ï¼Œæ£€æµ‹å„ä¸ªæ¨¡å‹æ•°æ®æ•ˆæœã€‚æ ¸å¿ƒåœ¨è¿™é‡Œï¼Œéå†ver_listä¸åŒæ•°æ®é›†ï¼Œéå†netsä¸åŒæ¨¡å‹12345678910111213141516if args.mode==0: for i in range(len(ver_list)): results = [] for model in nets: acc1, std1, acc2, std2, xnorm, embeddings_list = test(ver_list[i], model, args.batch_size, args.nfolds) print('[%s]XNorm: %f' % (ver_name_list[i], xnorm)) print('[%s]Accuracy: %1.5f+-%1.5f' % (ver_name_list[i], acc1, std1)) print('[%s]Accuracy-Flip: %1.5f+-%1.5f' % (ver_name_list[i], acc2, std2)) results.append(acc2) print('Max of [%s] is %1.5f' % (ver_name_list[i], np.max(results))) elif args.mode==1: model = nets[0] test_badcase(ver_list[0], model, args.batch_size, args.target) else: model = nets[0] dumpR(ver_list[0], model, args.batch_size, args.target)ç„¶åå†æç¤ºå‡ ç‚¹ï¼Œ1--model', default='../../models/model-r50-am-lfw/model,50è¯¥å‚æ•°ä»£è¡¨æ¨¡å‹è·¯å¾„çš„åå­—åŠ ä¸Šè®­ç»ƒçš„epochï¼Œ../../models/model-r50-am-lfwæ˜¯è·¯å¾„ï¼Œç„¶åmodelæ˜¯åå­—ï¼›åé¢çš„50æ˜¯epochå°±æ˜¯ä½ å¯èƒ½åœ¨è®­ç»ƒæ—¶ä¼šæŠŠå¤šä¸ªepochçš„ç»“æœè¾“å‡ºï¼Œä½ å¯èƒ½éªŒè¯ä¸åŒepochå½“æ—¶æ¨¡å‹å‚æ•°çš„æ•ˆæœã€‚ 3.2 testå‡½æ•°æµ‹è¯•å‡½æ•°é¦–å…ˆå‰å‘ä¼ æ’­å¾—åˆ°è¾“å‡ºç‰¹å¾ï¼Œç„¶åè®¡ç®—å®ƒçš„èŒƒæ•°ï¼Œä¹‹åè®¡ç®—ä»–çš„å‡†ç¡®ç‡ å‰å‘ä¼ æ’­ä¸»è¦åœ¨è¿™ï¼è¿™é‡Œå¯¹ä½ çš„å¤šä¸ªæ•°æ®é›†éå†ï¼Œå½“ç„¶ä½ è¦æ˜¯åªæœ‰ä¸€ä¸ªæ•°æ®é›†å°±ä¸€æ¬¡æ¥¼ã€‚dataæ•°æ®é›†ï¼Œbaå’Œbbéšä¾¿èµ·çš„åå­—ï¼Œç„¶åå°±è¿™æ ·ä¸æ–­å–batchsizeè¿›è¡Œå‰å‘ä¼ æ’­model.forward(db, is_train=False)ç„¶åå°†è¾“å‡ºå­˜åˆ°embeddingsè¿™ä¸ªä¸œè¥¿é‡Œï¼Œæœ€åå°†å¤šä¸ªæ•°æ®é›†éƒ½å­˜åˆ°embeddings_list1234567891011121314151617181920212223242526for i in range( len(data_list) ): data = data_list[i] embeddings = None ba = 0 while ba&lt;data.shape[0]: bb = min(ba+batch_size, data.shape[0]) count = bb-ba _data = nd.slice_axis(data, axis=0, begin=bb-batch_size, end=bb) #print(_data.shape, _label.shape) time0 = datetime.datetime.now() if data_extra is None: db = mx.io.DataBatch(data=(_data,), label=(_label,)) else: db = mx.io.DataBatch(data=(_data,_data_extra), label=(_label,)) model.forward(db, is_train=False) net_out = model.get_outputs()#è·å–è¾“å‡º _embeddings = net_out[0].asnumpy() time_now = datetime.datetime.now() diff = time_now - time0 time_consumed+=diff.total_seconds() #print(_embeddings.shape) if embeddings is None:#ç¬¬ä¸€æ¬¡çš„è¯å…ˆåˆ›å»ºä¸€ä¸ªåˆ—è¡¨ embeddings = np.zeros( (data.shape[0], _embeddings.shape[1]) ) embeddings[ba:bb,:] = _embeddings[(batch_size-count):,:]#è¡¥è¿›å» ba = bb embeddings_list.append(embeddings) ç¬¬äºŒæ­¥ï¼Œåšäº†ä¸ªèŒƒæ•°è®¡ç®—è®¡ç®—ä¸€ä¸‹ç‰¹å¾çš„æ€»å¹³å‡èŒƒæ•°12345678910_xnorm = 0.0_xnorm_cnt = 0for embed in embeddings_list: for i in range(embed.shape[0]): _em = embed[i] _norm=np.linalg.norm(_em) #print(_em.shape, _norm) _xnorm+=_norm _xnorm_cnt+=1_xnorm /= _xnorm_cntç¬¬ä¸‰æ­¥ è®¡ç®—å‡†ç¡®ç‡è¿™é‡Œä¼ å…¥ç‰¹å¾åˆ—è¡¨å’Œæ ‡ç­¾åˆ—è¡¨è¿˜æœ‰nrof_foldsï¼Œå•¥æ„æ€ï¼Œè¿™ä¸ªæ˜¯åšKæŠ˜æ£€æµ‹çš„ï¼Œåˆ†Kä»½æ£€æµ‹ã€‚12_, _, accuracy, val, val_std, far = evaluate(embeddings, issame_list, nrof_folds=nfolds)acc2, std2 = np.mean(accuracy), np.std(accuracy)è¿™é‡Œæœ‰ä¸€ç‚¹æ³¨æ„ï¼Œæ–‡ä¸­æœ‰ä¸ª embeddings = embeddings_list[0] + embeddings_list[1]æˆ‘ç†è§£æŠŠä¸¤ä¸ªæ•°æ®é›†ç»„åˆéªŒè¯ã€‚ 3.3evaluateè¯„ä¼°å‡½æ•°é¦–å…ˆå…ˆå°†æ•°æ®é›†åˆ†äº†ä¸¤å—ï¼Œå°±æ˜¯åŸæ¥æ˜¯è¿™æ ·A1 A2 A3 A4 B1 B2è¿™æ ·A1å’ŒA2å¯¹æ¯”åŒç±»1æ”¹æˆè¿™æ ·A1 A3 B1å¥‡æ•°æ”¾ä¸€èµ·A2 A4 B2å¶æ•°æ”¾ä¸€èµ· pythonä¸­a::bä»£è¡¨ä»aå¼€å§‹ä»¥bå•ä½å¢é•¿ è¿™é‡Œè¿˜æäº†ä¸ªthresholdsä½œä¸ºé˜ˆå€¼ï¼Œä¼šåœ¨è¯„ä¼°å‡½æ•°é‡Œéå†å¯»æ‰¾æœ€å¥½çš„é˜ˆå€¼ã€‚å®Œäº‹åšäº†ä¸¤ä¸ªè¯„ä¼°calculate_roccalculate_val 1234567891011def evaluate(embeddings, actual_issame, nrof_folds=10, pca = 0): # Calculate evaluation metrics thresholds = np.arange(0, 4, 0.01) embeddings1 = embeddings[0::2] embeddings2 = embeddings[1::2] tpr, fpr, accuracy = calculate_roc(thresholds, embeddings1, embeddings2, np.asarray(actual_issame), nrof_folds=nrof_folds, pca = pca) thresholds = np.arange(0, 4, 0.001) val, val_std, far = calculate_val(thresholds, embeddings1, embeddings2, np.asarray(actual_issame), 1e-3, nrof_folds=nrof_folds) return tpr, fpr, accuracy, val, val_std, far 3.4 calculate_rocç¬¬ä¸€æ­¥ å…ˆç”Ÿå‘½ä¸€ä¸ªKæŠ˜æ•°æ®ç±»1ã€è¿™é‡Œassertæ˜¯æ–­è¨€çš„æ„æ€ï¼Œå°±æ˜¯è¯´åé¢é‚£å¥è¯ä¸å¯¹å°±ç›´æ¥æŠ¥é”™ï¼›2ã€LFoldåœ¨å‰é¢æœ‰å£°æ˜ç±»ï¼Œå°±æ˜¯è°ƒç”¨kfoldè¿™ä¸ªåŒ…3ã€12345678910assert(embeddings1.shape[0] == embeddings2.shape[0]) assert(embeddings1.shape[1] == embeddings2.shape[1]) nrof_pairs = min(len(actual_issame), embeddings1.shape[0]) nrof_thresholds = len(thresholds) k_fold = LFold(n_splits=nrof_folds, shuffle=False) tprs = np.zeros((nrof_folds,nrof_thresholds)) fprs = np.zeros((nrof_folds,nrof_thresholds)) accuracy = np.zeros((nrof_folds)) indices = np.arange(nrof_pairs) ç¬¬äºŒæ­¥ï¼Œæ±‚äº†ä¸‹èŒƒæ•°è·ç¦»æ¬§å¼è·ç¦» 123if pca==0: diff = np.subtract(embeddings1, embeddings2)#åšå‡æ³• dist = np.sum(np.square(diff),1)#æ±‚å¹³æ–¹å’Œ ç¬¬ä¸‰æ­¥ éå†thresholdså¯»æ‰¾æœ€å¥½çš„é˜ˆå€¼ã€‚k_fold.split(indices)æ˜¯åˆ†æ•°æ®å‡½æ•°ï¼Œç”¨è®­ç»ƒé›†å–æ‰¾å¥½çš„é˜ˆå€¼ï¼Œç”¨æµ‹è¯•æœºæ‰“åˆ†ã€‚tprsæš‚æ—¶æ²¡ç”¨ï¼Œå…³æ³¨accuracyå‡†ç¡®ç‡12345678910111213141516171819202122232425262728for fold_idx, (train_set, test_set) in enumerate(k_fold.split(indices)): #print('train_set', train_set) #print('test_set', test_set) if pca&gt;0: print('doing pca on', fold_idx) embed1_train = embeddings1[train_set] embed2_train = embeddings2[train_set] _embed_train = np.concatenate( (embed1_train, embed2_train), axis=0 ) #print(_embed_train.shape) pca_model = PCA(n_components=pca) pca_model.fit(_embed_train) embed1 = pca_model.transform(embeddings1) embed2 = pca_model.transform(embeddings2) embed1 = sklearn.preprocessing.normalize(embed1) embed2 = sklearn.preprocessing.normalize(embed2) #print(embed1.shape, embed2.shape) diff = np.subtract(embed1, embed2) dist = np.sum(np.square(diff),1) # Find the best threshold for the fold acc_train = np.zeros((nrof_thresholds)) for threshold_idx, threshold in enumerate(thresholds):#éå†æ‰¾æœ€å¥½é˜ˆå€¼ _, _, acc_train[threshold_idx] = calculate_accuracy(threshold, dist[train_set], actual_issame[train_set]) best_threshold_index = np.argmax(acc_train) #print('threshold', thresholds[best_threshold_index]) for threshold_idx, threshold in enumerate(thresholds): tprs[fold_idx,threshold_idx], fprs[fold_idx,threshold_idx], _ = calculate_accuracy(threshold, dist[test_set], actual_issame[test_set]) _, _, accuracy[fold_idx] = calculate_accuracy(thresholds[best_threshold_index], dist[test_set], actual_issame[test_set]) 3.5 å‡†ç¡®ç‡è®¡ç®—æ ¸å¿ƒå‡½æ•°åœ¨è¿™ï¼Œæˆ‘ä»¬çš„æ”¹åŠ¨ä¹Ÿåœ¨è¿™é‡Œã€‚ è¯´å‡ ä¸ªæ³¨æ„ np.lessæ±‚æœ€å°å€¼ï¼Œæ±‚æ¯ä¸ªå€¼ä¸é˜ˆå€¼ç›¸æ¯”ï¼Œå¦‚æœæ¯”é˜ˆå€¼å°åˆ™çœŸã€‚np.logical_andä»£è¡¨é€»è¾‘ä¸çš„æ„æ€ï¼Œå°±æ˜¯ä¸¤ä¸ªnumpyè¿›è¡Œä¸ï¼ŒæŠŠé¢„æµ‹å’ŒçœŸå®è¿›è¡Œä¸ä¸€ä¸‹å¾—åˆ°tpï¼Œå°±æ˜¯é¢„æµ‹æ­£ç¡®çš„æ­£æ ·æœ¬truepositiveã€‚np.logical_not(actual_issame)ä»£è¡¨å–åï¼Œç»™çœŸæ˜¯æ ·æœ¬å–åï¼Œfp = np.sum(np.logical_and(predict_issame, np.logical_not(actual_issame)))è¿™æ ·ä»£è¡¨é¢„æµ‹å’ŒçœŸå®æ ·æœ¬å–åçš„ä¸å°±æ˜¯é”™è¯¯é¢„æµ‹çš„æ­£æ ·æœ¬ã€‚tnï¼Œfnä¸€æ ·ã€‚ 1234567891011def calculate_accuracy(threshold, dist, actual_issame): predict_issame = np.less(dist, threshold) tp = np.sum(np.logical_and(predict_issame, actual_issame)) fp = np.sum(np.logical_and(predict_issame, np.logical_not(actual_issame))) tn = np.sum(np.logical_and(np.logical_not(predict_issame), np.logical_not(actual_issame))) fn = np.sum(np.logical_and(np.logical_not(predict_issame), actual_issame)) tpr = 0 if (tp+fn==0) else float(tp) / float(tp+fn) fpr = 0 if (fp+tn==0) else float(fp) / float(fp+tn) acc = float(tp+tn)/dist.size return tpr, fpr, acc æœ€åç»“æœå¦‚ä¸‹Accuracyæ²¡æœ‰ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªæ•°æ®é›†ï¼Œè¿™é‡Œæˆ‘ç†è§£çš„æ˜¯Acuuracyæ˜¯å•ä¸ªæ•°æ®é›†å‡†ç¡®ç‡ï¼ŒAccuracy-Flipå’Œå…¶ä»–æ•°æ®é›†æ··åœ¨ä¸€èµ·ï¼Œè¿™é‡Œå°±çœ‹0.99675å³å¯ã€‚ å‰é¢é˜ˆå€¼æ‰“å°å‡ºæ¥æ˜¯1.39 4ç»“æœ LFW CFP-FP renet-r50 99.63%(99.80%) 92.66%(92.74%) renet-r100 99.81%(99.77%) 95.94%(98.27%) æ³¨æ„ï¼šæ‹¬å·å†…ä¸ºgithubä½œè€…çš„ç»“æœï¼Œæ‹¬å·å‰ä¸ºæˆ‘çš„ç»“æœã€‚ç»“æœå–batchsize=16 ç›®å‰å¯¹äºå·®åˆ«æœ‰äº›ç–‘é—®ï¼Œè¿˜ç­‰å¾…å‘ç°ï¼Œå¦‚æœ‰å¤§ç¥èƒ½æŒ‡ç‚¹ï¼Œè¿˜è¯·æŒ‡å¯¼ã€‚ 5é—®é¢˜1ã€å†…å­˜é—®é¢˜è€ƒè™‘å‡å°batchsize1python3 verification.py --data-dir ../../datasets/lfw2/ --model ../../models/model-r100-ii/model,0 --nfolds 10 --batch-size 16","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"äººè„¸è¯†åˆ«","slug":"è®¡ç®—æœºè§†è§‰/äººè„¸è¯†åˆ«","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"}],"tags":[{"name":"insightface","slug":"insightface","permalink":"http://www.cloudcver.com/tags/insightface/"}]},{"title":"insightfaceæ•°æ®åˆ¶ä½œå…¨è¿‡ç¨‹è®°å½•","slug":"insightfaceæ•°æ®åˆ¶ä½œå…¨è¿‡ç¨‹è®°å½•","date":"2019-08-07T02:41:15.000Z","updated":"2019-11-22T14:51:35.453Z","comments":true,"path":"2019/08/07/insightfaceæ•°æ®åˆ¶ä½œå…¨è¿‡ç¨‹è®°å½•/","link":"","permalink":"http://www.cloudcver.com/2019/08/07/insightface%E6%95%B0%E6%8D%AE%E5%88%B6%E4%BD%9C%E5%85%A8%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/","excerpt":"insightfaceæ•°æ®åˆ¶ä½œå…¨è¿‡ç¨‹è®°å½•","text":"insightfaceæ•°æ®åˆ¶ä½œå…¨è¿‡ç¨‹è®°å½•æµ‹è¯•insightfaceæ—¶å‘ç°éœ€è¦è°ƒæ•´æ•°æ®ï¼Œinsigtface/datasetså±äºå­˜æ”¾æ•°æ®çš„ç›®å½•ï¼Œinsightface/src/dataä¸­å­˜æ”¾äº†æ•°æ®å¤„ç†çš„ä¸€äº›ä»£ç ï¼ŒåŒ…æ‹¬recæ–‡ä»¶ç”Ÿæˆã€‚ 1æ•°æ®å¯¹é½æˆ‘ä»¬ç”¨lfwæ•°æ®åšå®éªŒï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æ‰¾æ•°æ®ã€‚ lfwæ•°æ®http://vis-www.cs.umass.edu/lfw/æˆ‘ä¸‹è½½çš„æ˜¯è¿™ä¸ªåŸå›¾åƒhttps://drive.google.com/file/d/1p1wjaqpTh_5RHfJu4vUh8JJCdKwYMHCp/view?usp=sharing datasets/lfwdataä¸‹å­˜æ”¾æ•°æ®lfwdataä¸‹åˆ†ç›®å½•å­˜æ”¾æ¯ä¸€ç±»çš„æ•°æ®ï¼Œæ¯ä¸ªäººä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢å­˜å›¾ã€‚åœ¨src/aligné‡Œæä¾›äº†äººè„¸å¯¹é½çš„ä»£ç ï¼Œæ£€æµ‹åŠ å¯¹é½1python3 align_lfw.py --input-dir ../../datasets/lfwdata --output-dir ../../datasets/lfw2æ³¨æ„ï¼šè¿™é‡Œcfp-fpæ•°æ®é›†çš„å¯¹é½å’Œlfwä¸ä¸€æ ·ï¼ŒåŸå› åœ¨äºç›®å½•å±‚çº§ä¸ä¸€æ ·ï¼Œcfp-fpæ•°æ®ç›®å½•ä¸‹æ¯ä¸ªpersonè¿˜åˆ†æ­£è„¸ä¾§è„¸ï¼Œæ‰€ä»¥åœ¨éå†æ—¶ä¸å¤ªä¸€è‡´ï¼Œæˆ‘ä»¬åˆå†™äº†align_cfp.pyæ–‡ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬å¤åˆ¶ä¸€ä»½align_lfw.pyåˆ°align_cfp.pyã€‚ç„¶åæ”¹mainå‡½æ•°é‡Œ1ã€æ•°æ®è·¯å¾„éå†æ–¹å¼å˜ä¸ºytfï¼Œè¿™ä¸ªä½ å»çœ‹face_imageæœ‰å®šä¹‰12dataset = face_image.get_dataset('ytf', args.input_dir)print('dataset size', 'lfw', len(dataset))2ã€113è¡Œæ”¹ä¸€ä¸‹ç”Ÿæˆæ–°çš„è·¯å¾„å­˜å‚¨å›¾ç‰‡è¿™é‡Œ123img = img[:,:,0:3]_paths = fimage.image_path.split('/')a,b,c = _paths[-3], _paths[-2],_paths[-1] 2ç”Ÿæˆlistæ–‡ä»¶è¿™é‡Œinsightfaceæä¾›çš„face2rec2ä¸èƒ½ç”Ÿæˆlistï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰¾äº†ä¸ªç¨‹åºç¨åä¸Šä¼ ï¼Œç”¨im2rec.pyï¼Œè¿™ä¸ªç¨‹åºä¹Ÿæ˜¯ç”Ÿæˆrecçš„ï¼Œæˆ‘ä»¬åŠ ä¸Šå‚æ•°â€”list å°±ç”Ÿæˆlstæ–‡ä»¶ â€”recursiveä»£è¡¨éå†æ–‡ä»¶ä¸‹æ‰€æœ‰ç›®å½•ã€‚../../datasets/lfw/lfwè¾“å‡ºç›®å½•æœ€ålfwä»£è¡¨listçš„åå­—ï¼Œä¸ç”¨åŠ åç¼€ã€‚../../datasets/lfw2å›¾ç‰‡ç›®å½•1python3 im2rec.py --list --recursive ../../datasets/lfw/train ../../datasets/lfw2 3ç”Ÿæˆrec &amp;idx æ–‡ä»¶ï¼ˆä¾æ‰˜äºlistï¼‰ç”Ÿæˆrecæ–‡ä»¶ï¼ŒæŠŠâ€”listå»æ‰../../datasets/lfw/train.lstä»£è¡¨lstçš„ç›®å½•../../datasets/lfw2åŸå›¾å­˜åœ¨çš„ç›®å½•1python3 im2rec.py ../../datasets/lfw/train.lst ../../datasets/lfw2 4åˆ›å»ºpropertyé…ç½®æ–‡ä»¶ç›´æ¥åˆ›å»ºä¸€ä¸ªåä¸ºpropertyçš„æ–‡ä»¶ï¼Œæ²¡æœ‰åç¼€å†™1000,112,112ä»£è¡¨IDæ•°é‡,å°ºå¯¸,å°ºå¯¸ ç›®å‰datasets/lfw/ç›®å½•ä¸‹å­˜åœ¨lfw.lst lfw.rec lfw.idx 5 åˆ›å»ºpairæ–‡ä»¶ä¸ºäº†åšæµ‹è¯•æˆ‘ä»¬éœ€è¦ç”ŸæˆéªŒè¯é›†ç”¨çš„binæ–‡ä»¶ï¼Œbinæ–‡ä»¶ç”Ÿæˆå‰éœ€è¦åšpairæ–‡ä»¶ï¼Œå°±æ˜¯ä¸€å¯¹ä¸€å¯¹çš„æ•°æ®ï¼Œæ¯ä¸€è¡Œåˆ†åˆ«æ˜¯å›¾Açš„ç›®å½• ç©ºæ ¼ å›¾Bçš„ç›®å½• ç©ºæ ¼ æ ‡å¿—0/1ï¼ˆä»£è¡¨ä¸¤å¼ å›¾ç±»åˆ«ä¸€è‡´å¦ï¼‰åˆ©ç”¨generate_image_pairs.pyï¼ˆæºæ–‡ä»¶æœ‰é—®é¢˜ï¼Œå·²ä¿®æ”¹ï¼‰ç¨åä¸Šä¼ ï¼Œé™„å½•æœ‰../../datasets/lfw2å¯¹é½å›¾åƒç›®å½•../../datasets/lfw/train.txtå­˜æ”¾txt100è¦å¤šå°‘ä¸ªæ•°æ® 1python3 generate_image_pairs.py --data-dir ../../datasets/lfw2 --outputtxt ../../datasets/lfw/train.txt --num-samepairs 100 æ³¨æ„ï¼šè¿™é‡Œç”Ÿæˆpairsçš„æ–¹æ³•ä¸å¤ªå¥½ï¼Œæ•°æ®é›†ç»™äº†ä¸€äº›æ ‡å‡†çš„pairsæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªè„šæœ¬å–è§£è¯»ï¼Œå…·ä½“å¦‚ä¸‹ï¼š lfwåœ¨insightfaceé‡Œé¢æœ‰pair.txtcfpæ²¡æœ‰ï¼Œåªæœ‰ä¸€ç»„FPå¯¹ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å†™ä¸ªè„šæœ¬ï¼Œè¿™é‡Œæˆ‘å†™å¥½äº†ä¸Šä¼ æ¥ã€‚æˆ‘ä»¬ä¾ç„¶æ”¾åˆ°src/dataä¸‹cfp_make_bin.pycfpç»™äº†è¿™ä¸ªç›®å½•æœ‰ä¸€ç»„å¯¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import mxnet as mxfrom mxnet import ndarray as ndimport argparseimport pickleimport sysimport osparser = argparse.ArgumentParser(description=&apos;Package LFW images&apos;)# generalparser.add_argument(&apos;--data-dir&apos;, default=&apos;&apos;, help=&apos;&apos;)parser.add_argument(&apos;--image-size&apos;, type=str, default=&apos;112,112&apos;, help=&apos;&apos;)parser.add_argument(&apos;--output&apos;, default=&apos;&apos;, help=&apos;path to save.&apos;)parser.add_argument(&apos;--num-samepairs&apos;,default=100)args = parser.parse_args()data_dir = args.data_dirimage_size = [int(x) for x in args.image_size.split(&apos;,&apos;)]pairs_end = []def get_paths(): pairs = [] prefix = os.path.join(data_dir,&apos;Protocol/&apos;) #prefix = &quot;/Split/&quot; prefix_F = os.path.join(prefix, &quot;Pair_list_F.txt&quot;) pairs_F = [] prefix_P = os.path.join(prefix,&quot;Pair_list_P.txt&quot;) pairs_P = [] pairs_end = [] issame_list = [] #è¯»pairlistæ–‡ä»¶ with open(prefix_F, &apos;r&apos;) as f: for line in f.readlines()[0:]: pair = line.strip().split() pairs_F.append(pair[1]) print(len(pairs_F)) with open(prefix_P, &apos;r&apos;) as f: for line in f.readlines()[0:]: pair = line.strip().split() pairs_P.append(pair[1]) print(len(pairs_P)) #è¯»pairæ–‡ä»¶ prefix = os.path.join(data_dir,&quot;Protocol/Split/FP&quot;) folders_1 = os.listdir(prefix) for folder in folders_1: sublist = [] same_list = [] pairtxt = os.listdir(os.path.join(prefix, folder)) for pair in pairtxt: img_root_path = os.path.join(prefix, folder, pair) with open(img_root_path, &apos;r&apos;) as f: for line in f.readlines()[0:]: #print(line) pair1 = line.strip().split(&apos;,&apos;) #print(pair) pairs_end += (os.path.join(data_dir,&apos;Protocol/&apos;,pairs_F[int(pair1[0])-1]),os.path.join(data_dir,&apos;Protocol/&apos;,pairs_P[int(pair1[1])-1])) #print(pair) if pair == &apos;same.txt&apos;: #print(&apos;ok!&apos;) issame_list.append(True) else: issame_list.append(False) return pairs_end,issame_list 6 ç”ŸæˆéªŒè¯é›†binæ–‡ä»¶å®Œäº‹ååˆ©ç”¨/src/data/ä¸‹çš„ lfw2pack.pyç”Ÿæˆbinæ–‡ä»¶ä½†æ˜¯æœ‰ç‚¹é—®é¢˜ï¼Œéœ€è¦ä¿®æ”¹ä¸‹ï¼Œå‚è€ƒè¿™ç¯‡åšå®¢https://blog.csdn.net/hanjiangxue_wei/article/details/86566348ä¿®æ”¹lfw2pack.pyä¸­19è¡Œï¼Œæ‰“#çš„ä¸ºæ›´æ”¹çš„ï¼Œæ”¹ä¸ºä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯txtè¯»å‡ºæ¥çš„åˆ—è¡¨ï¼Œå¦ä¸€ä¸ªæ˜¯æ€»æ•°é‡ã€‚æ³¨æ„ï¼šcfpè·³è¿‡å°±å¯ä»¥äº†1234567891011121314151617181920212223242526272829303132333435363738import mxnet as mxfrom mxnet import ndarray as ndimport argparseimport pickleimport sysimport ossys.path.append(os.path.join(os.path.dirname(__file__), &apos;..&apos;, &apos;eval&apos;))import lfwparser = argparse.ArgumentParser(description=&apos;Package LFW images&apos;)# generalparser.add_argument(&apos;--data-dir&apos;, default=&apos;&apos;, help=&apos;&apos;)parser.add_argument(&apos;--image-size&apos;, type=str, default=&apos;112,112&apos;, help=&apos;&apos;)parser.add_argument(&apos;--output&apos;, default=&apos;&apos;, help=&apos;path to save.&apos;)parser.add_argument(&apos;--num-samepairs&apos;,default=100)args = parser.parse_args()lfw_dir = args.data_dirimage_size = [int(x) for x in args.image_size.split(&apos;,&apos;)]lfw_pairs = lfw.read_pairs(os.path.join(lfw_dir, &apos;train.txt&apos;))print(lfw_pairs)lfw_paths, issame_list = lfw.get_paths(lfw_pairs,int(args.num_samepairs)+1)#, &apos;jpg&apos;)lfw_bins = []#lfw_data = nd.empty((len(lfw_paths), 3, image_size[0], image_size[1]))print(len(issame_list))i = 0for path in lfw_paths: with open(path, &apos;rb&apos;) as fin: _bin = fin.read() lfw_bins.append(_bin) #img = mx.image.imdecode(_bin) #img = nd.transpose(img, axes=(2, 0, 1)) #lfw_data[i][:] = img i+=1 if i%1000==0: print(&apos;loading lfw&apos;, i)with open(args.output, &apos;wb&apos;) as f: pickle.dump((lfw_bins, issame_list), f, protocol=pickle.HIGHEST_PROTOCOL)å¯¹åº”çš„get_pathsè¿™ä¸ªæ–‡ä»¶å­˜åœ¨src\\eval\\lfw.pyä¸‹ï¼ŒæŠŠä»–ä¹Ÿæ”¹äº†1234567891011121314151617181920212223def get_paths(pairs, same_pairs): nrof_skipped_pairs = 0 path_list = [] issame_list = [] cnt = 1 for pair in pairs: path0 = pair[0] path1 = pair[1] if cnt &lt; same_pairs: issame = True else: issame = False if os.path.exists(path0) and os.path.exists(path1): # Only add the pair if both paths exist path_list += (path0,path1) issame_list.append(issame) else: print(&apos;not exists&apos;, path0, path1) nrof_skipped_pairs += 1 cnt += 1 if nrof_skipped_pairs&gt;0: print(&apos;Skipped %d image pairs&apos; % nrof_skipped_pairs) return path_list, issame_listä¹‹åå†è¿è¡Œ1python3 lfw2pack.py --data-dir ../../datasets/lfw --output ../../datasets/lfw/lfw.bin --num-samepairs 300 é™„å½•generate_image_pairs.pyã€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869# coding:utf-8import sysimport osimport randomimport timeimport itertoolsimport pdbimport argparse#src = '../../datasets/lfw2'#dst = open('../../datasets/lfw/train.txt', 'a')parser = argparse.ArgumentParser(description='generate image pairs')# generalparser.add_argument('--data-dir', default='', help='')parser.add_argument('--outputtxt', default='', help='path to save.')parser.add_argument('--num-samepairs',default=100)args = parser.parse_args()cnt = 0same_list = []diff_list = []list1 = []list2 = []folders_1 = os.listdir(args.data_dir)dst = open(args.outputtxt, 'a')count = 0dst.writelines('\\n')# äº§ç”Ÿç›¸åŒçš„å›¾åƒå¯¹for folder in folders_1: sublist = [] same_list = [] imgs = os.listdir(os.path.join(args.data_dir, folder)) for img in imgs: img_root_path = os.path.join(args.data_dir, folder, img) sublist.append(img_root_path) list1.append(img_root_path) for item in itertools.combinations(sublist, 2): for name in item: same_list.append(name) if len(same_list) &gt; 10 and len(same_list) &lt; 13: for j in range(0, len(same_list), 2): if count &lt; int(args.num_samepairs):#æ•°é‡å¯ä»¥ä¿®æ”¹ dst.writelines(same_list[j] + ' ' + same_list[j+1]+ ' ' + '1' + '\\n') count += 1 if count &gt;= int(args.num_samepairs): breaklist2 = list1.copy()# äº§ç”Ÿä¸åŒçš„å›¾åƒå¯¹diff = 0print(count)# å¦‚æœä¸åŒçš„å›¾åƒå¯¹è¿œè¿œå°äºç›¸åŒçš„å›¾åƒå¯¹ï¼Œåˆ™ç»§ç»­é‡å¤äº§ç”Ÿï¼Œç›´åˆ°ä¸¤è€…ç›¸å·®å¾ˆå°while True: random.seed(time.time() * 100000 % 10000) random.shuffle(list2) for p in range(0, len(list2) - 1, 2): if list2[p] != list2[p + 1]: dst.writelines(list2[p] + ' ' + list2[p + 1] + ' ' + '0'+ '\\n') diff += 1 if diff &gt;= count: break #print(diff) if diff &lt; count: #print('--') continue else: break æœ‰é—®é¢˜è¯·ç•™è¨€ï¼Œæœ€è¿‘ä¸€ä¸¤å‘¨åœ¨åšè¿™ä¸ªå¯ä»¥æ›´æ–°å¸–å­åŠé—®é¢˜ Nextï¼šinsightfaceæµ‹è¯•éªŒè¯é›†æ•ˆæœå…¨è¿‡ç¨‹https://blog.csdn.net/CLOUD_J/article/details/98882718","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"äººè„¸è¯†åˆ«","slug":"è®¡ç®—æœºè§†è§‰/äººè„¸è¯†åˆ«","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB/"}],"tags":[{"name":"insightface","slug":"insightface","permalink":"http://www.cloudcver.com/tags/insightface/"}]},{"title":"WGANä»£ç è§£è¯»åŠå®éªŒæ€»ç»“","slug":"WGANä»£ç è§£è¯»åŠå®éªŒæ€»ç»“","date":"2019-07-01T03:09:12.000Z","updated":"2019-11-25T09:33:57.783Z","comments":true,"path":"2019/07/01/WGANä»£ç è§£è¯»åŠå®éªŒæ€»ç»“/","link":"","permalink":"http://www.cloudcver.com/2019/07/01/WGAN%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB%E5%8F%8A%E5%AE%9E%E9%AA%8C%E6%80%BB%E7%BB%93/","excerpt":"GANä½œä¸ºå›¾åƒçš„å¦ä¸€ä¸ªæ–°é¢†åŸŸï¼Œæœ¬æˆä¸º21ä¸–çºªæœ€å¥½çš„ideaã€‚å˜¿å˜¿ï¼Œæœ€è¿‘å°è¯•ç‰›åˆ€ï¼Œä¸‹è½½äº†ä¸ªWGANçš„ä»£ç ï¼Œè¿™é‡Œç®€å•åˆ†æä¸‹ï¼Œç»™å¤§å®¶ä¸€ä¸ªå‚è€ƒã€‚ ã€æç¤ºã€‘æœ¬æ–‡é¢„è®¡é˜…è¯»æ—¶é—´5åˆ†é’Ÿï¼Œå¸¦ç°è‰²åº•çº¹çš„å’ŒåŠ ç²—çš„ä¸ºé‡è¦éƒ¨åˆ†å“¦ï¼","text":"GANä½œä¸ºå›¾åƒçš„å¦ä¸€ä¸ªæ–°é¢†åŸŸï¼Œæœ¬æˆä¸º21ä¸–çºªæœ€å¥½çš„ideaã€‚å˜¿å˜¿ï¼Œæœ€è¿‘å°è¯•ç‰›åˆ€ï¼Œä¸‹è½½äº†ä¸ªWGANçš„ä»£ç ï¼Œè¿™é‡Œç®€å•åˆ†æä¸‹ï¼Œç»™å¤§å®¶ä¸€ä¸ªå‚è€ƒã€‚ ã€æç¤ºã€‘æœ¬æ–‡é¢„è®¡é˜…è¯»æ—¶é—´5åˆ†é’Ÿï¼Œå¸¦ç°è‰²åº•çº¹çš„å’ŒåŠ ç²—çš„ä¸ºé‡è¦éƒ¨åˆ†å“¦ï¼ ï¼ˆä¸€ï¼‰WGANåˆè¯† ï¼ˆäºŒï¼‰ä»£ç åˆ†æ2.1 main structæ‰“å¼€ä»£ç åï¼Œå®ƒçš„ä¸»è¦ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹wgan_convä¸»å‡½æ•°ï¼Œæ‰“å¼€ä¹‹åé¦–å…ˆç›´æ¥åˆ°æœ€åº•mainçš„ä½ç½®ï¼Œå¦‚ä¸‹1234567891011121314151617if __name__ == '__main__': os.environ['CUDA_VISIBLE_DEVICES'] = '0' # the dir of pic generated sample_folder = 'Samples/mnist_wgan_conv' if not os.path.exists(sample_folder): os.makedirs(sample_folder) # net param generator = G_conv_mnist() discriminator = D_conv_mnist() # data param data = mnist() # run wgan = WGAN(generator, discriminator, data) wgan.train(sample_folder)è¿™é‡Œåšå‡ ç‚¹é˜è¿° 1ã€é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªç›®å½•ç”¨æ¥å­˜å‚¨ä½ çš„ç”Ÿæˆå›¾åƒï¼Œç¨‹åºä¼šæ¯éš”ä¸€æ®µæ—¶é—´è¾“å‡ºä¸€ä¸ªå›¾åƒã€‚2ã€æäº†ä¸‰ä¸ªç±»ï¼Œä¸€ä¸ªgeneraterç”Ÿæˆå™¨ç½‘ç»œï¼Œä¸€ä¸ªæ˜¯discriminatoråˆ¤åˆ«å™¨ç±»ï¼Œç„¶åæ˜¯æ•°æ®ç±»ã€‚3ã€åˆå£°æ˜ä¸€ä¸ªå¯¹è±¡WGANç½‘ç»œï¼Œç„¶åè°ƒç”¨å®ƒçš„trainå‡½æ•° OKè‡³æ­¤ï¼Œä¸»å‡½æ•°ç»“æ„é˜è¿°æ¸…æ¥šã€‚é‚£æ­¤æ—¶ä½ ä¼šæƒ³generaterå’‹å®šä¹‰ï¼Ÿdiscriminatorå’‹å®šä¹‰ï¼Ÿå¥½ä¸€ä¸ªä¸€ä¸ªçœ‹ã€‚ 2.2 generatorgeneratoræ˜¯ç”Ÿæˆå™¨ç½‘ç»œï¼Œå…¶å®å°±æ˜¯æ­äº†ä¸€ä¸ªä¸Šé‡‡æ ·çš„ç½‘ç»œï¼Œå…ˆå°†å™ªå£°è¾“å…¥ä¸€ç»´å‘é‡ï¼Œé€šè¿‡å…¨è¿æ¥åˆ°æ›´å¤šçš„æ•°æ®ï¼Œç„¶åæŠŠå®ƒå±•å¼€æˆäºŒç»´çš„å›¾åƒï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆç”¨çš„ç°åº¦ï¼Œä½ ä¹Ÿå¯ä»¥æ”¹æˆå½©è‰²ã€‚ç„¶åå†ä¸Šé‡‡æ ·ï¼Œéšæ„æå¾—ï¼Œåæ­£æœ€åä½ è¦ä¸Šé‡‡æ ·åˆ°å’Œä½ çš„æ­£æ ·æœ¬å›¾åƒç»´åº¦ä¸€è‡´ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š123456789101112131415161718192021class G_conv_mnist(object): def __init__(self): self.name = 'G_conv_mnist' def __call__(self, z): with tf.variable_scope(self.name) as scope: #step 1 å…¨è¿æ¥å±‚ï¼ŒæŠŠzç™½å™ªå£°å˜ä¸º8*15*128å›¾ g = tcl.fully_connected(z, 8*15*128, activation_fn = tf.nn.relu, normalizer_fn=tcl.batch_norm, weights_initializer=tf.random_normal_initializer(0, 0.02)) g = tf.reshape(g, (-1, 8, 15, 128)) #step 2 åå·ç§¯/ä¸Šé‡‡æ · åˆ°16*30*64å›¾ 4ä»£è¡¨å·ç§¯æ ¸å¤§å° g = tcl.conv2d_transpose(g, 64, 4,stride=2, activation_fn=tf.nn.relu, normalizer_fn=tcl.batch_norm, padding='SAME', weights_initializer=tf.random_normal_initializer(0, 0.02)) #step 3 åå·ç§¯/ä¸Šé‡‡æ · åˆ°32*60*1çš„å›¾ï¼Œæ­¤æ—¶å’ŒçœŸå®æ‰‹å†™ä½“çš„æ•°æ®æ˜¯ä¸€æ ·çš„å›¾ g = tcl.conv2d_transpose(g, 1, 4, stride=2, activation_fn=tf.nn.sigmoid, padding='SAME', weights_initializer=tf.random_normal_initializer(0, 0.02)) print(g.shape) return g @property def vars(self): return tf.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES, scope=self.name) æ³¨æ„ï¼šè¿™é‡Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªcallå‡½æ•°ï¼Œå®ƒæ˜¯å’‹ç”¨å‘¢ï¼Ÿä¸€ä¸ªç±»ä¸‹é¢æœ‰ä¸ªcallå‡½æ•°ï¼Œä½ å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªå¯¹è±¡åï¼Œç›´æ¥æŠŠå®ƒå½“æˆæ–¹æ³•ç”¨ã€‚ä¾‹å¦‚class G(): call(x): print(x)è¿™æ ·çš„è¯ä½ å°±A = G()ï¼Œç„¶åå†A(1)å°±æ‰“å°äº†1ã€‚å…¶å®å°±æ˜¯è¯´è¿™ä¸ªç±»å¼„å¥½äº†ï¼Œä¹‹åå¯ä»¥ç›´æ¥å½“å‡½æ•°ç”¨ã€‚ å¥½ï¼Œç„¶åæˆ‘ä»¬çœ‹ä¸€ä¸‹discriminator 2.3 discriminatorå’Œgeneratorå¹²äº†å·®ä¸å¤šçš„äº‹æƒ…ï¼Œä»–è¦æŠŠXå’ŒGXè¾“è¿›å»ï¼Œç„¶åæ­å»ºä¸€ä¸ªå·ç§¯ç½‘ç»œåˆ¤åˆ«çœŸå‡ã€‚ 123456789101112131415161718192021222324class D_conv_mnist(object): def __init__(self): self.name = 'D_conv_mnist' def __call__(self, x, reuse=False): with tf.variable_scope(self.name) as scope: if reuse: scope.reuse_variables() size = 64 #step 1 å·ç§¯4*4å·ç§¯æ ¸ bzx30x60x1 -&gt; bzx15x30x64 shared = tcl.conv2d(x, num_outputs=size, kernel_size=4, stride=2, activation_fn=lrelu) #step 2 å·ç§¯4*4å·ç§¯æ ¸ bzx15x30x64 -&gt; bzx7x15x128 shared = tcl.conv2d(shared, num_outputs=size * 2, kernel_size=4, stride=2, activation_fn=lrelu, normalizer_fn=tcl.batch_norm) #step 3 å±•å¼€å‘é‡ bzx7x15x128 -&gt; bzx6372 shared = tcl.flatten(shared) #step 4 å…¨è¿æ¥å±‚ d = tcl.fully_connected(shared, 1, activation_fn=None, weights_initializer=tf.random_normal_initializer(0, 0.02)) q = tcl.fully_connected(shared, 128, activation_fn=lrelu, normalizer_fn=tcl.batch_norm) q = tcl.fully_connected(q, 10, activation_fn=None) # 10 classes return d, q @property def vars(self): return tf.get_collection(tf.GraphKeys.TRAINABLE_VARIABLES, scope=self.name) 2.4 æ•°æ®çš„å¯¼å…¥æ”¹å†™æˆ‘ä¸‹è½½çš„ä»£ç æ˜¯ç›´æ¥å¯¼å…¥çš„ministæ•°æ®é›†ï¼Œæˆ‘ä»¬å¯èƒ½è¦å¯¼å…¥å›¾ç‰‡æ•°æ®é›†å“ˆï¼Œè¿™é‡Œæˆ‘åšäº†ä¸€äº›æ”¹å˜ã€‚è¿™é‡ŒåŠ äº†ä¸ªnext_batchå‡½æ•°ï¼Œå…ˆç”Ÿæˆéšæœºåºåˆ—ï¼Œç„¶åè¯»å–batchå›¾åƒï¼Œå­˜åˆ°æ•°æ®é›†ä¸­ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556class mnist(): def __init__(self, flag='conv', is_tanh = False): self.datapath = prefix + 'bus_data/' self.X_dim = 784 # for mlp self.z_dim = 100 self.y_dim = 10 self.sizex = 32 # for conv self.sizey = 60 # for conv self.channel = 1 # for conv #self.data = input_data.read_data_sets(datapath, one_hot=True) self.flag = flag self.is_tanh = is_tanh self.Train_nums = 17 def __call__(self,batch_size): batch_imgs = self.next_batch(self.datapath,batch_size) #batch_imgs,y = self.next_batch(prefix,batch_size) if self.flag == 'conv': batch_imgs = np.reshape(batch_imgs, (batch_size, self.sizex, self.sizey, self.channel)) if self.is_tanh: batch_imgs = batch_imgs*2 - 1 #return batch_imgs, y return batch_imgs def next_batch(self,data_path, batch_size): #def next_batch(self,data_path, lable_path, batch_size): train_temp = np.random.randint(low=0, high=self.Train_nums, size=batch_size) # ç”Ÿæˆå…ƒç´ çš„å€¼åœ¨[low,high)åŒºé—´ï¼Œéšæœºé€‰å– train_data_batch = np.zeros([batch_size,self.sizex, self.sizey]) # å…¶ä¸­[img_row, img_col, 3]æ˜¯åŸæ•°æ®çš„shapeï¼Œç›¸åº”å˜åŒ– #train_label_batch = np.zeros([batch_size, self.size, self.size]) # count = 0 # åé¢å°±æ˜¯è¯»å…¥å›¾åƒï¼Œå¹¶æ‰“åŒ…æˆå››ç»´çš„batch #print(data_path) img_list = os.listdir(data_path) #print(img_list) for i in train_temp: img_path = os.path.join(data_path, img_list[i]) # å›¾ç‰‡æ–‡ä»¶ img = cv.imread(img_path) gray = cv.cvtColor(img,cv.COLOR_RGB2GRAY) train_data_batch[count, :, :] = cv.resize(gray,(self.sizey, self.sizex)) count+=1 return train_data_batch#, train_label_batch def data2fig(self, samples): if self.is_tanh: samples = (samples + 1)/2 fig = plt.figure(figsize=(4, 4)) gs = gridspec.GridSpec(4, 4) gs.update(wspace=0.05, hspace=0.05) for i, sample in enumerate(samples): ax = plt.subplot(gs[i]) plt.axis('off') ax.set_xticklabels([]) ax.set_yticklabels([]) ax.set_aspect('equal') plt.imshow(sample.reshape(self.sizex,self.sizey), cmap='Greys_r') return fig 2.5 WGANç½‘ç»œé¦–å…ˆæ˜¯æ­ç½‘ç»œNETï¼Œdiscriminatoråˆ†åˆ«æŠŠçœŸå®çš„æ­£æ ·æœ¬XæŠ•è¿›å»ï¼ŒæŠŠå™ªå£°äº§ç”Ÿçš„G_sampleæŠ•è¿›å»ï¼Œå¾—åˆ°æ­£è´Ÿç»“æœã€‚ 12345# nets self.G_sample = self.generator(self.z) self.D_real, _ = self.discriminator(self.X) self.D_fake, _ = self.discriminator(self.G_sample, reuse = True) ç„¶åå°±æ˜¯è®¡ç®—æŸå¤±ã€‚æˆ‘ä»¬åˆ©ç”¨ä¸Šé¢ç»“æœåˆ†åˆ«è®¡ç®—Då’ŒGçš„æŸå¤±ï¼Œç„¶åæœ‰ä¸¤ä¸ªä¼˜åŒ–å™¨ï¼Œåˆ†åˆ«å¯¹äºDå’ŒG123456# loss self.D_loss = - tf.reduce_mean(self.D_real) + tf.reduce_mean(self.D_fake) self.G_loss = - tf.reduce_mean(self.D_fake) self.D_solver = tf.train.RMSPropOptimizer(learning_rate=1e-4).minimize(self.D_loss, var_list=self.discriminator.vars) self.G_solver = tf.train.RMSPropOptimizer(learning_rate=1e-4).minimize(self.G_loss, var_list=self.generator.vars)è¿™é‡Œç½‘ç»œå°±æ­å»ºå¥½äº†ï¼Œæˆ‘ä»¬è¦çœ‹ä¸€ä¸‹trainå‡½æ•°ã€‚å…¶ä¸»è¦æ˜¯å…ˆä¼˜åŒ–Då†ä¼˜åŒ–Gè¿™ä¸ªæ­¥éª¤ï¼Œè¿™é‡Œæˆ‘ä¹ˆæ­¤ä¼˜åŒ–Gå’ŒDçš„æ¬¡æ•°ç›¸åŒï¼Œä½ ä¹Ÿå¯ä»¥å»è°ƒæ•´è¿™ä¸ªn_dã€‚1234567891011121314151617181920for epoch in range(training_epoches): # update D n_d = 20 if epoch &lt; 250 or (epoch+1) % 500 == 0 else 10 for _ in range(n_d): #X_b, _ = self.data(batch_size) X_b= self.data(batch_size) self.sess.run(self.clip_D) self.sess.run( self.D_solver, feed_dict=&#123;self.X: X_b, self.z: sample_z(batch_size, self.z_dim)&#125; ) # update G for _ in range(n_d): #X_b, _ = self.data(batch_size) X_b= self.data(batch_size) self.sess.run(self.clip_D) self.sess.run( self.G_solver, feed_dict=&#123;self.z: sample_z(batch_size, self.z_dim)&#125; )å¯¹äºWGANçš„å…¨éƒ¨ä»£ç å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374class WGAN(): def __init__(self, generator, discriminator, data): self.generator = generator self.discriminator = discriminator self.data = data self.z_dim = self.data.z_dim self.sizex = self.data.sizex self.sizey = self.data.sizey self.channel = self.data.channel self.X = tf.placeholder(tf.float32, shape=[None, self.sizex, self.sizey, self.channel]) self.z = tf.placeholder(tf.float32, shape=[None, self.z_dim]) # nets self.G_sample = self.generator(self.z) self.D_real, _ = self.discriminator(self.X) self.D_fake, _ = self.discriminator(self.G_sample, reuse = True) # loss self.D_loss = - tf.reduce_mean(self.D_real) + tf.reduce_mean(self.D_fake) self.G_loss = - tf.reduce_mean(self.D_fake) self.D_solver = tf.train.RMSPropOptimizer(learning_rate=1e-4).minimize(self.D_loss, var_list=self.discriminator.vars) self.G_solver = tf.train.RMSPropOptimizer(learning_rate=1e-4).minimize(self.G_loss, var_list=self.generator.vars) # clip self.clip_D = [var.assign(tf.clip_by_value(var, -0.01, 0.01)) for var in self.discriminator.vars] gpu_options = tf.GPUOptions(allow_growth=True) self.sess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options)) def train(self, sample_folder, training_epoches = 100000, batch_size = 5): i = 0 self.sess.run(tf.global_variables_initializer()) for epoch in range(training_epoches): # update D n_d = 20 if epoch &lt; 250 or (epoch+1) % 500 == 0 else 10 for _ in range(n_d): #X_b, _ = self.data(batch_size) X_b= self.data(batch_size) self.sess.run(self.clip_D) self.sess.run( self.D_solver, feed_dict=&#123;self.X: X_b, self.z: sample_z(batch_size, self.z_dim)&#125; ) # update G for _ in range(n_d): #X_b, _ = self.data(batch_size) X_b= self.data(batch_size) self.sess.run(self.clip_D) self.sess.run( self.G_solver, feed_dict=&#123;self.z: sample_z(batch_size, self.z_dim)&#125; ) # print loss. save images. if epoch % 100 == 0 or epoch &lt; 100: D_loss_curr = self.sess.run( self.D_loss, feed_dict=&#123;self.X: X_b, self.z: sample_z(batch_size, self.z_dim)&#125;) G_loss_curr = self.sess.run( self.G_loss, feed_dict=&#123;self.z: sample_z(batch_size, self.z_dim)&#125;) print('Iter: &#123;&#125;; D loss: &#123;:.4&#125;; G_loss: &#123;:.4&#125;'.format(epoch, D_loss_curr, G_loss_curr)) if epoch % 1000 == 0: samples = self.sess.run(self.G_sample, feed_dict=&#123;self.z: sample_z(16, self.z_dim)&#125;) print(samples.shape) fig = self.data.data2fig(samples) plt.savefig('&#123;&#125;/&#123;&#125;.png'.format(sample_folder, str(i).zfill(3)), bbox_inches='tight') i += 1 plt.close(fig) ï¼ˆä¸‰ï¼‰å®éªŒç»“æœæˆ‘æ‰¾äº†17å¼ è½¦çš„å›¾ç‰‡~~åŸè°…æˆ‘æ¯”è¾ƒæ‡’ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚åŸºæœ¬éƒ½æ˜¯å·®ä¸å¤šæ ·å­çš„ã€‚ç„¶åä»£ç è·‘èµ·æ¥~æˆ‘ä»¬æŠŠå®ƒresizeåˆ°ï¼ˆ30ï¼Œ60ï¼‰ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®©æˆ‘çš„æœºå™¨è·‘å¿«äº›ï¼Œæœ¬æ¥å°±æ€‚ã€‚ä¸€å¼€å§‹æ˜¯ä¸€å †å™ªå£°å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å…¶å®åœ¨è®­ç»ƒä¸€æ®µæ—¶é—´åå¦‚ä¸‹æ‰€ç¤ºï¼Œå¯ä»¥çœ‹å‡ºå…·æœ‰ä¸€å®šè½¦çš„æ ·å­ï¼Œä¸­é—´é»‘è½¦èº«ï¼Œè²Œä¼¼ä¹Ÿèƒ½çœ‹åˆ°ä¸ªè½¦è½±è¾˜ã€‚å“ˆå“ˆã€‚åˆè§æ•ˆæœ~æŸå¤±çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š ï¼ˆå››ï¼‰æ€»ç»“é€šè¿‡è¿™ä¸ªå®éªŒå¯¹äºGANæœ‰äº†åˆæ­¥çš„äº†è§£ï¼Œå¦‚æœæœ‰ä»€ä¹ˆå†™çš„ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·æŒ‡å‡ºã€‚è¿™é‡Œé™„ä¸Šä»£ç ï¼šhttps://github.com/Harryjun/wgan_demo","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"å›¾åƒç”Ÿæˆ","slug":"è®¡ç®—æœºè§†è§‰/å›¾åƒç”Ÿæˆ","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E5%9B%BE%E5%83%8F%E7%94%9F%E6%88%90/"}],"tags":[{"name":"wgan","slug":"wgan","permalink":"http://www.cloudcver.com/tags/wgan/"}]},{"title":"å›¾åƒåˆ†å‰²FCNå…¨å·ç§¯ç¥ç»ç½‘ç»œ","slug":"å›¾åƒåˆ†å‰²FCNå…¨å·ç§¯ç¥ç»ç½‘ç»œ","date":"2019-05-29T08:37:41.000Z","updated":"2019-11-22T16:13:23.029Z","comments":true,"path":"2019/05/29/å›¾åƒåˆ†å‰²FCNå…¨å·ç§¯ç¥ç»ç½‘ç»œ/","link":"","permalink":"http://www.cloudcver.com/2019/05/29/%E5%9B%BE%E5%83%8F%E5%88%86%E5%89%B2FCN%E5%85%A8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/","excerpt":"FCNå…¨å·ç§¯ç¥ç»ç½‘ç»œæ˜¯å›¾åƒåˆ†å‰²çš„åŸºç¡€ç½‘ç»œ","text":"FCNå…¨å·ç§¯ç¥ç»ç½‘ç»œæ˜¯å›¾åƒåˆ†å‰²çš„åŸºç¡€ç½‘ç»œFCNå®ç°äº†ç«¯åˆ°ç«¯çš„ç½‘ç»œï¼Œè¾“å…¥mxmå›¾åƒï¼Œè¾“å‡ºä¸ºmxmxcçš„å›¾åƒï¼Œå…¶ä¸­cä»£è¡¨ç§ç±»ã€‚ 1æ€æƒ³æ¦‚è¿°FCNå«åšå…¨å·ç§¯ç¥ç»ç½‘ç»œï¼Œé¡¾åæ€ä¹‰æ‰€æœ‰æ›¾éƒ½æ˜¯å·ç§¯å±‚ï¼ä¹Ÿå°±æ˜¯æŠ›æ‰äº†å…¨è¿æ¥å±‚ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªæ”¹å˜ï¼›å†è€…å·ç§¯ç¥ç»ç½‘ç»œå·åˆ°æœ€åç‰¹å¾å›¾å°ºå¯¸è¶Šæ¥è¶Šå°‘ï¼Œåˆ†è¾¨ç‡æ¯”è¾ƒå°ï¼Œä¸é€‚åˆæˆ‘ä»¬åšå›¾åƒåˆ†å‰²ï¼Œå¥½ï¼Œè¿™é‡Œå¼•å…¥ä¸€ä¸ªä¸Šé‡‡æ ·çš„åšæ³•ï¼Œå·ç§¯å®Œä¹‹åå†ä¸Šé‡‡æ ·åˆ°å¤§å°ºå¯¸å›¾ï¼›ç½‘ç»œåˆè€ƒè™‘å±‚æ•°ä¸æ–­å åŠ ååŸå›¾çš„ä¿¡æ¯ä¸¢å¤±çš„æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œå¼•å…¥ä¸€ä¸ªè·³å±‚ç»“æ„ï¼ŒæŠŠå‰é¢çš„ç¬¬å››å±‚ã€ç¬¬ä¸‰å±‚ç‰¹å¾å¼•è¿‡æ¥å åŠ ä¸€ä¸‹ã€‚æœ‰ç§resnetæ€æƒ³ã€‚ 2FCNç½‘ç»œå›¾æˆ‘ä»¬å†çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªå›¾ç½‘ç»œçš„ä¸»é¢˜ï¼Œä»å·¦åˆ°å³å·ç§¯ã€æ± åŒ–ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼ˆè“è‰²å·ç§¯ï¼Œç»¿è‰²æ± åŒ–ï¼‰ï¼Œåˆ°äº†æœ€å³è¾¹16*16*4096ï¼Œå…¨è¿æ¥å±‚ä¸¢äº†ï¼Œå…ˆç»™ä»–å¼„åˆ°21é€šé“å†ä¸Šé‡‡æ ·åˆ°34*34*21ç„¶ååˆå¹¶featuremap4åå†ä¸Šé‡‡æ ·ï¼Œæœ€åç»è¿‡ä¸€ç³»åˆ—å¾—åˆ°æœ€å500*500*21çš„ç‰¹å¾å›¾ã€‚ä¹‹åæ€ä¹ˆåšï¼Ÿå¾ˆå¤šäººæ²¡æœ‰è¯´å¥½ï¼Œæˆ‘ä»¬å¹³æ—¶åšåˆ†ç±»æ˜¯å¾—åˆ°å…¨è¿æ¥çš„1*21è¿™æ ·å¯¹ä»–è¿›è¡Œsoftmaxï¼Œ21ç±»ï¼Œæ¯ç±»æœ‰ä¸ªåˆ†æ•°å­˜åœ¨1*21çš„å‘é‡ä¸­ï¼Œå¥½æˆ‘ä»¬è¿™500*500*21æ˜¯åƒç´ çº§åˆ«çš„åˆ†ç±»ï¼Œæ€»å…±æœ‰500*500ä¸ªåƒç´ ï¼Œæ¯ä¸ªåƒç´ å±äº21ä¸ªç±»åˆ«çš„åˆ†åˆ«å¾—åˆ†æ˜¯å•¥ï¼Œè¿™æ ·ç”¨softmaxè®¡ç®—æŸå¤±ã€‚æ‰€ä»¥æˆ‘ä»¬çœ‹é‚£äº›æ ‡æ³¨å›¾æ˜¯æ¯ä¸ªåƒç´ æœ‰ä¸ªé¢œè‰²ä»£è¡¨å®ƒæ‰€å±äºçš„ç±»åˆ«ã€‚ç«¯åˆ°ç«¯ï¼ä¼Ÿå¤§ï¼ ç«¯åˆ°ç«¯å­¦ä¹ æ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„æ€è·¯ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯å¤šæ­¥éª¤è§£å†³é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å°†ä¸€ä¸ªé—®é¢˜æ‹†åˆ†ä¸ºå¤šä¸ªæ­¥éª¤åˆ†æ­¥è§£å†³ï¼Œè€Œç«¯åˆ°ç«¯æ˜¯ç”±è¾“å…¥ç«¯çš„æ•°æ®ç›´æ¥å¾—åˆ°è¾“å‡ºç«¯çš„ç»“æœã€‚ é‚£ä¹ˆæ¥ä¸‹æ¥å°±è¦è§£å†³ç»†èŠ‚é—®é¢˜ï¼Œä¸Šé‡‡æ ·æ€ä¹ˆå®ç°ï¼Ÿæ€ä¹ˆåˆå¹¶æ•°æ®ï¼Ÿ 3ä¸Šé‡‡æ ·å¯¹äºä½åˆ†è¾¨ç‡çš„ç‰¹å¾å›¾ï¼Œæˆ‘ä»¬å¸¸å¸¸é‡‡ç”¨ä¸Šé‡‡æ ·çš„æ–¹å¼å°†å®ƒè¿˜åŸé«˜åˆ†è¾¨ç‡ï¼Œè¿™é‡Œé™ˆè¿°ä¸‰ç§æ–¹æ³•ã€‚ 3.1åŒçº¿æ€§æ’å€¼ä¸Šé‡‡æ ·é¦–å…ˆçº¿å½¢æ’å€¼æ˜¯ä»€ä¹ˆï¼Ÿçº¿å½¢æ’å€¼å°±æ˜¯çŸ¥é“ä¸¤ä¸ªç‚¹çš„å€¼ï¼Œè¿ä¸€æ¡ç›´çº¿ï¼Œæ¥ç¡®å®šä¸­é—´çš„ç‚¹çš„å€¼ï¼Œå…·ä½“æ€ä¹ˆåšï¼Œæˆ‘ä»¬æ‰¾(x1,y1)ã€(x2,y2)è¿æˆä¸€æ¡ç›´çº¿ï¼Œ[x1,x2]ä¸­çš„ç‚¹å°±å¯ä»¥ç”¨çº¿ä¸Šçš„ç‚¹è¡¨ç¤ºã€‚åŒçº¿æ€§æ’å€¼æ˜¯ä¸€ä¸ªä¸‰ç»´çš„åæ ‡ç³»ï¼Œæˆ‘ä»¬æ‰¾åˆ°å››ä¸ªç‚¹æ¥ç¡®å®šä¸­å¿ƒç‚¹åæ ‡ï¼Œå¦‚ä¸‹å›¾ä¸ºç½‘ä¸Šæ‰¾çš„ä¸€ä¸ªä¾‹å­ã€‚ è¿™ç§æ–¹æ³•è®¡ç®—ç®€å•ï¼Œæ— éœ€è®­ç»ƒã€‚ 3.2åå·ç§¯ä¸Šé‡‡æ ·3.2.1 æ€æ ·ä¸Šé‡‡æ ·æ™®é€šçš„å·ç§¯æ“ä½œï¼Œä¼šä½¿å¾—åˆ†è¾¨ç‡é™ä½ï¼Œå¦‚ä¸‹å›¾3*3çš„å·ç§¯æ ¸å»å·ç§¯4*4å¾—åˆ°2*2çš„è¾“å‡ºã€‚ä¸Šé‡‡æ ·çš„è¿‡ç¨‹ä¹Ÿæ˜¯å·ç§¯ï¼Œé‚£ä¹ˆæ€ä¹ˆä¼šå¾—åˆ°åˆ†è¾¨ç‡æé«˜å‘¢ï¼Ÿä¹‹å‰æˆ‘ä»¬çœ‹å·ç§¯æ—¶æœ‰ä¸ªä¿æŒè¾“å‡ºä¸è¾“å…¥åŒåˆ†è¾¨ç‡çš„æ–¹æ³•å°±æ˜¯å‘¨å›´è¡¥0ï¼Œå—¯å—¯ã€‚é‚£ä¹ˆä½ æ˜¯å¦çµæœºä¸€åŠ¨ï¼Œé‚£è¦æ˜¯è®©åˆ†è¾¨ç‡æé«˜å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å†å¤šè¡¥ä¸€äº›0ï¼Œå¯¹çš„çœ‹çœ‹å›¾2ã€‚ å›¾1 å¸¸è§„å·ç§¯æ“ä½œå›¾2 ä¸Šé‡‡æ ·æ“ä½œï¼ˆå››å‘¨è¡¥0ï¼‰ å…¶å®å‘¢ä½œè€…åœ¨è¿™åˆæ¢äº†ä¸ªæ–¹æ³•ï¼Œä½ æƒ³ä¸€ä¸‹ï¼Œåªåœ¨å››å‘¨è¡¥0ä¼šå¯¼è‡´æœ€è¾¹ä¸Šçš„ä¿¡æ¯ä¸å¤ªå¥½ï¼Œé‚£æˆ‘ä»¬æŠŠè¿™ä¸ªä¿¡æ¯å¹³å‡ä¸‹ï¼Œåœ¨æ¯ä¸ªåƒç´ ä¸åƒç´ ä¹‹é—´è¡¥0å‘¢ï¼Œçœ‹å›¾3å°±æ˜¯è¿™ä¹ˆæ“ä½œçš„ã€‚ å›¾3 åå·ç§¯æ’é›¶ 3.2.2 åå·ç§¯è¡¥å¤šå°‘é›¶ï¼Ÿç„¶åæˆ‘ä»¬çœ‹ä¸€ä¸‹å‚æ•°çš„è®¡ç®—ï¼Œå…ˆçœ‹ä¸€ä¸‹å››å‘¨è¡¥0çš„æƒ…å†µã€‚ä¸‹å›¾ç»™å‡ºäº†å‘å·ç§¯çš„å‚æ•°ï¼Œæˆ‘ä»¬è¦ä¿æŒè½¬ç½®å·ç§¯çš„è¾“å‡ºæ ¸å·ç§¯çš„è¾“å…¥ç›¸åŒä¹Ÿå°±æ˜¯i=oâ€™ï¼Œè½¬ç½®å·ç§¯å°±æ˜¯åå·ç§¯ã€‚è¿™é‡Œä¸»è¦ç®—å‡ºpä¸ºå¤šå°‘å°±æ˜¯è¡¥å¤šå°‘ä¸ª0ï¼Œçœ‹æˆ‘å›¾5ç»™å‡ºäº†è®¡ç®—ã€‚å›¾4 å››å‘¨è¡¥é›¶åå·ç§¯å›¾5 å››å‘¨è¡¥0è®¡ç®— å†çœ‹ä¸€ä¸‹åå·ç§¯é—´éš™è¡¥0çš„è®¡ç®—å¦‚å›¾6æ‰€ç¤ºã€‚å…¶ä¸­æ’é›¶è¾“å…¥æ˜¯å…ˆå¾€é‡Œé¢æ’å…¥iâ€˜-1ä¸ª0ã€‚å†è®¡ç®—pâ€™ å›¾6 é—´éš™è¡¥0åå·ç§¯å›¾7 é—´éš™è¡¥é›¶åå·ç§¯è®¡ç®— 3.3åæ± åŒ–ä¸Šé‡‡æ ·åæ± åŒ–å¯ä»¥ç”¨ä¸‹å›¾æ¥ç†è§£ï¼Œå†æ± åŒ–æ—¶éœ€è¦è®°å½•ä¸‹æ± åŒ–çš„ä½ç½®ï¼Œåæ± åŒ–æ—¶æŠŠæ± åŒ–çš„ä½ç½®ç›´æ¥è¿˜åŸï¼Œå…¶ä»–ä½ç½®å¡«0ã€‚ 3.4 å°ç»“ä¸‰ç§æ–¹æ³•å„æœ‰ä¼˜ç¼ºï¼ŒåŒçº¿æ€§æ’å€¼æ–¹æ³•å®ç°ç®€å•ï¼Œæ— éœ€è®­ç»ƒï¼›åå·ç§¯ä¸Šé‡‡æ ·éœ€è¦è®­ç»ƒï¼Œä½†èƒ½æ›´å¥½çš„è¿˜åŸç‰¹å¾å›¾ï¼› 4è·³å±‚ç»“æ„Skip-Layerè·³å±‚ç»“æ„æ˜¯å•¥å‘¢ï¼Œå°±æ˜¯æŠŠç¬¬å››å±‚çš„featuremapè€ƒè™‘è¿›æ¥å’Œæœ€åä¸€å±‚å¾—åˆ°çš„featuremapä¸Šé‡‡æ ·åˆå¹¶ä¿¡æ¯å†è¿›è¡Œä¸Šé‡‡æ ·ã€‚è¿™ä¸ªç»“æ„å«åšè·³å±‚ã€‚é‚£ä¹ˆå®é™…ä½ å¯ä»¥å†ç»“åˆç¬¬ä¸‰å±‚featuremapè¿™æ ·ä¸Šæ¬¡æ ·å€æ•°å°±éœ€è¦æé«˜ï¼Œè€ƒè™‘çš„æºä¿¡æ¯å°±è¶Šå¤šã€‚ 5å†çœ‹FCNç½‘ç»œä¹‹åæˆ‘ä»¬å†çœ‹FCNè¿™ä¸ªç½‘ç»œï¼Œå¦‚æœä½ åªè€ƒè™‘æœ€åä¸€å±‚ä¿¡æ¯ï¼Œè¿›è¡Œä¸Šé‡‡æ ·ï¼Œå¾—åˆ°ä¸‹å›¾ï¼Œè¿™æ˜¯åœ¨ALEXnetä¸Šåšäº†ä¿®æ”¹ï¼ŒæŠŠæœ€åçš„å…¨è¿æ¥å±‚å»æ‰æ”¹ä¸ºå·ç§¯æ“ä½œï¼Œæœ€åå·å‡ºæ¥16*16*21çš„featuremapè¿›è¡Œäº†ä¸€ä¸ªæ­¥é•¿ä¸º32çš„åŒçº¿æ€§æ’å€¼ä¸Šé‡‡æ ·å¾—åˆ°500*500*21çš„å›¾ï¼Œå¯æƒ³è€ŒçŸ¥è¿™å®¶ä¼™è‚¯å®šå·®å¤ªå¤šäº†ï¼Œä¸­é—´è¿™ä¹ˆå¤šç‚¹éƒ½æ˜¯æ’å€¼æ’å‡ºæ¥çš„ï¼ç»§ç»­ï¼Œæ”¹ä¸€ä¸‹ï¼Œè¿™é‡ŒæŠŠé‚£ä¸ªä¸Šé‡‡æ ·æ”¹ä¸º2å€çš„åå·ç§¯é‡‡æ ·ï¼Œä¸Šé‡‡æ ·åˆ°34*34*21ï¼Œç„¶åè€ƒè™‘ç¬¬å››å±‚featuremapå¯¹ä»–è¿›è¡Œ1*1*21å·ç§¯å¾—åˆ°34*34*21çš„å›¾ï¼Œä¹‹åå†åˆå¹¶ä¸¤ä¸ªä¿¡æ¯ï¼Œç›´æ¥å¯¹åº”å…ƒç´ ç›¸åŠ ï¼Œå¾—åˆ°34*34*21ç„¶åè¿›è¡Œæ­¥é•¿16çš„ä¸Šé‡‡æ ·ã€‚åœ¨è¿™ä¹‹åè€ƒè™‘è¿˜ä¸è¡Œå°±åœ¨è€ƒè™‘ç¬¬ä¸‰ä¸ªç‰¹å¾å±‚åŠ è¿›å»ï¼ 6å®éªŒç»“æœå®éªŒåˆ†åˆ«å¯¹FCN32ã€16ã€8çš„ç»“æ„åšäº†å®éªŒï¼Œå¯ä»¥çœ‹å‡ºè€ƒè™‘æµ…å±‚çš„ä¿¡æ¯è¶Šå¤šï¼Œå®éªŒæ•ˆæœè¶Šå¥½ï¼ 7å°ç»“FCNç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä¸Šé‡‡æ ·çš„æ€è·¯æ¥è§£å†³å›¾åƒåˆ†è¾¨ç‡ä½çš„é—®é¢˜ï¼Œä»¥åŠè·³å±‚ç»“æ„æ¥è€ƒè™‘æµ…å±‚ç½‘ç»œçš„ç‰¹å¾æ¥è€ƒè™‘å¤šå›¾åƒä¿¡æ¯ã€‚ å‚è€ƒæ–‡çŒ®[1]FCNä¸­åå·ç§¯ã€ä¸Šé‡‡æ ·ã€åŒçº¿æ€§æ’å€¼ä¹‹é—´çš„å…³ç³»https://blog.csdn.net/u011771047/article/details/72872742/","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"è¯­ä¹‰åˆ†å‰²","slug":"è®¡ç®—æœºè§†è§‰/è¯­ä¹‰åˆ†å‰²","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2/"}],"tags":[{"name":"FCN","slug":"FCN","permalink":"http://www.cloudcver.com/tags/FCN/"}]},{"title":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆå››ï¼‰R-FCN","slug":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆå››ï¼‰R-FCN","date":"2019-05-09T04:41:15.000Z","updated":"2019-11-22T14:45:36.350Z","comments":true,"path":"2019/05/09/ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆå››ï¼‰R-FCN/","link":"","permalink":"http://www.cloudcver.com/2019/05/09/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8BCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E5%9B%9B%EF%BC%89R-FCN/","excerpt":"å‰é¢æ‰€è¯´çš„RCNNä½œä¸ºæœ€æ—©çš„ç›®æ ‡æ£€æµ‹ç½‘ç»œï¼Œå…·æœ‰ä¸€äº›é—®é¢˜ï¼Œå…¶å¯¹æ¯ä¸€ä¸ªROIéƒ½åšä¸€éå·ç§¯ï¼ˆè´¹æ—¶ï¼‰ï¼›å¯¹äºæ„Ÿå…´è¶£åŒºåŸŸçš„ç­›é€‰ä¹Ÿè´¹æ—¶ï¼›éšåFastR-CNNã€Faster-CNNç»™å‡ºäº†è§£å†³æ–¹æ¡ˆã€‚ä¹‹åå­¦è€…åˆå»æ€è€ƒåé¢çš„å…¨è¿æ¥å±‚èƒ½ä¸èƒ½å»æ‰ï¼Œæˆ–è€…ä¸è®©æ¯ä¸€ä¸ªæ„Ÿå…´è¶£åŒºåŸŸéƒ½èµ°ä¸€éå…¨è¿æ¥ï¼Œè¿™ä¹Ÿå¾ˆè´¹æ—¶é—´å•Šï¼ï¼ˆæˆ‘ä»¬äº†è§£åœ¨å›¾åƒåˆ†ç±»ä¸­ï¼Œäººä»¬éƒ½å¾ˆè®¨åŒå…¨è¿æ¥å±‚ï¼Œå‚æ•°é‡å¤ªå¤§ï¼‰ï¼Œä¸ºæ­¤R-FCNå‡ºç°äº†ï¼","text":"å‰é¢æ‰€è¯´çš„RCNNä½œä¸ºæœ€æ—©çš„ç›®æ ‡æ£€æµ‹ç½‘ç»œï¼Œå…·æœ‰ä¸€äº›é—®é¢˜ï¼Œå…¶å¯¹æ¯ä¸€ä¸ªROIéƒ½åšä¸€éå·ç§¯ï¼ˆè´¹æ—¶ï¼‰ï¼›å¯¹äºæ„Ÿå…´è¶£åŒºåŸŸçš„ç­›é€‰ä¹Ÿè´¹æ—¶ï¼›éšåFastR-CNNã€Faster-CNNç»™å‡ºäº†è§£å†³æ–¹æ¡ˆã€‚ä¹‹åå­¦è€…åˆå»æ€è€ƒåé¢çš„å…¨è¿æ¥å±‚èƒ½ä¸èƒ½å»æ‰ï¼Œæˆ–è€…ä¸è®©æ¯ä¸€ä¸ªæ„Ÿå…´è¶£åŒºåŸŸéƒ½èµ°ä¸€éå…¨è¿æ¥ï¼Œè¿™ä¹Ÿå¾ˆè´¹æ—¶é—´å•Šï¼ï¼ˆæˆ‘ä»¬äº†è§£åœ¨å›¾åƒåˆ†ç±»ä¸­ï¼Œäººä»¬éƒ½å¾ˆè®¨åŒå…¨è¿æ¥å±‚ï¼Œå‚æ•°é‡å¤ªå¤§ï¼‰ï¼Œä¸ºæ­¤R-FCNå‡ºç°äº†ï¼ 1å›é¡¾å›é¡¾R-CNNç³»åˆ—çš„æ–¹æ¡ˆéƒ½æ˜¯åœ¨è§£å†³ä¸€ä¸ªè®¡ç®—é‡è®¡ç®—æ—¶é—´çš„é—®é¢˜ï¼ŒR-CNNå­˜åœ¨ä¸€äº›é—®é¢˜ï¼ŒSPP-netæå‡ºé‡‘å­—å¡”æ± åŒ–å±‚ï¼Œå°†å·ç§¯æ”¾åœ¨å‰é¢ï¼Œå®ç°äº†ä¸€å¼ å›¾å·ç§¯ä¸€æ¬¡å°±è¡Œï¼Œé™ä½äº†å¤§é‡æ—¶é—´ï¼Fast R-CNNæå‡ºäº†ROIæ± åŒ–ï¼Œå¼•å…¥å¹¶è¡Œçš„å¤šä»»åŠ¡æŸå¤±å‡½æ•°ï¼Œä¹Ÿæé«˜äº†æ•ˆç‡ï¼åˆ°äº†Faster R-CNNè®¤ä¸ºåŒºåŸŸå»ºè®®ç½‘ç»œä¹Ÿå¯ä»¥ç¯ç¨‹å·ç§¯ç½‘ç»œï¼Œæå‡ºäº†RPNç½‘ç»œ~~ã€‚æœ¬ç¯‡æ–‡ç« ä»‹ç»ä¸‹ä¸€ä¸ªè¿­ä»£ç‰ˆæœ¬R-FCNå°†åé¢çš„å…¨è¿æ¥å±‚åˆ†ç±»å±‚ä¹Ÿæ¢æˆå·ç§¯ç½‘ç»œï¼ 2ä½ç½®æ•æ„Ÿæ€§çš„ç†è§£å†™ç€ä¸€éƒ¨åˆ†çœ‹äº†å¥½å¤šæ–‡ç« éƒ½æ²¡çœ‹æ‡‚ï¼ŒæŸ¥äº†å¥½å¤šèµ„æ–™æ€»ç»“åˆ°å¦‚ä¸‹ï¼Œä¹‹åæœ‰æ–°çš„ç†è§£ä¼šåŠ ä¸Šï¼Œå¦‚æœæœ‹å‹ä»¬æœ‰å¥½çš„æ–‡ç« è§£é‡Šå¯ä»¥æ¨èç»™æˆ‘ã€‚é¦–å…ˆï¼Œå¯¹äºå›¾ç‰‡åˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨æ¯”è¾ƒæ·±çš„å·ç§¯ç½‘ç»œæ¯”è¾ƒå¥½ï¼Œå½“ç½‘ç»œæ¯”è¾ƒæ·±çš„æ—¶å€™ï¼Œåˆ†ç±»é—®é¢˜å¯¹äºä½ç½®çš„æ•æ„Ÿæ€§å°±è¾ƒå·®ï¼Œå› ä¸ºä¸€å¼ å›¾ç‰‡é€šè¿‡ä¸€ä¸ªæ·±çš„ç½‘ç»œåˆ°äº†åé¢å†åˆ°å…¨è¿æ¥å±‚ï¼Œä½ç½®çš„å˜åŠ¨å¯¹äºåé¢ç‰¹å¾çš„å½±å“æ¯”è¾ƒå°äº†ï¼Œæ‰€ä»¥å®ƒçš„è¯†åˆ«è¿˜æ˜¯ä¼šå‡†ç¡®ï¼Œè¿™å°±æ˜¯ä½ç½®ä¸æ•æ„Ÿï¼Œå¹³ç§»ä¸å˜æ€§ã€‚ç„¶è€Œå¯¹äºå®šä½é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¾—åˆ°å®ƒçš„å®šä½ï¼Œç½‘ç»œè¿‡äºæ·±çš„åŒ–å°±ä¼šé€ æˆæˆ‘ä»¬å®šä½ä¸å‡†ç¡®ï¼Œå¹³ç§»ä¸å˜ï¼æ‰€ä»¥æ„é€ ä¸€ä¸ªæµ…çš„ç½‘ç»œå¯èƒ½å¯¹äºåˆ†ç±»æ¥è¯´æ¯”è¾ƒå¥½ã€‚ å†æ¥çœ‹ä¸ªFaster R-CNN + ResNet-101ç»“æ„çš„ä¾‹å­ã€‚è¿™ä¸ªæ˜¯å‚è€ƒæ–‡çŒ®3ç»™å‡ºçš„ï¼Œå¦‚æœåœ¨Faster R-CNNä¸­æ²¡æœ‰ROIå±‚ï¼Œç›´æ¥å¯¹æ•´ä¸ªfeature mapè¿›è¡Œåˆ†ç±»å’Œä½ç½®çš„å›å½’ï¼Œç”±äºResNetçš„ç»“æ„è¾ƒæ·±ï¼Œå¹³ç§»å¯å˜æ€§è¾ƒå·®ï¼Œæ£€æµ‹å‡ºæ¥çš„åæ ‡ä¼šæåº¦ä¸å‡†ç¡®ã€‚å…·ä½“ç½‘ç»œå¯ä»¥è‡ªå·±æŸ¥ä¸€ä¸‹ï¼ å¦‚æœåœ¨ResNetä¸­é—´ï¼ˆconv4ä¸conv5é—´ï¼‰åŠ ä¸ªROIå±‚ç»“æœå°±ä¸ä¸€æ ·äº†ï¼Œæ­¤æ—¶åˆ°äº†ç¬¬å››å·ç§¯å±‚æ‰ç»™æ¡†é€‰åŒºåŸŸï¼Œåæ ‡è¿˜æ˜¯æœ‰çš„ï¼Œæ­¤æ—¶åˆ†ç±»å™¨ç¦»å¾—æ¯”è¾ƒè¿‘äº†ï¼Œåˆ†ç±»å™¨å¯¹äºä½ç½®çš„æ•æ„Ÿç¨‹åº¦æ¯”è¾ƒä½äº†ï¼ä¹Ÿå°±æ˜¯å¹³ç§»å¯å˜æ€§ï¼ROIå±‚æå–å‡ºçš„proposalä¸­ï¼Œæœ‰çš„å¯¹åº”å‰æ™¯labelï¼Œæœ‰çš„å¯¹åº”èƒŒæ™¯labelï¼Œproposalä½ç½®çš„åç§»å°±æœ‰å¯èƒ½é€ æˆåˆ†ç±»å™¨ï¼ˆå‰æ™¯å’ŒèƒŒæ™¯åˆ†ç±»ï¼‰çš„ä¸åŒã€‚åç§»ååŸæ¥çš„å‰æ™¯å¾ˆæœ‰å¯èƒ½å˜æˆäº†èƒŒæ™¯ï¼ŒåŸæ¥çš„èƒŒæ™¯å¾ˆæœ‰å¯èƒ½å˜æˆäº†å‰æ™¯ï¼Œæ¢å¥è¯è¯´åˆ†ç±»losså¯¹proposalçš„ä½ç½®æ˜¯æ•æ„Ÿçš„ï¼Œè¿™ç§æƒ…å†µROIå±‚ç»™æ·±å±‚ç½‘ç»œå¸¦æ¥äº†å¹³ç§»å¯å˜æ€§ã€‚ å¦‚æœæŠŠROIåŠ åˆ°ResNetçš„æœ€åä¸€å±‚ï¼ˆå›¾1 conv5åï¼‰ç»“æœåˆæ˜¯æ€æ ·å‘¢ï¼Ÿconv5çš„ç¬¬ä¸€ä¸ªå·ç§¯strideæ˜¯2ï¼Œé€ æˆconv5è¾“å‡ºçš„feature mapæ›´å°ï¼Œè¿™æ—¶proposalçš„ä¸€ä¸ªå°åç§»åœ¨conv5è¾“å‡ºä¸Šå¾ˆæœ‰å¯èƒ½éƒ½æ„ŸçŸ¥ä¸åˆ°ï¼Œå³proposalå¯¹åº”çš„labelæ²¡æœ‰æ”¹å˜ï¼Œæ­¤æ—¶è¯†åˆ«å‡ºæ¥çš„ä½ç½®å‡†ç¡®åº¦ä¼šå¾ˆå·®ã€‚ ä½œè€…åœ¨è€ƒè™‘å‰äººçš„å®éªŒåï¼Œæƒ³ç€æŠŠROIå‘åé ä¸€ä¸‹æ˜¯ä¸æ˜¯å°±èƒ½æŠŠå…¨è¿æ¥å±‚ä¹Ÿå…±äº«äº†ï¼å®åˆ™ä¼šå¯¼è‡´ä½ç½®çš„å‡†ç¡®åº¦é™ä½çš„ï¼æ‰€ä»¥è€ƒè™‘è¿™äº›å› ç´ ï¼Œä»–æå‡ºäº†ä½ç½®æ•æ„Ÿå·ç§¯ç½‘ç»œã€‚ 3ä½ç½®æ•æ„Ÿå·ç§¯å±‚ç½‘ç»œä¸‹å›¾ä¸ºR-FCNç½‘ç»œï¼ˆè¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œä¸‹é¢åº”è¯¥æ˜¯è¿˜æœ‰ä¸€ä¸ªå›å½’ï¼ï¼‰ï¼Œå…¶ä¸­çº¢è‰²éƒ¨åˆ†æ˜¯ä¿®æ”¹åçš„åˆ†ç±»å™¨ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå‰é¢å·ç§¯ä¹‹åå¾—åˆ°featuremapä¹‹åæœ‰ä¸€éƒ¨åˆ†å‘ä¸Šå»åšRPNç½‘ç»œäº†ï¼Œè¿™ä¸ªå’ŒFasterR-CNNä¸€æ ·ã€‚å¦ä¸€è·¯å»åšåˆ†ç±»äº†~~è¿™é‡Œä½ ä¼šçœ‹åˆ°å®ƒå†™çš„æ˜¯convå·ç§¯ï¼Œå¯¹æ²¡é”™ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå·ç§¯å¾—åˆ°ä¸€ä¸ªå…·æœ‰æ·±åº¦ä¸ºK*K*(C+1)çš„ç‰¹å¾ã€‚C+1ä»£è¡¨ç±»åˆ«ï¼ŒCä¸ªç±»åˆ«åŠ ä¸€ä¸ªèƒŒæ™¯ã€‚Kæ˜¯å•¥æ„æ€ï¼Ÿè¿™ä¸ªKKæˆ‘ä»¬è¡¨ç¤ºå®ƒå±äºæŸä¸ªç±»åˆ«ä¸Šå·¦ã€ä¸Šä¸­ã€ä¸Šå³â€¦â€¦çš„å¯èƒ½æ€§ã€‚ä¸‹å›¾ä¸­æ¯ä¸ªé¢œè‰²å—ä»£è¡¨ä¸€ä¸ªæ–¹ä½ï¼Œä¸€å…±3\\3=9ä¸ªæ–¹ä½ï¼Œæ¯ä¸ªæ–¹ä½å…¶å®æ˜¯åŒ…å«C+1ä¸ªçš„ã€‚å†é€šä¿—ç‚¹é»„è‰²å±‚å…¶å®ä¸æ˜¯ä¸€å±‚æœ‰C+1ä¸ªå±‚ï¼Œåˆ†åˆ«ä»£è¡¨å®ƒå±äºæ¯ä¸ªç±»åˆ«å·¦ä¸Šè§’çš„æ¦‚ç‡ï¼ç„¶åå®ƒä¸æ˜¯æœ‰å¾ˆå¤šROIï¼Œå®ƒç”¨ROIå¥—ä½ä¸€ä¸ªåŒºåŸŸï¼Œå¯¹äºç¬¬ä¸€ç±»ï¼Œä»–éœ€è¦ä»è¿™9ä¸ªå¤§å±‚ä¸­å¯¹åº”è¿™ä¸ªç±»çš„å°å±‚å¾—åˆ°ä¸€ä¸ªå¹³å‡ç»“æœï¼Œç„¶åæŠŠè¿™9ä¸ªæ•°ç»„åˆæŠ•ç¥¨~çœ‹ä»–æ˜¯ä¸æ˜¯è¿™ä¸ªç±»ã€‚çœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼Œæ¯ä¸ªå¤§å±‚æœ‰C+1ä¸ªï¼Œç„¶åå¯¹ROIæŠ½å–åå¾—åˆ°é¥¼å›¾ï¼Œæœ‰C+1ä¸ªç±»æ‰€ä»¥æ˜¯C+1å±‚ï¼Œå†æ±‚ä¸€ä¸ªå¾—åˆ†å¾—åˆ°C+1çš„å‘é‡ã€‚é‚£ä¹ˆè¿™æ—¶éœ€è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼šFirst å¯¹äºä¸€ä¸ªROIå¦‚ä½•æŠ½æˆä¸€ä¸ªç‚¹Second æŠ•ç¥¨æ€ä¹ˆæŠ•ï¼Ÿå¥½ï¼Œæ¥ä¸‹æ¥è¯´è¿™ä¸ªé—®é¢˜ã€‚First å¯¹äºä¸€ä¸ªROIå¦‚ä½•æŠ½æˆä¸€ä¸ªç‚¹è¿™é‡Œå®ƒç›´æ¥é‡‡å–å¹³å‡å€¼çš„æ–¹æ³•ï¼Œæ‰€æœ‰åƒç´ å€¼çš„å¹³å‡å€¼æ¥ä»£è¡¨ä¸€ä¸ªå€¼ã€‚ Second æŠ•ç¥¨æ€ä¹ˆæŠ•ï¼Ÿå¯¹äºæŠ•ç¥¨ï¼Œä»–ä¹Ÿæ˜¯è®¡ç®—çš„è¿™K*Kä¸ªå€¼çš„å¹³å‡å€¼ã€‚å“ˆå“ˆï¼ 4ä½ç½®æ•æ„Ÿå›å½’å‰é¢åˆ†ç±»æœ‰äº†ï¼Œé‚£ä¹ˆå›å½’ä½ç½®å‘¢ï¼Ÿæ€è·¯æ˜¯ä¸€æ ·çš„ï¼å‰é¢åˆ†ç±»æ˜¯å·ç§¯ä¸ºK*K*(C+1),å›å½’çš„è¯å°±æ˜¯å››ä¸ªå‚æ•°å•Šï¼Œå·¦ä¸Šè§’å³ä¸Šè§’åæ ‡ï¼ï¼Œé‚£å°±æ˜¯K*K*4,å…¶ä»–çš„å°±å’Œä¸Šé¢ä¸€æ ·äº†ã€‚å³åœ¨ResNetçš„å…±äº«å·ç§¯å±‚çš„æœ€åä¸€å±‚ä¸Šé¢è¿æ¥ä¸€ä¸ªä¸position-sensitive score mapå¹¶è¡Œçš„score mapsï¼Œè¯¥score mapsç”¨æ¥è¿›è¡Œregressionæ“ä½œï¼Œæˆ‘ä»¬å°†å…¶å‘½åä¸ºregression score mapï¼Œè€Œè¯¥regression score mapçš„ç»´åº¦åº”å½“æ˜¯ 4KK ï¼Œç„¶åç»è¿‡Position-sensitive RoI poolingæ“ä½œåï¼Œæ¯ä¸€ä¸ªRoIå°±èƒ½å¾—åˆ°4ä¸ªå€¼ä½œä¸ºè¯¥RoIçš„x,y,w,hçš„åç§»é‡äº†ï¼Œå…¶æ€è·¯å’Œåˆ†ç±»å®Œå…¨ç›¸åŒã€‚ 5æŸå¤±çš„å®šä¹‰ç„¶åå°±æ˜¯æ€ä¹ˆå»å®šä¹‰è¿™ä¸ªæŸå¤±ï¼Œåªæœ‰å®šä¹‰å¥½æŸå¤±ï¼Œç½‘ç»œæ‰èƒ½æŒ‰ç…§ä½œè€…çš„è®¾æƒ³å»è·‘å•Šï¼ï¼Œçœ‹ä¸‹é¢è¿™ä¸ªå›¾ï¼ˆå›¾éƒ½æ˜¯ä»å°è±¡è¯¾å ‚çš„PPTä¸Šæˆªå–çš„ï¼Œæ„Ÿè°¢ï¼ï¼‰ã€‚å…ˆä¸»è¦è¯´ä¸€ä¸‹åˆ†ç±»æŸå¤±ï¼Œå¾—åˆ°ä¸Šé¢çš„æŠ•ç¥¨ï¼ŒC+1çš„å‘é‡å¯¹è¿™ä¸ªå€¼softmaxå½’ä¸€åŒ–ï¼Œå…¶å®å°±æ˜¯éƒ½å»æŒ‡æ•°å¹‚æ¬¡ï¼Œç„¶åæŠŠæ­£ç¡®çš„åšåˆ†å­ï¼Œè¿™æ ·çœ‹æ­£ç¡®ç±»åˆ«åˆ†ç±»çš„å¾—åˆ†æ˜¯å¦å¤Ÿå¤§ï¼Œä¸å¤§çš„è¯ï¼Œå‘µå‘µæŸå¤±å°±å¤§ï¼Œé‚£ä¹ˆç½‘ç»œè®­ç»ƒå°±å›å»çŸ«æ­£ï¼Œé‚£ä¹ˆä¸ºäº†è®©æŸå¤±å°ï¼Œå°±å¾—è®©è¿™ä¸ªç±»åˆ«çš„å¾—åˆ†é«˜ï¼Œé‚£ä¹ˆå°±å¾—è®©å‰é¢çš„ä½ç½®æ•æ„Ÿå·ç§¯å±‚çš„å¾—åˆ†é«˜~è¿™æ ·ä»ç†è®ºä¸Šåº”è¯¥æ˜¯èƒ½å®ç°çš„ã€‚ 6å¯è§†åŒ–ç»“æœè®ºæ–‡ä¸­ç»™å‡ºäº†å…¶å¯è§†åŒ–çš„ç»“æœï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥çœ‹å‡ºï¼Œå½“è¿™ä¸ªROIé€‰å¯¹äº†ï¼Œé‚£ä¹ˆå¯¹äºäººè¿™ä¸ªç±»åˆ«ï¼Œå®ƒå¾—å‡ºçš„9ä¸ªæ–¹ä½å›¾åœ¨ä¸­é—´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå·¦ä¸Šè§’å…¶å®ä¸å¤ªå±äºäººï¼Œçœ‹ä¸­é—´é‚£ä¸ªå›¾é«˜äº®çš„åŒºåŸŸå°‘ï¼›ä¸­é—´éƒ¨ä½å…¶å®è‚¯å®šå±äºäººäº†ï¼Œæˆ‘ä»¬çœ‹å‡ºç¬¬äº”ä¸ªæ ¼å­å‡ ä¹å…¨éƒ¨é«˜äº®ï¼Œä»¥æ­¤ç±»æ¨å¯ä»¥åˆ†æå…¶ä»–æ ¼å­ï¼Œæœ€åè®¡ç®—æ¯ä¸ªæ ¼å­çš„å¹³å‡å¾—åˆ°å³å›¾ï¼Œå¯ä»¥çœ‹å‡ºå…¶å€¼æ¯”è¾ƒé«˜ï¼Œå±äºäººç±»ã€‚å›¾2å“ªä¸ªåŒºåŸŸé€‰æ­ªäº†ä¹‹åå°±ä¸ä¸€æ ·äº†å¾—åˆ†ä½ä¸€ç‚¹ï¼Œä¹Ÿå¾ˆå¥½åˆ†æï¼ 7å®éªŒæ•ˆæœä½œè€…é¦–å…ˆåšäº†ä¸€ä¸ªå®éªŒå»æµ‹è¯•ä¸€ä¸‹ä¸åŒçš„ä½ç½®æ•æ„Ÿæ± åŒ–å•å…ƒå°ºå¯¸å¯¹ç»“æœçš„å½±å“ï¼Œå¯ä»¥çœ‹å‡º1*1çš„å°ºå¯¸ï¼Œä¹Ÿå°±æ˜¯å¯¹äºä¸€ä¸ªROIä¸åˆ†å—ï¼Œå¤±è´¥ï¼3*3ä¹Ÿå°±æ˜¯åˆ†æˆå·¦ä¸Šå·¦ä¸­å·¦ä¸‹ä¹ä»½æ•ˆæœè¿˜å¯ä»¥ï¼Œ7*7çš„æ•ˆæœæœ€å¥½ã€‚ä¹‹ååˆåšäº†å¯¹æ¯”è¯•éªŒï¼Œä¸ä¹‹å‰çš„ç½‘ç»œåšäº†å¯¹æ¯”ã€‚å¯ä»¥çœ‹å‡ºæ•ˆæœå¾—åˆ°äº†ç°ä¸»çš„æå‡ï¼Œåœ¨ä¿è¯æ•ˆæœçš„åŒæ—¶ï¼Œæ—¶é—´æ›´çŸ­ï¼ 8å‚è€ƒæ–‡çŒ®[1]å°è±¡å­¦å ‚è¯¾ç¨‹PPT[2]R-FCNè¯¦è§£https://blog.csdn.net/WZZ18191171661/article/details/79481135[3]è§£ç­”å…³äºR-FCNçš„æ‰€æœ‰ç–‘æƒ‘ï¼ˆåŸåˆ›ï¼‰https://www.jianshu.com/p/409fd61db9db","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"è®¡ç®—æœºè§†è§‰/ç›®æ ‡æ£€æµ‹","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[]},{"title":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆä¸‰ï¼‰Fast R-CNN ï¼ŒFaster R-CNN","slug":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆä¸‰ï¼‰Fast R-CNN ï¼ŒFaster R-CNN","date":"2019-05-08T04:41:15.000Z","updated":"2019-11-22T14:45:26.166Z","comments":true,"path":"2019/05/08/ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆä¸‰ï¼‰Fast R-CNN ï¼ŒFaster R-CNN/","link":"","permalink":"http://www.cloudcver.com/2019/05/08/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8BCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E4%B8%89%EF%BC%89Fast%20R-CNN%20%EF%BC%8CFaster%20R-CNN/","excerpt":"ç»§R-CNNä¸SPP-netä¹‹ååˆå‡ºç°äº†Fast R-CNNä¸Faster R-CNN,æ¯”ä¹‹å‰çš„ç½‘ç»œæœ‰äº†æ›´å¿«çš„é€Ÿåº¦ï¼Œå…¶å‡†ç¡®ç‡ä¹Ÿæ²¡æœ‰é™ä½ã€‚å¹¶ä¸”æŠŠç«¯åˆ°ç«¯çš„æ¦‚å¿µå¼•å…¥åˆ°ç›®æ ‡æ£€æµ‹ä¸­ã€‚","text":"ç»§R-CNNä¸SPP-netä¹‹ååˆå‡ºç°äº†Fast R-CNNä¸Faster R-CNN,æ¯”ä¹‹å‰çš„ç½‘ç»œæœ‰äº†æ›´å¿«çš„é€Ÿåº¦ï¼Œå…¶å‡†ç¡®ç‡ä¹Ÿæ²¡æœ‰é™ä½ã€‚å¹¶ä¸”æŠŠç«¯åˆ°ç«¯çš„æ¦‚å¿µå¼•å…¥åˆ°ç›®æ ‡æ£€æµ‹ä¸­ã€‚ Fast R-CNNFastR-CNNå€Ÿé‰´SPP-netæ€æƒ³åŠ å…¥ROIæ„Ÿå…´è¶£æ± åŒ–ï¼Œå¹¶å°†ä¸¤ä¸ªä»»åŠ¡å›å½’å’Œåˆ†ç±»åŒæ—¶è¿›è¡Œï¼Œè¿›è¡Œå¤šä»»åŠ¡è®­ç»ƒã€‚ ROIæ± åŒ–ROIæ„Ÿå…´è¶£æ± åŒ–å¯ä»¥çœ‹ä½œSPPpoolçš„ç®€åŒ–ï¼Œä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼ŒROIåªå¯¹æ„Ÿå…´è¶£çš„åŒºåŸŸåšä¸€æ¬¡æ± åŒ–å³å¯ã€‚è€ƒè™‘åˆ°æ„Ÿå…´è¶£åŒºåŸŸï¼ˆRoIï¼‰å°ºå¯¸ä¸ä¸€ï¼Œä½†æ˜¯è¾“å…¥å›¾ä¸­åé¢FCå±‚çš„å¤§å°æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„å›ºå®šå€¼ï¼Œå› ä¸ºROIæ± åŒ–å±‚çš„ä½œç”¨ç±»ä¼¼äºSPP-netä¸­çš„SPPå±‚ï¼Œå³å°†ä¸åŒå°ºå¯¸çš„RoI feature mapæ± åŒ–æˆä¸€ä¸ªå›ºå®šå¤§å°çš„feature mapã€‚å…·ä½“æ“ä½œï¼šå‡è®¾ç»è¿‡RoIæ± åŒ–åçš„å›ºå®šå¤§å°ä¸ºæ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œå› ä¸ºè¾“å…¥çš„RoI feature mapå¤§å°ä¸ä¸€æ ·ï¼Œå‡è®¾ä¸ºï¼Œéœ€è¦å¯¹è¿™ä¸ªfeature mapè¿›è¡Œæ± åŒ–æ¥å‡å°å°ºå¯¸ï¼Œé‚£ä¹ˆå¯ä»¥è®¡ç®—å‡ºæ± åŒ–çª—å£çš„å°ºå¯¸ä¸ºï¼šh/H,w/Wï¼Œå³ç”¨è¿™ä¸ªè®¡ç®—å‡ºçš„çª—å£å¯¹RoI feature mapåšmax poolingï¼ŒPoolingå¯¹æ¯ä¸€ä¸ªfeature mapé€šé“éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚ å¤šä»»åŠ¡æŸå¤±å‡½æ•°Fast R-CNNå°†ä¸¤ä¸ªä»»åŠ¡å¹¶è¡Œè¿è¡Œåˆ°ä¸€èµ·ï¼Œå…¶æŸå¤±å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼Œè€ƒè™‘æŸå¤±ä¸ºåˆ†ç±»æŸå¤±å’Œå›å½’æŸå¤±ã€‚ æœ€ç»ˆè®ºæ–‡ç»™å‡ºå…¶å®ç°çš„æ€§èƒ½å¯ä»¥çœ‹ä¸‹è¡¨ï¼Œå…¶å°†è®­ç»ƒæ—¶é—´ä¸æµ‹è¯•æ—¶é—´å¤§å¤§ç¼©çŸ­ï¼Œå°¤å…¶æ˜¯å•å›¾çš„æµ‹è¯•æ—¶é—´å¤§å¤§ç¼©çŸ­ï¼Œè¿™åŠŸåŠ³å½’ç»“äºä¸€æ–¹é¢é‡‡ç”¨äº†å…ˆå·ç§¯å Faster R-CNNFast R-CNNå­˜åœ¨çš„é—®é¢˜ï¼šå­˜åœ¨ç“¶é¢ˆï¼šé€‰æ‹©æ€§æœç´¢ï¼Œæ‰¾å‡ºæ‰€æœ‰çš„å€™é€‰æ¡†ï¼Œè¿™ä¸ªä¹Ÿéå¸¸è€—æ—¶ã€‚é‚£æˆ‘ä»¬èƒ½ä¸èƒ½æ‰¾å‡ºä¸€ä¸ªæ›´åŠ é«˜æ•ˆçš„æ–¹æ³•æ¥æ±‚å‡ºè¿™äº›å€™é€‰æ¡†å‘¢ï¼Ÿè§£å†³ï¼šåŠ å…¥ä¸€ä¸ªæå–è¾¹ç¼˜çš„ç¥ç»ç½‘ç»œï¼Œä¹Ÿå°±è¯´æ‰¾åˆ°å€™é€‰æ¡†çš„å·¥ä½œä¹Ÿäº¤ç»™ç¥ç»ç½‘ç»œæ¥åšäº†ã€‚ï¼ˆæƒ³è¾ƒå°‘æµ‹è¯•çš„æ—¶é—´é‚£å°±æŠŠä»»åŠ¡äº¤ç»™æ·±åº¦å­¦ä¹ ï¼Œå­¦ä¹ å‡ºä¸€å¥—å‚æ•°å¯ä»¥ä»¥åä¸€ç›´ç”¨ã€‚ï¼‰ç»™è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•èµ·äº†ä¸ªåå­—å«åšRegion Proposal Network(RPN)ã€‚ ç½‘ç»œæ€»å›¾å…ˆçœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œå®ƒæ˜¯æœ€ç»ˆçš„æµ‹è¯•ç½‘ç»œã€‚é€šè¿‡ä¸Šé¢è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºFaster R-CNNç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼š1ï¼‰å·ç§¯å±‚(conv layers)ï¼Œç”¨äºæå–å›¾ç‰‡çš„ç‰¹å¾ï¼Œè¾“å…¥ä¸ºæ•´å¼ å›¾ç‰‡ï¼Œè¾“å‡ºä¸ºæå–å‡ºçš„ç‰¹å¾ç§°ä¸ºfeature maps2ï¼‰RPNç½‘ç»œ(Region Proposal Network)ï¼Œç”¨äºæ¨èå€™é€‰åŒºåŸŸï¼Œè¿™ä¸ªç½‘ç»œæ˜¯ç”¨æ¥ä»£æ›¿ä¹‹å‰çš„search selectiveçš„ã€‚è¾“å…¥ä¸ºå›¾ç‰‡ä¸ºfeatrue mapsï¼Œè¾“å‡ºä¸ºå¤šä¸ªå€™é€‰åŒºåŸŸï¼Œè¿™é‡Œçš„ç»†èŠ‚ä¼šåœ¨åé¢è¯¦ç»†ä»‹ç»ã€‚3ï¼‰RoI poolingï¼Œå’ŒFast R-CNNä¸€æ ·ï¼Œå°†ä¸åŒå¤§å°çš„è¾“å…¥è½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¾“å…¥è¾“å‡ºå’ŒFast R-CNNä¸­RoI poolingä¸€æ ·ã€‚4ï¼‰åˆ†ç±»å’Œå›å½’ï¼Œè¿™ä¸€å±‚çš„è¾“å‡ºæ˜¯æœ€ç»ˆç›®çš„ï¼Œè¾“å‡ºå€™é€‰åŒºåŸŸæ‰€å±çš„ç±»ï¼Œå’Œå€™é€‰åŒºåŸŸåœ¨å›¾åƒä¸­çš„ç²¾ç¡®ä½ç½®ã€‚ é‚£ä¹ˆå…¶å®ä½ å¯ä»¥çœ‹å‡ºæ¥å…³é”®çš„éƒ¨åˆ†åœ¨äºå€™é€‰åŒºåŸŸçš„æ”¹åŠ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸»è¦è¯´ä¸‹å€™é€‰åŒºåŸŸçš„æ–¹æ³•ã€‚ RPNç½‘ç»œé¦–å…ˆä½œè€…è‡ªå·±è®¾æƒ³åŸå›¾ä¸Šæˆ–è€…è¯´featuremapä¸Šæ¯ä¸ªä½ç½®å¯èƒ½ä¼šäº§ç”Ÿkä¸­å¯èƒ½çš„åŒºåŸŸï¼Œä¸‹å›¾æ‰€ç¤ºï¼Œä½œè€…ç»™å‡ºçš„æ–¹æ¡ˆå…·ä½“æ¥è¯´å°±æ˜¯æ¯ä¸ªä½ç½®å¯èƒ½ä¼šå‡ºç°ä¸‰ç§é¢ç§¯å¯èƒ½ï¼Œä¸‰ç§é•¿å®½è¡¨ç¤ºæ ·å¼ã€‚ä¸‰ç§é¢ç§¯åˆ†åˆ«æ˜¯128Ã—128ï¼Œ256Ã—256,512Ã—512ï¼Œæ¯ç§é¢ç§¯åˆåˆ†æˆ3ç§é•¿å®½æ¯”ï¼Œåˆ†åˆ«æ˜¯2:1,1:2,1:1 ã€‚å‘µå‘µä¸€ç®—æ˜¯ä¹ç§ï¼æ‰€ä»¥å®ƒçš„kæ˜¯9ï¼ç„¶åRPNç½‘ç»œæ˜¯è¿™ä¹ˆå¹²çš„ï¼Œå…ˆå°†ä¸€å¹…å›¾ç‰‡ç»è¿‡CNNç½‘ç»œå¾—åˆ°ç¬¬äº”ä¸ªå·ç§¯å±‚ï¼Œç„¶åå°†ç¬¬äº”ä¸ªå·ç§¯å±‚ç”¨3*3å·ç§¯æ ¸å·ç§¯å¾—åˆ°ä¸€ä¸ª256é€šé“çš„ç‰¹å¾å›¾ï¼Œä¹‹åå†åˆ†ä¸ºä¸¤è·¯ï¼Œä¸€è·¯ç”¨1*1å·ç§¯é™ç»´åˆ°åŸå°ºå¯¸ä¸‹2*kä¸ªé€šé“ï¼ˆè¿™æ˜¯å¹²å•¥ï¼Œè¿™2*kä¸ªåˆ†åˆ«å¯¹åº”æ˜¯/å¦ä¸ºå¯¹çš„å€™é€‰åŒºåŸŸï¼Œæ€»å…±æœ‰kä¸ªæ¡†ï¼Œæ‰€ä»¥æ˜¯2*kä¸ªï¼‰ï¼Œå¦ä¸€è·¯ç”¨1*1çš„å·ç§¯é™ç»´åˆ°åŸå°ºå¯¸ä¸‹4*kä¸ªé€šé“ï¼ˆè¿™ä¸ªå°±æ˜¯å·¦ä¸Šè§’åæ ‡ï¼Œå³ä¸‹è§’åæ ‡ï¼Œkç§ï¼‰okï¼æ³¨æ„ï¼šè¿™é‡Œå°ºå¯¸æ²¡æœ‰å˜å“ï¼Œå› ä¸ºæ¯ä¸ªä½ç½®éƒ½è¦è¾“å‡ºè¿™ä¹ˆä¸ªå¾—åˆ†æƒ…å†µå“ï¼Œæˆ‘ä»¬æœ€åç¡®å®šæ¯”è¾ƒå¥½çš„ä¸­å¿ƒä½ç½®å“è¿˜æœ‰å®ƒçš„å°ºå¯¸ã€‚ é‚£ä¹ˆå¦‚æœRPNä¸€å¥—ç¥ç»ç½‘ç»œï¼ŒFastR-CNNä¸€å¥—ç½‘ç»œå¥½åƒä¹Ÿä¸è¡Œå“¦ï¼Œè®­ç»ƒè´¹äº‹å“¦ã€‚é‚£ä¹ˆRPNç½‘ç»œå’ŒFastR-CNNæ˜¯å¦‚ä½•ç»„åˆçš„æ˜¯å¦‚ä½•æƒå€¼å…±äº«çš„å‘¢ï¼Ÿ Faster R-CNNè®­ç»ƒæ€»ç»“ä¸€ä¸‹Faster R-CNNçš„è®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼šï¼ˆ1ï¼‰å…ˆå†imagenetä¸Šé¢„è®­ç»ƒä¸€ä¸ªCNNæ¨¡å‹ï¼Œå¾—åˆ°ä¸€ä¸ªåˆå§‹çš„RPNç½‘ç»œï¼ˆ2ï¼‰å†å¦å¤–è®­ç»ƒä¸€ä¸ªimagenetæ¨¡å‹CNN2ï¼Œç„¶åæŠŠåœ¨æ­¥éª¤1å¾—åˆ°çš„Regionproposalsç”¨æ¥è®­ç»ƒFastR-CNNæ¨¡å‹ã€‚ï¼ˆ3ï¼‰æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒå¥½çš„FastR-CNNæ¨¡å‹ä¹Ÿå°±æ˜¯æ­¥éª¤2çš„æ¨¡å‹ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªCNNéƒ¨åˆ†å›ºå®šå†å»çŸ«æ­£RPNç½‘ç»œï¼Œæ­¤æ—¶CNNéƒ¨åˆ†å°±ç”¨CNN2ï¼ˆæŠŠCNN1ç›´æ¥ä¸¢æ‰äº†ï¼ï¼‰ç„¶åå»è°ƒå‚RPNåé¢é‚£ä¸€éƒ¨åˆ†ï¼Œè°ƒå¥½äº†è¿™æ—¶çš„RPNæ¨¡å‹åŸºæœ¬å¯ä»¥äº†ã€‚ï¼ˆ4ï¼‰å®Œäº‹å€™é€‰åŒºåŸŸåˆå˜äº†ï¼Œå›å»åœ¨è°ƒFastR-CNNæ¨¡å‹ï¼Œæ­¤æ—¶CNNéƒ¨åˆ†ä¸åŠ¨äº†ï¼Œè¿™ä¸¤ä¸ªç½‘ç»œå·²ç»å…±äº«äº†ï¼æˆ‘ä»¬å»è°ƒåé¢çš„å…¨è¿æ¥å•¥çš„ã€‚okè°ƒå¥½äº†å°±å¤§åŠŸå‘Šæˆã€‚å¯ä»¥çœ‹å‡ºè®­ç»ƒçš„æ—¶å€™è´¹äº‹ï¼Œä½†æ˜¯é€‰ç»ƒå¥½äº†åéƒ½æ˜¯ç¥ç»ç½‘ç»œï¼Œæµ‹è¯•æ—¶é—´å°±å¤§å¤§å‡å°‘ã€‚ Faster R-CNNçš„ä¸»è¦è´¡çŒ®æ˜¯è®¾è®¡äº†æå–å€™é€‰åŒºåŸŸçš„ç½‘ç»œRPNï¼Œä»£æ›¿äº†è´¹æ—¶çš„é€‰æ‹©æ€§æœç´¢ï¼Œä½¿å¾—æ£€æµ‹é€Ÿåº¦å¤§å¹…æé«˜ã€‚ å‚è€ƒæ–‡çŒ®[1]ç¬¬ä¸‰åä¸€èŠ‚ï¼Œç›®æ ‡æ£€æµ‹ç®—æ³•ä¹‹ Faster R-CNNç®—æ³•è¯¦è§£https://www.cnblogs.com/zyly/p/9247863.html[2]Faster R-CNNæ–‡ç« è¯¦ç»†è§£è¯»https://blog.csdn.net/liuxiaoheng1992/article/details/81843363[3]ã€ç›®æ ‡æ£€æµ‹ã€‘Fast R-CNNè®ºæ–‡è¯¦è§£ï¼ˆFast R-CNNï¼‰https://www.jianshu.com/p/fbbb21e1e390","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"è®¡ç®—æœºè§†è§‰/ç›®æ ‡æ£€æµ‹","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[]},{"title":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆäºŒï¼‰SPPnet","slug":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆäºŒï¼‰SPPnet","date":"2019-05-07T04:41:15.000Z","updated":"2019-11-22T14:45:30.220Z","comments":true,"path":"2019/05/07/ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆäºŒï¼‰SPPnet/","link":"","permalink":"http://www.cloudcver.com/2019/05/07/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8BCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E4%BA%8C%EF%BC%89SPPnet/","excerpt":"åœ¨ä¸Šæ–‡ä»‹ç»äº†R-CNNç½‘ç»œï¼Œå¯ä»¥çœ‹å‡ºå…¶å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼šå·ç§¯ç½‘ç»œçš„é‡å¤è®¡ç®—é€ æˆè®¡ç®—é‡å¤§è€—æ—¶å¤šï¼Œä¹‹åå‡ºç°äº†SPPnetæå‡ºå…ˆå·ç§¯å†è¿›è¡Œæ¡†é€‰ç›®æ ‡åŒºåŸŸçš„æ–¹æ³•ã€‚","text":"åœ¨ä¸Šæ–‡ä»‹ç»äº†R-CNNç½‘ç»œï¼Œå¯ä»¥çœ‹å‡ºå…¶å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼šå·ç§¯ç½‘ç»œçš„é‡å¤è®¡ç®—é€ æˆè®¡ç®—é‡å¤§è€—æ—¶å¤šï¼Œä¹‹åå‡ºç°äº†SPPnetæå‡ºå…ˆå·ç§¯å†è¿›è¡Œæ¡†é€‰ç›®æ ‡åŒºåŸŸçš„æ–¹æ³•ã€‚ æ€»ä½“æ€è·¯é¦–å…ˆçœ‹ä¸‹é¢è¿™å¹…å›¾ï¼ŒR-CNNä¸­æˆ‘ä»¬åœ¨å·ç§¯ä¹‹å‰éœ€è¦å…ˆé€‰å®šé¢„é€‰æ¡†ï¼Œç„¶åå¯èƒ½å¤§å°å°ºå¯¸ä¸ä¸€ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œcropæˆ–è€…warpä¸€ä¸‹åŒæ„å°ºå¯¸å†è¿›è¡Œå·ç§¯ç½‘ç»œï¼›SPPnetæå‡ºæˆ‘ä»¬å¯ä»¥å…ˆå¯¹åŸå›¾è¿›è¡Œå·ç§¯ç¥ç»ç½‘ç»œï¼Œå†åˆ©ç”¨é¢„é€‰æ¡†å»æ‰¾å‡ºå¯¹åº”çš„ç¬¬äº”å±‚å·ç§¯ç½‘ç»œæ‰€å¯¹åº”çš„ç‰¹å¾å›¾ï¼ˆå› ä¸ºæˆ‘ä»¬å‘ç°å…¶å®å†è®­ç»ƒå·ç§¯ç½‘ç»œæ—¶ï¼ŒåŸå›¾å’Œæ¯å±‚çš„å·ç§¯å›¾å®é™…ä½ç½®å…³ç³»è¿˜æ˜¯ä¸å˜çš„ï¼‰å…¨è¿æ¥å±‚æˆ‘ä»¬å•ç‹¬æ”¾åœ¨åé¢ï¼Œåœ¨è¿›å…¥å…¨è¿æ¥å±‚ä¹‹å‰æˆ‘ä»¬åšäº†ä¸€ä¸ªé‡‘å­—å¡”æ± åŒ–SSPï¼ˆåé¢è®²ï¼ï¼‰åˆ°ç»Ÿä¸€å°ºå¯¸ã€‚ ç©ºé—´é‡‘å­—å¡”+æœ€å¤§æ± åŒ–åœ¨å›¾åƒå¤„ç†ä¸­æœ‰ä¸ªå›¾åƒé‡‘å­—å¡”çš„æ€æƒ³å¯ä»¥é‡‡æ ·å›¾åƒåˆ°ä»»æ„å¤§å°ï¼Œè¿™é‡Œå€Ÿé‰´è¿™ä¸ªæ€æƒ³ï¼Œæˆ‘ä»¬æŠŠå·ç§¯ç½‘ç»œçš„è¾“å‡ºå¾—åˆ°çš„13*13*256ç‰¹å¾æå–ä¸‰ä¸ªä¸åŒå°ºå¯¸ï¼Œåˆ†åˆ«æ˜¯1*1ï¼ˆä¹Ÿå°±æ˜¯åŸå›¾ï¼‰ï¼Œ2*2ï¼ˆåŸå›¾åˆ†ä¸ºå››ä»½ï¼‰ï¼Œ4*4ï¼ˆåŸå›¾åˆ†ä¸º16ä»½ï¼‰ï¼Œç„¶åå¯¹æ¯ä¸€ä»½é€‰åŒºæœ€å¤§çš„ä¸€ä¸ªå€¼ä»£è¡¨è¯¥åŒºåŸŸä¹Ÿå°±æ˜¯æœ€å¤§æ± åŒ–ï¼ˆä¸€ä»½åŒ…å«å¾ˆå¤šåƒç´ ç‚¹å•Šï¼‰ã€‚æœ€åå¾—åˆ°16+4+1=21 *256 çš„ç‰¹å¾ï¼è¿™æ ·ä¸ç®¡ä¸Šä¸€å±‚è¾“å‡ºçš„å°ºå¯¸å¤šå¤§ï¼Œæˆ‘ä»¬éƒ½èƒ½åšè¿™ä¸ªå˜æ¢ï¼ å¦‚æœåƒä¸Šå›¾é‚£æ ·å°†reponse mapåˆ†æˆ4x4 2x2 1x1ä¸‰å¼ å­å›¾ï¼Œåšmax poolingåï¼Œå‡ºæ¥çš„ç‰¹å¾å°±æ˜¯å›ºå®šé•¿åº¦çš„(16+4+1)x256é‚£ä¹ˆå¤šçš„ç»´åº¦äº†ã€‚å¦‚æœåŸå›¾çš„è¾“å…¥ä¸æ˜¯224x224ï¼Œå‡ºæ¥çš„ç‰¹å¾ä¾ç„¶æ˜¯(16+4+1)x256 æ›´åŠ é€šç”¨çš„è®¤è¯†å¯ä»¥è®¤ä¸ºï¼šè¾“å…¥å°ºå¯¸åœ¨[180,224]ä¹‹é—´ï¼Œå‡è®¾æœ€åä¸€ä¸ªå·ç§¯å±‚çš„è¾“å‡ºå¤§å°ä¸ºaÃ—aï¼Œè‹¥ç»™å®šé‡‘å­—å¡”å±‚æœ‰nÃ—n ä¸ªbinsï¼Œè¿›è¡Œæ»‘åŠ¨çª—æ± åŒ–ï¼Œçª—å£å°ºå¯¸ä¸ºwin=âŒˆa/nâŒ‰ï¼Œæ­¥é•¿ä¸ºstr=âŒŠa/nâŒ‹ï¼Œä½¿ç”¨ä¸€ä¸ªç½‘ç»œå®Œæˆä¸€ä¸ªå®Œæ•´epochçš„è®­ç»ƒï¼Œä¹‹ååˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªç½‘ç»œã€‚åªæ˜¯åœ¨è®­ç»ƒçš„æ—¶å€™ç”¨åˆ°å¤šå°ºå¯¸ï¼Œæµ‹è¯•æ—¶ç›´æ¥å°†SPPNetåº”ç”¨äºä»»æ„å°ºå¯¸çš„å›¾åƒã€‚è¿™æ ·æˆ‘ä»¬å¾—åˆ°äº†ç»Ÿä¸€å°ºå¯¸çš„ç‰¹å¾åœ¨è¿›è¡Œåé¢çš„å…¨è¿æ¥å±‚è®­ç»ƒå³å¯ã€‚ ç©ºé—´é‡‘å­—å¡”åœ¨å®šä½å®éªŒä¸­çš„åº”ç”¨åœ¨å®šä½å®éªŒä¸­ï¼Œéœ€è¦æˆ‘ä»¬å°†åŸå›¾ä¸Šçš„ROIæ˜ å°„åˆ°featuremapä¸­ï¼Œå…·ä½“å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« æ¢è®¨å·ç§¯çš„æ„Ÿå—è§†é‡ä»¥åŠsPPnetä¸­ROIæ˜ å°„åˆ°featuremapæˆ‘è¯¦ç»†ä»‹ç»äº†ROIæ˜ å°„çš„æ–¹æ³•ã€‚å¯¹æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°æ˜ å°„åçš„å›¾ç‰‡å°±å¯ä»¥åœ¨featuremapä¸­æ‰¾åˆ°å¯¹åº”çš„åŒºåŸŸï¼Œç„¶åå†è¿›è¡Œç©ºé—´é‡‘å­—å¡”æœ€å¤§æ± åŒ–å¾—åˆ°ç‰¹å¾ã€‚é‡‘å­—å¡”ç”¨äº†{6x6 3x3 2x2 1x1}ï¼Œå…±50ä¸ªbinï¼Œåˆ†ç±»å™¨ä¹Ÿæ˜¯ç”¨äº†SVMã€‚æœ€åå¾—åˆ°äº†å¾ˆå¤§çš„æå‡ï¼Œä¸»è¦åœ¨äºæ—¶é—´ï¼ æ€»ç»“R-CNNæå–ç‰¹å¾æ¯”è¾ƒè€—æ—¶ï¼Œéœ€è¦å¯¹æ¯ä¸ªwarpçš„åŒºåŸŸè¿›è¡Œå­¦ä¹ ï¼Œè€ŒSPPNetåªå¯¹å›¾åƒè¿›è¡Œä¸€æ¬¡å·ç§¯ï¼Œä¹‹åä½¿ç”¨SPPNetåœ¨ç‰¹å¾å›¾ä¸Šæå–ç‰¹å¾ã€‚ç»“åˆEdgeBoxesæå–çš„proposalï¼Œç³»ç»Ÿå¤„ç†ä¸€å¹…å›¾åƒéœ€è¦0.5sã€‚ å‚è€ƒæ–‡çŒ®[1]æ¢è®¨å·ç§¯çš„æ„Ÿå—è§†é‡ä»¥åŠsPPnetä¸­ROIæ˜ å°„åˆ°featuremaphttps://blog.csdn.net/CLOUD_J/article/details/89917950[2]ã€ç›®æ ‡æ£€æµ‹ã€‘SPPNetç®—æ³•è¯¦è§£https://blog.csdn.net/bryant_meng/article/details/78615353","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"è®¡ç®—æœºè§†è§‰/ç›®æ ‡æ£€æµ‹","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[]},{"title":"æ¢è®¨å·ç§¯çš„æ„Ÿå—è§†é‡ä»¥åŠsPPnetä¸­ROIæ˜ å°„åˆ°featuremap","slug":"æ¢è®¨å·ç§¯çš„æ„Ÿå—è§†é‡ä»¥åŠsPPnetä¸­ROIæ˜ å°„åˆ°featuremap","date":"2019-05-07T02:41:15.000Z","updated":"2019-11-22T14:46:16.527Z","comments":true,"path":"2019/05/07/æ¢è®¨å·ç§¯çš„æ„Ÿå—è§†é‡ä»¥åŠsPPnetä¸­ROIæ˜ å°„åˆ°featuremap/","link":"","permalink":"http://www.cloudcver.com/2019/05/07/%E6%8E%A2%E8%AE%A8%E5%8D%B7%E7%A7%AF%E7%9A%84%E6%84%9F%E5%8F%97%E8%A7%86%E9%87%8E%E4%BB%A5%E5%8F%8AsPPnet%E4%B8%ADROI%E6%98%A0%E5%B0%84%E5%88%B0featuremap/","excerpt":"æœ€è¿‘åœ¨å­¦ä¹ ç›®æ ‡æ£€æµ‹sPPnetæ—¶çœ‹åˆ°ROIæ˜ å°„åˆ°featuremapä¸­çš„æ–¹æ³•ï¼Œæ–‡ä¸­å¯¹æ­¤å™è¿°è¾ƒå°‘ï¼Œæ‰€ä»¥å°±æ­¤é—®é¢˜å·®äº†ä¸€äº›èµ„æ–™ï¼Œåœ¨çŸ¥ä¹ä¸Šå‘ç°ä¸€ç‰‡ç†è§£è¾ƒå¥½çš„æ–‡ç« (æ–‡æœ«ç»™å‡ºäº†å‚è€ƒæ–‡çŒ®)ï¼Œäºæ­¤åšä¸€æ€»ç»“ã€‚","text":"æœ€è¿‘åœ¨å­¦ä¹ ç›®æ ‡æ£€æµ‹sPPnetæ—¶çœ‹åˆ°ROIæ˜ å°„åˆ°featuremapä¸­çš„æ–¹æ³•ï¼Œæ–‡ä¸­å¯¹æ­¤å™è¿°è¾ƒå°‘ï¼Œæ‰€ä»¥å°±æ­¤é—®é¢˜å·®äº†ä¸€äº›èµ„æ–™ï¼Œåœ¨çŸ¥ä¹ä¸Šå‘ç°ä¸€ç‰‡ç†è§£è¾ƒå¥½çš„æ–‡ç« (æ–‡æœ«ç»™å‡ºäº†å‚è€ƒæ–‡çŒ®)ï¼Œäºæ­¤åšä¸€æ€»ç»“ã€‚å…ˆè°ˆä¸€ä¸‹æ„Ÿå—è§†é‡ï¼Œåœ¨å­¦ä¹ å·ç§¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„æ˜¯ä¸Šä¸€å±‚å›¾æ˜ å°„åˆ°ä¸‹ä¸€å±‚ä¹‹åçš„å°ºå¯¸ï¼Œå¾ˆå°‘è°ˆåŠæ„Ÿå—é‡ï¼Œè¿™å…¶å®æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚ å·ç§¯ä¸­çš„æ„Ÿå—è§†é‡é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“ä¸Šä¸€å±‚å›¾çš„å°ºå¯¸ï¼Œå»æ¨æµ‹ä¸‹ä¸€å±‚çš„å°ºå¯¸ï¼Œå¦‚ä¸‹å…¬å¼å³å¯ï¼Œè¿™ä¸ªå¤§å®¶åº”è¯¥å¾ˆç†Ÿæ‚‰output field size = ( input field size - kernel size + 2*padding ) / stride + 1(output field size æ˜¯å·ç§¯å±‚çš„è¾“å‡ºï¼Œinput field size æ˜¯å·ç§¯å±‚çš„è¾“å…¥ï¼Œstrideæ­¥é•¿ï¼Œpaddingå¡«å……åƒç´ ï¼Œkernelsizeå·ç§¯æ ¸å°ºå¯¸)éšåï¼Œæˆ‘ä»¬æƒ³å¦‚æœçŸ¥é“åä¸€å±‚çš„å°ºå¯¸ï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥çŸ¥é“å‰ä¸€å±‚çš„å°ºå¯¸ç­”æ¡ˆå¿…ç„¶æ˜¯ï¼š input field size = ï¼ˆoutput field size - 1ï¼‰ stride - 2padding + kernel sizeé‚£ä¹ˆæ­¤æ—¶å¦‚æœæˆ‘ä»¬æŠŠæœ€åä¸€å±‚çš„å°ºå¯¸å®šä¸º1ï¼Œå‘å‰æ¨æ˜¯ä¸æ˜¯å¯ä»¥çŸ¥é“æœ€åä¸€å±‚çš„ä¸€ä¸ªå°å•ä½æ ¼å­å¯¹åº”åˆ°åŸå›¾çš„å°ºå¯¸ï¼Œä¹Ÿå°±æ˜¯æ„Ÿå—é‡äº†ã€‚ å·ç§¯ç¥ç»ç½‘ç»œCNNä¸­ï¼ŒæŸä¸€å±‚è¾“å‡ºç»“æœä¸­ä¸€ä¸ªå…ƒç´ æ‰€å¯¹åº”çš„è¾“å…¥å±‚çš„åŒºåŸŸå¤§å°ï¼Œè¢«ç§°ä½œæ„Ÿå—é‡receptive fieldã€‚æ„Ÿå—é‡çš„å¤§å°æ˜¯ç”±kernel sizeï¼Œstrideï¼Œpadding , outputsize ä¸€èµ·å†³å®šçš„ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾æ›´å¥½çš„ç†è§£ä¸‹è™½ç„¶åŸå›¾å¾ˆå¤§ï¼Œä½†æˆ‘ä»¬è€ƒè™‘åŸå›¾ä¸­çš„11*11çš„å°ºå¯¸å‘åæ˜ å°„åˆ°map2å˜ä¸º77çš„å°ºå¯¸ï¼Œå†å‘åæ˜ å°„åˆ°11.7=(11-5)/1+1ï¼›1=(7-7)/1+1ï¼›æ˜¯ä¸æ˜¯~~ä¹‹åæˆ‘ä»¬åè¿‡æ¥è¯æ˜ä¸€ä¸‹æœ€åä¸€å±‚å‘map2æ˜ å°„7 = (1-1)*1+7map2å‘map1æ˜ å°„11 = (7-1)*1+5 äº†è§£äº†æ„Ÿå—é‡ï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸‹åæ ‡å˜æ¢ åæ ‡å˜æ¢åœ¨æ„Ÿå—é‡ä¸Šé¢åšåæ ‡å˜æ¢ï¼Œå®åˆ™æ˜¯å¯¹ä¸­å¿ƒä½ç½®åšå˜æ¢ï¼Œå¦‚ä¸‹å›¾map3çš„ä¸€ä¸ªç‚¹ï¼ˆä½ç½®ä¸ºp3ï¼‰å®ƒå‘ä¸Šæ˜ å°„åˆ°map2çš„èŒƒå›´å†…ä¸­å¿ƒä½ç½®æ˜¯å¤šå°‘å‘¢?æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªå…¬å¼æ¥ç†è§£å¯¹äº Convolution/Pooling layer: $p_i = s_i \\cdot p_{i+1} +( (k_i -1)/2 - padding)$ï¼ˆPä»£è¡¨ä½ç½®ï¼Œkè¡¨ç¤ºå·ç§¯æ ¸å¤§å°ï¼Œsä»£è¡¨æ­¥é•¿ï¼‰å¯¹äºNeuronlayer(ReLU/Sigmoid/..) : $p_i = p_{i+1}$ åœ¨æ­¤ç”»äº†ä¸€ä¸ªå›¾æ–¹ä¾¿ç†è§£ï¼Œä¸‹é¢ä¸€å±‚çš„ç»¿è‰²ç‚¹åæ˜ ä¸€ä¸ª1*1çš„ç‚¹ä¸­å¯¹åº”åˆ°ä¸Šä¸€å±‚ç»¿è‰²ç‚¹ï¼Œä»–å…¶å®æ˜¯åœ¨æœ€å·¦ä¾§çš„åŸºæœ¬æ ¼å­å‘å³å¹³ç§»p(på°±æ˜¯ä¸‹é¢é‚£å±‚çš„åæ ‡)ä¸ªstrideï¼ˆæœ¬å±‚çš„æ­¥é•¿ï¼‰æ‰€ä»¥è¿™éƒ¨åˆ†åæ ‡å°±æ˜¯$s_i \\cdot p_{i+1}$ç„¶åè¿˜å·®ä¸€ä¸ªåŸºæœ¬æ ¼å­çš„åŠä¸ªåæ ‡å°±ç”¨$( (k_i -1)/2 - padding)$æ¥å†³å®šå“ˆå“ˆï¼å®Œç¾ï¼ æˆ‘ä»¬æœ€åå†çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªå›¾ç»™å‡ºçš„è®¡ç®—ï¼ç†è§£ä¸€ä¸‹å®ƒçš„è®¡ç®—ï¼ ä¸Šé¢æ˜¯æ„Ÿå—é‡çš„æ˜ å°„å…¬å¼ï¼Œåˆ°äº†ROIå¯¹äºä¸Šé¢çš„å…¬å¼ï¼Œä½•å‡¯æ˜åœ¨SPP-netä¸­é‡‡ç”¨åšäº†ä¸€ä¸ªç®€åŒ–ã€‚å…¶å®å°±æ˜¯å·§å¦™çš„åŒ–ç®€ä¸€ä¸‹å…¬å¼$pi = s_i \\cdot p_{i+1} +( (k_i -1)/2 - padding)$ä»¤æ¯ä¸€å±‚çš„paddingéƒ½ä¸º$padding = \\lfloor k_i /2 \\rfloor\\Rightarrow$$pi = s_i \\cdot p_{i+1} +( (k_i -1)/2 - \\lfloor k_i /2 \\rfloor)$å½“$k_i$ ä¸ºå¥‡æ•° $( (k_i -1)/2 - \\lfloor k_i /2 \\rfloor) = 0$ æ‰€ä»¥ $p_i = s_i \\cdot p_{i+1}$å½“k_i ä¸ºå¶æ•° $( (k_i -1)/2 - \\lfloor k_i /2 \\rfloor) = -0.5$ æ‰€ä»¥ $p_i = s_i \\cdot p_{i+1} -0.5$è€Œ $p_i$ æ˜¯åæ ‡å€¼ï¼Œä¸å¯èƒ½å–å°æ•° æ‰€ä»¥åŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸º$p_i = s_i \\cdot p_{i+1}$ã€‚å…¬å¼å¾—åˆ°äº†åŒ–ç®€ï¼šæ„Ÿå—é‡ä¸­å¿ƒç‚¹çš„åæ ‡$p_i$åªè·Ÿå‰ä¸€å±‚ $p_{i+1}$ æœ‰å…³ã€‚ ROIæ˜ å°„å˜æ¢ROIæ˜ å°„çš„æ—¶å€™æ˜¯å°†å·¦ä¸Šè§’å’Œå³å°è§’æ˜ å°„åˆ°featuremapç„¶åç¡®å®šæœ€åçš„åŒºåŸŸã€‚è€ƒè™‘åŸå›¾ä¸Šçš„ç‚¹ä¸å¯èƒ½æ¯ä¸€ä¸ªç‚¹åœ¨featuremapä¸­éƒ½æœ‰å¯¹åº”ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ‰¾æœ€è¿‘çš„ç‚¹ã€‚ä¾‹å¦‚å›¾ä¸­å·¦ä¸Šè§’çš„ç‚¹ï¼ˆx,yï¼‰æ˜ å°„åˆ° feature mapä¸Šçš„(xâ€™,yâ€™) ï¼š ä½¿å¾— (xâ€™,yâ€™) åœ¨åŸå§‹å›¾ä¸Šæ„Ÿå—é‡ï¼ˆä¸Šå›¾ç»¿è‰²æ¡†ï¼‰çš„ä¸­å¿ƒç‚¹ ä¸ï¼ˆx,yï¼‰å°½å¯èƒ½æ¥è¿‘ã€‚åœ¨ä¸Šé¢æ¯å±‚éƒ½å¡«å……padding/2 å¾—åˆ°çš„ç®€åŒ–å…¬å¼ ï¼š $p_i = s_i \\cdot p_{i+1}$æˆ‘ä»¬è€ƒè™‘ä»featuremapä¼ åˆ°åŸå›¾å¾—åˆ°$p_0 = S \\cdot p_{i+1}$ å…¶ä¸­ $(S = \\prod_{0}^{i} s_i)$(æ‰€æœ‰æ­¥é•¿é‡ä¹˜ç§¯~~)å‘µå‘µç®€å•äº†ä¸å°‘ã€‚æŠŠå¼å­åè¿‡æ¥å°±å˜ä¸ºï¼š$xâ€™ = \\lfloor x/S \\rfloor ,\\;yâ€™ = \\lfloor y/S \\rfloor$ã€‚è¿™æ ·å°±å®ç°äº†ROIåæ ‡å˜æ¢ï¼ŒsPPnetä¸­æ”¹äº†ä¸€ä¸‹ï¼š$xâ€™ = \\lfloor x/S \\rfloor +1 ,\\;yâ€™ = \\lfloor y/S \\rfloor +1$,åŠ äº†ä¸€ä¸ª1ï¼Œæœ‰ä»€è«ç”¨å‘¢ï¼Ÿç¬”è€…è®¤ä¸ºç›¸å½“äºæŠŠå¾—åˆ°çš„åæ ‡å‘é‡Œé¢ç¼©ä¸€ä¸‹ä¿è¯å‡†ç¡®æ€§ã€‚ å‚è€ƒæ–‡çŒ®[1]åŸå§‹å›¾ç‰‡ä¸­çš„ROIå¦‚ä½•æ˜ å°„åˆ°åˆ°feature map?https://zhuanlan.zhihu.com/p/24780433[2]ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆäºŒï¼‰SPPnethttps://blog.csdn.net/CLOUD_J/article/details/89893140","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"è®¡ç®—æœºè§†è§‰/ç›®æ ‡æ£€æµ‹","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[{"name":"SPPnet","slug":"SPPnet","permalink":"http://www.cloudcver.com/tags/SPPnet/"},{"name":"æ„Ÿå—é‡","slug":"æ„Ÿå—é‡","permalink":"http://www.cloudcver.com/tags/%E6%84%9F%E5%8F%97%E9%87%8E/"}]},{"title":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆä¸€ï¼‰R-CNN","slug":"ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆä¸€ï¼‰R-CNN","date":"2019-05-06T02:41:15.000Z","updated":"2019-11-22T14:45:26.141Z","comments":true,"path":"2019/05/06/ç›®æ ‡æ£€æµ‹CNNç»å…¸ç½‘ç»œï¼ˆä¸€ï¼‰R-CNN/","link":"","permalink":"http://www.cloudcver.com/2019/05/06/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8BCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E4%B8%80%EF%BC%89R-CNN/","excerpt":"åœ¨æ—©æœŸè®¡ç®—æœºè§†è§‰ç ”ç©¶æ—¶ï¼Œäººä»¬å¾ˆå¥½çš„å°†CNNåº”ç”¨åœ¨ç›®æ ‡åˆ†ç±»çš„é—®é¢˜ä¸­ï¼Œä½†æ˜¯ä¸€ç›´ä¸èƒ½å¾ˆå¥½çš„è§£å†³ç›®æ ‡æ£€æµ‹çš„é—®é¢˜ï¼Œç›®æ ‡æ£€æµ‹ä¸ä»…è¦åˆ†æå‡ºå…¶æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œè€Œä¸”è¿˜è¦å›å½’å‡ºå…¶ä½ç½®ã€‚è¿™æ˜¯å…¶åœ¨CNNè®­ç»ƒçš„ç—›ç‚¹ã€‚ä¸ºæ­¤å‡ºç°äº†R-CNNç½‘ç»œã€‚","text":"åœ¨æ—©æœŸè®¡ç®—æœºè§†è§‰ç ”ç©¶æ—¶ï¼Œäººä»¬å¾ˆå¥½çš„å°†CNNåº”ç”¨åœ¨ç›®æ ‡åˆ†ç±»çš„é—®é¢˜ä¸­ï¼Œä½†æ˜¯ä¸€ç›´ä¸èƒ½å¾ˆå¥½çš„è§£å†³ç›®æ ‡æ£€æµ‹çš„é—®é¢˜ï¼Œç›®æ ‡æ£€æµ‹ä¸ä»…è¦åˆ†æå‡ºå…¶æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œè€Œä¸”è¿˜è¦å›å½’å‡ºå…¶ä½ç½®ã€‚è¿™æ˜¯å…¶åœ¨CNNè®­ç»ƒçš„ç—›ç‚¹ã€‚ä¸ºæ­¤å‡ºç°äº†R-CNNç½‘ç»œã€‚ R-CNNæ€è·¯R-CNNç®€å•ç†è§£å°±æ˜¯å…ˆè®­ç»ƒä¸€ä¸ªCNNåˆ†ç±»å™¨ï¼Œç„¶åå†å¯¹æ¯å¹…å›¾ç‰‡æŒ‘é€‰2000ä¸ªé¢„é€‰åŒºåŸŸï¼Œè®©è¿™ä¸ªé¢„é€‰åŒºåŸŸç»è¿‡R-CNNå‰å‘ä¼ æ’­å¾—åˆ°ç‰¹å¾ï¼Œç‰¹å¾å…ˆä¿ç•™åˆ°ç¡¬ç›˜ä¸­ï¼Œæ­¤æ—¶ä¸æˆ‘ä»¬çš„æ ‡ç­¾è¿›è¡Œå¯¹æ¯”ï¼Œé‡å ç‡é«˜çš„ä¸ºæ­£æ ·æœ¬ï¼Œé‡å ç‡ä½çš„ä¸ºè´Ÿæ ·æœ¬ï¼Œéšåå•ç‹¬è¿›è¡ŒSVMè®­ç»ƒã€‚R-CNNçš„æ•´ä½“æ€è·¯å¦‚ä¸‹ï¼šï¼ˆ1ï¼‰ç»™å®šä¸€å¼ è¾“å…¥å›¾ç‰‡ï¼Œä»å›¾ç‰‡ä¸­æå– 2000 ä¸ªç±»åˆ«ç‹¬ç«‹çš„å€™é€‰åŒºåŸŸã€‚ï¼ˆselective searchï¼‰ï¼ˆ2ï¼‰å¯¹äºæ¯ä¸ªåŒºåŸŸåˆ©ç”¨CNNç½‘ç»œæŠ½å–ä¸€ä¸ªå›ºå®šé•¿åº¦çš„ç‰¹å¾å‘é‡ã€‚ï¼ˆè¿™ä¸ªCNNæ˜¯æå‰è®­ç»ƒå¥½çš„ä¸€ä¸ªç½‘ç»œï¼‰ï¼ˆ3ï¼‰å†å¯¹æ¯ä¸ªåŒºåŸŸæ‰€å¯¹åº”çš„ç‰¹å¾å‘é‡åˆ©ç”¨ SVM è¿›è¡Œç›®æ ‡åˆ†ç±»ã€‚ å€™é€‰åŒºåŸŸå¯»æ‰¾selective searchå…³äºå€™é€‰åŒºåŸŸçš„é€‰æ‹©æœ‰å¤šç§æ–¹æ³•ï¼Œæœ€ç®€å•çš„æ–¹æ³•ä¸ºæ»‘çª—æ³•ï¼Œå°±æ˜¯ä»¥ä¸€å®šé—´è·ä¸æ–­æ¨ªçºµéå†å¾—åˆ°æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æ‰€æœ‰åŒºåŸŸéƒ½éå†ï¼Œè€Œä¸”æœ‰æ—¶å€™ç‰©ä½“ä¸ä¸€æ ·å¤§ï¼Ÿè¿™å°±å¤ªæµªè´¹æ—¶é—´äº†ã€‚è®ºæ–‡ç« æ‰€é‡‡ç”¨çš„æ–¹æ³•æ˜¯é€‰æ‹©æœç´¢æ³•ã€‚ç®—æ³•å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºstep0ï¼šç”ŸæˆåŒºåŸŸé›†Rã€‚ step1ï¼šè®¡ç®—åŒºåŸŸé›†Ré‡Œæ¯ä¸ªç›¸é‚»åŒºåŸŸçš„ç›¸ä¼¼åº¦S={s1,s2,â€¦}//å¾ªç¯ä»¥ä¸‹æ­¥éª¤step2ï¼šæ‰¾å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„ä¸¤ä¸ªåŒºåŸŸï¼Œå°†å…¶åˆå¹¶ä¸ºæ–°é›†ï¼Œæ·»åŠ è¿›Rstep3ï¼šä»Sä¸­ç§»é™¤æ‰€æœ‰ä¸step2ä¸­æœ‰å…³çš„å­é›†step4ï¼šè®¡ç®—æ–°é›†ä¸æ‰€æœ‰å­é›†çš„ç›¸ä¼¼åº¦step5ï¼šSè‹¥ä¸ºç©ºåˆ™è·³å‡ºå¾ªç¯ï¼Œå¦åˆ™è·³è‡³step2 ç›¸ä¼¼åº¦è®¡ç®—é‚£ä¹ˆå…³é”®ç‚¹åœ¨äºç›¸ä¼¼åº¦æ€ä¹ˆåˆ¤æ–­ï¼Ÿå›¾åƒä¹‹é—´çš„ç‰¹å¾æœ‰å¾ˆå¤šï¼Œé¢œè‰²ï¼Ÿçº¹ç†ç‰¹å¾ï¼Ÿå°ºå¯¸ç­‰ï¼Ÿå¯¹äºç›¸ä¼¼åº¦çš„åˆ¤æ–­ï¼Œé€‰æ‹©æ€§æœç´¢è€ƒè™‘äº†é¢œè‰²ã€çº¹ç†ã€å°ºå¯¸å’Œç©ºé—´äº¤å è¿™4ä¸ªå‚æ•°ã€‚1ã€é¢œè‰²ç‰¹å¾å°†è‰²å½©ç©ºé—´è½¬ä¸ºHSVï¼Œæ¯ä¸ªé€šé“ä¸‹ä»¥bins=25è®¡ç®—ç›´æ–¹å›¾ï¼Œè¿™æ ·æ¯ä¸ªåŒºåŸŸçš„é¢œè‰²ç›´æ–¹å›¾æœ‰25*3=75ä¸ªåŒºé—´ã€‚ å¯¹ç›´æ–¹å›¾é™¤ä»¥åŒºåŸŸå°ºå¯¸åšå½’ä¸€åŒ–åä½¿ç”¨ä¸‹å¼è®¡ç®—ç›¸ä¼¼åº¦ï¼šä¸Šå¼å¦‚ä½•ç†è§£ï¼Ÿç®€å•è¯´ä¸€ä¸‹ï¼Œæˆ‘ä»¬å½’ä¸€åŒ–åæ¯ä¸ªé€šé“çš„æ•°æ®åï¼Œä¸€ç»´ç‰¹å¾å‘é‡çš„å’Œä¸º1.0ï¼Œæ¯”è¾ƒä¸¤ä¸ªåŒºåŸŸçš„ç‰¹å¾å‘é‡æ¯ä¸€ä½ï¼ŒæŠŠæ¯ä¸€ä½çš„æœ€å°å€¼åŠ èµ·æ¥ã€‚å¦‚æœå…¨éƒ½ä¸€æ ·é‚£ä¹ˆç»“æœè‚¯å®šæ˜¯1å•Šï¼å¦‚æœä¸ä¸€æ ·ï¼Œæ¯ä¸€ä½éƒ½å–æœ€å°å€¼ï¼Œé‚£å°±è‚¯å®šæ¯”1å°å•Šï¼å“ˆå“ˆå°±æ˜¯è¿™ä¹ˆç†è§£ã€‚ 2ã€çº¹ç†ç›¸ä¼¼åº¦ï¼ˆtexture similarityï¼‰ è®ºæ–‡è¿™é‡Œçš„çº¹ç†é‡‡ç”¨SIFT-Likeç‰¹å¾ï¼Œé‡‡ç”¨æ–¹å·®ä¸º1çš„é«˜æ–¯å¾®åˆ†åœ¨8ä¸ªæ–¹å‘åšæ¢¯åº¦ç»Ÿè®¡ï¼Œç„¶åå°†ç»Ÿè®¡ç»“æœï¼ˆå°ºå¯¸ä¸åŒºåŸŸå¤§å°ä¸€è‡´ï¼‰ä»¥bins=10è®¡ç®—ç›´æ–¹å›¾ã€‚ç›´æ–¹å›¾åŒºé—´æ•°ä¸º8310=240ï¼ˆä½¿ç”¨RGBè‰²å½©ç©ºé—´ï¼‰ã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 3ã€å°ºåº¦ç›¸ä¼¼åº¦å°ºåº¦ç›¸ä¼¼åº¦å…¶å®æ˜¯å®ç°ä¼˜å…ˆåˆå¹¶å°çš„åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯å‡å°‘å¤§åŒºåŸŸåˆå¹¶å°åŒºåŸŸã€‚4ã€äº¤å ç›¸ä¼¼åº¦ï¼ˆshape compatibility measureï¼‰ä¸Šè¿°å®Œæˆåï¼Œè¦çœ‹ä¸€ä¸‹ä¸¤ä¸ªåŒºåŸŸæ˜¯å¦çˆ±æŒ¨ç€ï¼Œå¦‚æœè·ç¦»åä¸‡å…«åƒé‡Œï¼Œé‚£å°±æ²¡æœ‰åˆå¹¶çš„å¿…è¦ã€‚å¦‚ä½•è®¡ç®—ï¼Ÿå…ˆæ‰¾ä¸€ä¸ªå¤–æ¥çŸ©å½¢æŠŠå®ƒæ¡†èµ·æ¥ï¼Œå¦‚æœä¸¤ä¸ªçŸ©å½¢ç›¸è·è¾ƒè¿œï¼Œåˆ™å¤–æ¥çŸ©å½¢å°±å¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾è®¡è¿™æ ·çš„æŒ‡æ ‡ï¼Œå…¶æŒ‡æ ‡æ˜¯åˆå¹¶åçš„åŒºåŸŸçš„Bounding Boxï¼ˆèƒ½å¤Ÿæ¡†ä½åŒºåŸŸçš„æœ€å°çŸ©å½¢BBijï¼‰å‡å»ä¸¤ä¸ªçŸ©å½¢çš„å°ºå¯¸ï¼Œå¾—åˆ°ç›¸å¯¹å·®è·ã€‚å…¶è®¡ç®—æ–¹å¼ï¼šå€™é€‰åŒºåŸŸæ’åºç›¸ä¼¼åº¦è®¡ç®—åè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•å¯¹å€™é€‰åŒºåŸŸæ’åºå‘¢ï¼Œé€šè¿‡ä¸Šè¿°çš„æ­¥éª¤æˆ‘ä»¬èƒ½å¤Ÿå¾—åˆ°å¾ˆå¤šå¾ˆå¤šçš„åŒºåŸŸï¼Œä½†æ˜¯æ˜¾ç„¶ä¸æ˜¯æ¯ä¸ªåŒºåŸŸä½œä¸ºç›®æ ‡çš„å¯èƒ½æ€§éƒ½æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è¡¡é‡è¿™ä¸ªå¯èƒ½æ€§ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®æˆ‘ä»¬çš„éœ€è¦ç­›é€‰åŒºåŸŸå»ºè®®ä¸ªæ•°å•¦ã€‚ è¿™ç¯‡æ–‡ç« åšæ³•æ˜¯ï¼Œç»™äºˆæœ€å…ˆåˆå¹¶çš„å›¾ç‰‡å—è¾ƒå¤§çš„æƒé‡ï¼Œæ¯”å¦‚æœ€åä¸€å—å®Œæ•´å›¾åƒæƒé‡ä¸º1ï¼Œå€’æ•°ç¬¬äºŒæ¬¡åˆå¹¶çš„åŒºåŸŸæƒé‡ä¸º2ä»¥æ­¤ç±»æ¨ã€‚ä½†æ˜¯å½“æˆ‘ä»¬ç­–ç•¥å¾ˆå¤šï¼Œå¤šæ ·æ€§å¾ˆå¤šçš„æ—¶å€™å‘¢ï¼Œè¿™ä¸ªæƒé‡å°±ä¼šæœ‰å¤ªå¤šçš„é‡åˆäº†ï¼Œæ’åºä¸å¥½æå•Šã€‚æ–‡ç« åšæ³•æ˜¯ç»™ä»–ä»¬ä¹˜ä»¥ä¸€ä¸ªéšæœºæ•°ï¼Œæ¯•ç«Ÿ3åˆ†çœ‹è¿æ°”å˜›ï¼Œç„¶åå¯¹äºç›¸åŒçš„åŒºåŸŸå¤šæ¬¡å‡ºç°çš„ä¹Ÿå åŠ ä¸‹æƒé‡ï¼Œæ¯•ç«Ÿå¤šä¸ªæ–¹æ³•éƒ½è¯´ä½ æ˜¯ç›®æ ‡ï¼Œä¹Ÿæ˜¯æœ‰ç†ç”±çš„å˜›ã€‚è¿™æ ·æˆ‘å°±å¾—åˆ°äº†æ‰€æœ‰åŒºåŸŸçš„ç›®æ ‡åˆ†æ•°ï¼Œä¹Ÿå°±å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©éœ€è¦å¤šå°‘ä¸ªåŒºåŸŸäº†ã€‚ CNNç½‘ç»œè®­ç»ƒä¸Šè¿°è¿‡ç¨‹æˆ‘ä»¬å¾—åˆ°äº†å¤§é‡å€™é€‰åŒºåŸŸï¼ˆæ¯ä¸ªå€™é€‰åŒºåŸŸéƒ½æä¾›äº†çŸ©å½¢æ¡†çš„ä½ç½®æƒ…å†µï¼‰ï¼Œæ€ä¹ˆè®­ç»ƒå‘¢ï¼Ÿç¬¬ä¸€æ­¥ã€æ•°æ®æ ‡æ³¨ï¼šæˆ‘ä»¬å¯¹äºæ¯å¼ å›¾ç‰‡æ ‡æ³¨ä¸€ä¸‹boundboxå››ç»´å‘é‡å’Œæ‰€å±ç±»åˆ«ç¼–å·ã€‚ç¬¬äºŒæ­¥ã€é¢„è®­ç»ƒï¼šè®ºæ–‡åœ¨å¤§å‹è¾…åŠ©è®­ç»ƒé›†ILSVRC2012åˆ†ç±»æ•°æ®é›†ï¼ˆåˆ†ç±»æ•°æ®é›†æ²¡æœ‰çº¦æŸæ¡†æ•°æ®ï¼Œæ¯å¹…å›¾ç‰‡å¯¹åº”ä¸€ä¸ªç±»åˆ«æ ‡ç­¾ï¼‰ä¸Šé¢„è®­ç»ƒäº†CNNã€‚é¢„è®­ç»ƒé‡‡ç”¨äº†Caffeçš„CNNåº“ã€‚ç¬¬ä¸‰æ­¥ã€å¾®è°ƒCNNï¼šç‰¹å®šé¢†åŸŸçš„å‚æ•°è°ƒä¼˜ç¬¬ä¸€æ­¥è®­ç»ƒäº†ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬è¦åšçš„æ˜¯ç›®æ ‡æ£€æµ‹ï¼Œè€Œä¸”æˆ‘ä»¬æ¢äº†å¦ä¸€å¥—æ•°æ®é›†ï¼Œæ‰€ä»¥ä¸ºäº†è®©æˆ‘ä»¬çš„CNNé€‚åº”æ–°çš„ä»»åŠ¡ï¼ˆå³æ£€æµ‹ä»»åŠ¡ï¼‰å’Œæ–°çš„é¢†åŸŸï¼ˆå˜å½¢åçš„å€™é€‰çª—å£ï¼‰ã€‚æˆ‘ä»¬åªä½¿ç”¨å˜å½¢åçš„å€™é€‰åŒºåŸŸå¯¹CNNå‚æ•°è¿›è¡ŒSGDè®­ç»ƒã€‚1ã€ç½‘ç»œä¿®æ”¹ï¼šImageNetæ˜¯ç”¨äº†ä¸“ç”¨çš„1000-wayåˆ†ç±»å±‚ï¼Œè¿™é‡Œæˆ‘ä»¬æ¢æˆ21-wayåˆ†ç±»å±‚ï¼Œï¼ˆå…¶ä¸­20æ˜¯VOCçš„ç±»åˆ«æ•°ï¼Œ1ä»£è¡¨èƒŒæ™¯ï¼‰ï¼Œå·ç§¯éƒ¨åˆ†éƒ½æ²¡æœ‰æ”¹å˜ã€‚2ã€æ•°æ®é›†é€‰æ‹©æ€§æœç´¢ç®—æ³•ä¼šæå–ä¸€äº›å€™é€‰åŒºåŸŸï¼Œå¦‚ä½•åŒºåˆ†æ­£ä¾‹ï¼Œè´Ÿä¾‹ï¼Ÿè¿™é‡Œæˆ‘ä»¬è€ƒè™‘å¦‚æœå…¶å’ŒçœŸå®æ ‡æ³¨çš„æ¡†çš„IoU&gt;= 0.5å°±è®¤ä¸ºæ˜¯æ­£ä¾‹ï¼Œå¦åˆ™å°±æ˜¯è´Ÿä¾‹ã€‚OKè¿™æ ·å‰é¢é€‰æ‹©æ€§æœç´¢çš„æ¡†åˆ°äº†åé¢å°±åˆ©ç”¨IOUè‡ªåŠ¨æ ‡æ³¨ï¼Œç„¶åå»softmaxè®­ç»ƒè¿™æ ·å°±è®­ç»ƒäº†ä¸€ä¸ªæ¯”è¾ƒé€‚åˆæˆ‘ä»¬çš„å€™é€‰æ¡†çš„åˆ†ç±»å™¨ã€‚å®Œç¾ï¼ä½†æ˜¯å¥½åƒä¸å¥½è€¶ï¼Œé‡åˆåº¦0.5å°±æ˜¯æ­£ä¾‹ï¼Œé‚£ä¸æ˜¯å¥½å¤šä¸€åŠæ¡†é€‰ç›®æ ‡å°±è¢«è®¤ä¸ºåˆæ ¼äº†ï¼Œä¸€å¼ å›¾ç‰‡ä¼šæœ‰å¥½å¤šçš„æ¡†åˆæ ¼å¯¹ï¼é‚£ä¹ˆä½ ä¼šæƒ³æˆ‘ä»¬å»æŠŠé˜ˆå€¼è°ƒé«˜ç‚¹ï¼Œä¸ä¹…è§£å†³äº†ï¼è¿™é‡Œä½œè€…è€ƒè™‘å¦‚æœIOUå¤ªé«˜é‚£æ ·æ­£ä¾‹å°±å¤ªå°‘äº†ï¼Œè´Ÿä¾‹å¤ªå¤šï¼Œè­¬å¦‚å¯¹äºä¸€å¼ å›¾ç‰‡çš„2000å€™é€‰æ¡†ï¼Œ1å¼ åˆæ ¼ï¼Œ1999å¼ ä¸åˆæ ¼ï¼›é‚£ä¹ˆè®­ç»ƒä¼šè¿‡æ‹Ÿåˆçš„ï¼æ‰€ä»¥è€ƒè™‘è¿™ä¸ªï¼Œè¿™é‡Œä½œè€…é™ä½äº†IOUé˜ˆå€¼ï¼ˆåé¢ä¹Ÿæœ‰è¯´ï¼‰é‚£ä¹ˆä½œè€…å’‹è§£å†³çš„ï¼Ÿç¬¬å››æ­¥~~ç¬¬å››æ­¥ã€å¤šç›®æ ‡åˆ†ç±»å™¨è¿™é‡Œä½œè€…å°±åˆæäº†20ä¸ªSVMåˆ†ç±»å™¨ï¼Œä¸Šé¢ç¬¬ä¸‰æ­¥è®­ç»ƒå¥½äº†CNNäº†ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰çš„å›¾ç‰‡èµ°ä¸€éCNNæŠŠæœ€åçš„ç‰¹å¾ç•™ä¸‹ï¼Œä¸è®­ç»ƒï¼ŒæŠŠå®ƒä¿ç•™å½“æˆç‰¹å¾ï¼Œå»è®­ç»ƒSVMã€‚è¿™é‡ŒæŠŠIOU&lt;0.3çš„è®¤ä¸ºæ˜¯è´Ÿæ ·æœ¬ã€‚ å¦å¤–æ ·æœ¬æ•°æ®å¾ˆå¤§ï¼Œæ¯å¹…å›¾ç‰‡éƒ½å¯¹åº”ç€å¾ˆå¤šçš„å€™é€‰åŒºåŸŸç‰¹å¾emmmè¿™é‡Œè®ºæ–‡é‡‡ç”¨äº†hard negative mining methodè®­ç»ƒæ—¶æœ‰æ—¶æ¨¡å‹ä¼šæŠŠé‡å ç‡ä½çš„ä¹Ÿå½“æˆæ­£æ ·æœ¬ï¼Œè¿™å°±å±äºé¡½å›ºè´Ÿæ ·æœ¬ï¼Œéœ€è¦ç»§ç»­æŠ•è¿›å»è®­ç»ƒã€‚ ã€éš¾è´Ÿä¾‹æŒ–æ˜ç®—æ³•ï¼Œç”¨é€”å°±æ˜¯æ­£è´Ÿä¾‹æ•°é‡ä¸å‡è¡¡ï¼Œè€Œè´Ÿä¾‹åˆ†æ•£ä»£è¡¨æ€§åˆä¸å¤Ÿçš„é—®é¢˜ï¼Œhard negativeå°±æ˜¯æ¯æ¬¡æŠŠé‚£äº›é¡½å›ºçš„æ£˜æ‰‹çš„é”™è¯¯,å†é€å›å»ç»§ç»­ç»ƒ,ç»ƒåˆ°ä½ çš„æˆç»©ä¸å†æå‡ä¸ºæ­¢.è¿™ä¸€ä¸ªè¿‡ç¨‹å°±å«åšâ€™hard negative miningâ€˜ã€‘ è¿™é‡Œä½ ä¼šæƒ³åˆ°ä¸ºå•¥ä¸ç›´æ¥CNNæ—¶ç›´æ¥æä¸€ä¸ªåˆ†ç±»å™¨ï¼Œè¿˜ç”¨å•¥SVMï¼Ÿå¯¹äºè¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿæœ‰æ‰€ç–‘æƒ‘ï¼Œç„¶åæŸ¥äº†ä¸€ä¸‹ï¼Œå¤§æ¦‚è¿™ä¹ˆè§£é‡Šè¿˜å¯ä»¥ç†æ¸…ã€‚ å› ä¸ºsvmè®­ç»ƒå’Œcnnè®­ç»ƒè¿‡ç¨‹çš„æ­£è´Ÿæ ·æœ¬å®šä¹‰æ–¹å¼å„æœ‰ä¸åŒï¼Œå¯¼è‡´æœ€åé‡‡ç”¨CNN softmaxè¾“å‡ºæ¯”é‡‡ç”¨svmç²¾åº¦è¿˜ä½ã€‚äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œcnnåœ¨è®­ç»ƒçš„æ—¶å€™ï¼Œå¯¹è®­ç»ƒæ•°æ®åšäº†æ¯”è¾ƒå®½æ¾çš„æ ‡æ³¨ï¼Œæ¯”å¦‚ä¸€ä¸ªbounding boxå¯èƒ½åªåŒ…å«ç‰©ä½“çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆæˆ‘ä¹ŸæŠŠå®ƒæ ‡æ³¨ä¸ºæ­£æ ·æœ¬ï¼Œç”¨äºè®­ç»ƒcnnï¼›é‡‡ç”¨è¿™ä¸ªæ–¹æ³•çš„ä¸»è¦åŸå› åœ¨äºå› ä¸ºCNNå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œæ‰€ä»¥éœ€è¦å¤§é‡çš„è®­ç»ƒæ•°æ®ï¼Œæ‰€ä»¥åœ¨CNNè®­ç»ƒé˜¶æ®µæˆ‘ä»¬æ˜¯å¯¹Bounding boxçš„ä½ç½®é™åˆ¶æ¡ä»¶é™åˆ¶çš„æ¯”è¾ƒæ¾(IOUåªè¦å¤§äº0.5éƒ½è¢«æ ‡æ³¨ä¸ºæ­£æ ·æœ¬äº†)ï¼›ç„¶è€Œsvmè®­ç»ƒçš„æ—¶å€™ï¼Œå› ä¸ºsvmé€‚ç”¨äºå°‘æ ·æœ¬è®­ç»ƒï¼Œæ‰€ä»¥å¯¹äºè®­ç»ƒæ ·æœ¬æ•°æ®çš„IOUè¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œæˆ‘ä»¬åªæœ‰å½“bounding boxæŠŠæ•´ä¸ªç‰©ä½“éƒ½åŒ…å«è¿›å»äº†ï¼Œæˆ‘ä»¬æ‰æŠŠå®ƒæ ‡æ³¨ä¸ºç‰©ä½“ç±»åˆ«ï¼Œç„¶åè®­ç»ƒsvmã€‚ä¸€æ—¦CNN f7å±‚ç‰¹å¾è¢«æå–å‡ºæ¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¸ºæ¯ä¸ªç‰©ä½“ç´¯è®­ç»ƒä¸€ä¸ªsvmåˆ†ç±»å™¨ã€‚å½“æˆ‘ä»¬ç”¨CNNæå–2000ä¸ªå€™é€‰æ¡†ï¼Œå¯ä»¥å¾—åˆ°20004096è¿™æ ·çš„ç‰¹å¾å‘é‡çŸ©é˜µï¼Œç„¶åæˆ‘ä»¬åªéœ€è¦æŠŠè¿™æ ·çš„ä¸€ä¸ªçŸ©é˜µä¸svmæƒå€¼çŸ©é˜µ4096Nç‚¹ä¹˜(Nä¸ºåˆ†ç±»ç±»åˆ«æ•°ç›®ï¼Œå› ä¸ºæˆ‘ä»¬è®­ç»ƒçš„Nä¸ªsvmï¼Œæ¯ä¸ªsvmåŒ…å¥½äº†4096ä¸ªW)ï¼Œå°±å¯ä»¥å¾—åˆ°ç»“æœäº†ã€‚ Bounding-boxå›å½’ä¸Šé¢å®Œæˆäº†åˆ†ç±»ï¼Œä½†å…¶å®å›å½’æ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œä½œè€…åˆåœ¨ç¬¬äº”å±‚å·ç§¯å±‚é‡‡ç”¨äº†Bounding-boxå›å½’å¯¹å€™é€‰åŒºåŸŸåšäº†ä¿®æ­£ï¼Œæé«˜äº†è¾¹æ¡†çš„å›å½’æ•ˆæœã€‚ ä¸‹å›¾ï¼Œç»¿è‰²çš„æ¡†è¡¨ç¤ºGround Truth, çº¢è‰²çš„æ¡†ä¸ºSelective Searchæå–çš„Region Proposalã€‚é‚£ä¹ˆå¾ˆæ˜æ˜¾æ¡†å®šä½ä¸å‡†(IoU&lt;0.5)ï¼Œ å¦‚æœæˆ‘ä»¬èƒ½å¯¹çº¢è‰²çš„æ¡†è¿›è¡Œå¾®è°ƒï¼Œ ä½¿å¾—ç»è¿‡å¾®è°ƒåçš„çª—å£è·ŸGround Truth æ›´æ¥è¿‘ï¼Œ è¿™æ ·å²‚ä¸æ˜¯å®šä½ä¼šæ›´å‡†ç¡®ã€‚ ç¡®å®ï¼ŒBounding-box regression å°±æ˜¯ç”¨æ¥å¾®è°ƒè¿™ä¸ªçª—å£çš„ã€‚é‚£ä¹ˆæ€ä¹ˆå˜æ¢å‘¢?æˆ‘ä»¬å¯ä»¥ç®€å•çš„çœ‹å‡ºå¯ä»¥é€šè¿‡å¹³ç§»ã€ä¼¸ç¼©ä¸¤ç§æ“ä½œæ¥å®ç°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬éœ€è¦ç›®æ ‡æ¡†çš„å››ç»´å‘é‡å’Œåˆæ ¼çš„é¢„é€‰åŒºåŸŸçš„å‘é‡ï¼Œç„¶åè¦è®­ç»ƒä¸€ä¸ªçº¿å½¢å›å½’æ¨¡å‹ï¼Œä¸‹å›¾å·¦è¾¹é‚£ä¸ªå…¬å¼ï¼Œè¿™é‡Œè®¡ç®—æŸå¤±å…¬å¼å¦‚å³ä¸‹è§’æ‰€ç¤ºã€‚è®­ç»ƒå¥½åå°±å¯ä»¥ç”¨æ¥é¢„æµ‹äº†ã€‚å…·ä½“å“ªä¸ªBoundingBoxæ¨¡å‹å¯ä»¥å‚è€ƒå‚è€ƒæ–‡çŒ®æ¥å­¦ä¹ ã€‚ æµ‹è¯•ç¯èŠ‚éæå¤§å€¼æŠ‘åˆ¶(Non-Maximum Suppression, NMS)è®­ç»ƒå¥½äº†æ€ä¹ˆæµ‹è¯•ï¼Ÿæµ‹è¯•é˜¶æ®µï¼Œåœ¨æµ‹è¯•å›¾åƒä¸Šä½¿ç”¨selective searchæŠ½å–2000ä¸ªæ¨èåŒºåŸŸï¼ˆå®éªŒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é€‰æ‹©æ€§æœç´¢çš„å¿«é€Ÿæ¨¡å¼ï¼‰ã€‚ç„¶åå˜å½¢æ¯ä¸€ä¸ªæ¨èåŒºåŸŸï¼Œå†é€šè¿‡CNNå‰å‘ä¼ æ’­è®¡ç®—å‡ºç‰¹å¾ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨å¯¹æ¯ä¸ªç±»åˆ«è®­ç»ƒå‡ºçš„SVMç»™æ•´ä¸ªç‰¹å¾å‘é‡ä¸­çš„æ¯ä¸ªç±»åˆ«å•ç‹¬æ‰“åˆ†ã€‚ç„¶åç»™å‡ºä¸€å¼ å›¾åƒä¸­æ‰€æœ‰çš„æ‰“åˆ†åŒºåŸŸï¼Œç„¶åä½¿ç”¨NMSï¼ˆæ¯ä¸ªç±»åˆ«æ˜¯ç‹¬ç«‹è¿›è¡Œçš„ï¼‰ï¼Œæ‹’ç»æ‰ä¸€äº›å’Œé«˜åˆ†åŒºåŸŸçš„IOUå¤§äºé˜ˆå€¼çš„å€™é€‰æ¡†ã€‚ éæå¤§å€¼æŠ‘åˆ¶ç»™å‡ºä¸€å¼ å›¾ç‰‡å’Œä¸Šé¢è®¸å¤šç‰©ä½“æ£€æµ‹çš„å€™é€‰æ¡†ï¼ˆå³æ¯ä¸ªæ¡†å¯èƒ½éƒ½ä»£è¡¨æŸç§ç‰©ä½“ï¼‰ï¼Œä½†æ˜¯è¿™äº›æ¡†å¾ˆå¯èƒ½æœ‰äº’ç›¸é‡å çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯åªä¿ç•™æœ€ä¼˜çš„æ¡†ã€‚å‡è®¾æœ‰Nä¸ªæ¡†ï¼Œæ¯ä¸ªæ¡†è¢«åˆ†ç±»å™¨è®¡ç®—å¾—åˆ°çš„åˆ†æ•°ä¸ºSi, 1&lt;=i&lt;=Nã€‚0ã€å»ºé€ ä¸€ä¸ªå­˜æ”¾å¾…å¤„ç†å€™é€‰æ¡†çš„é›†åˆHï¼Œåˆå§‹åŒ–ä¸ºåŒ…å«å…¨éƒ¨Nä¸ªæ¡†ï¼›å»ºé€ ä¸€ä¸ªå­˜æ”¾æœ€ä¼˜æ¡†çš„é›†åˆMï¼Œåˆå§‹åŒ–ä¸ºç©ºé›†ã€‚1ã€å°†æ‰€æœ‰é›†åˆ H ä¸­çš„æ¡†è¿›è¡Œæ’åºï¼Œé€‰å‡ºåˆ†æ•°æœ€é«˜çš„æ¡† mï¼Œä»é›†åˆ H ç§»åˆ°é›†åˆ Mï¼›2ã€éå†é›†åˆ H ä¸­çš„æ¡†ï¼Œåˆ†åˆ«ä¸æ¡† m è®¡ç®—äº¤å¹¶æ¯”ï¼ˆInterection-over-unionï¼ŒIoUï¼‰ï¼Œå¦‚æœé«˜äºæŸä¸ªé˜ˆå€¼ï¼ˆä¸€èˆ¬ä¸º0~0.5ï¼‰ï¼Œåˆ™è®¤ä¸ºæ­¤æ¡†ä¸ m é‡å ï¼Œå°†æ­¤æ¡†ä»é›†åˆ H ä¸­å»é™¤ã€‚3ã€å›åˆ°ç¬¬1æ­¥è¿›è¡Œè¿­ä»£ï¼Œç›´åˆ°é›†åˆ H ä¸ºç©ºã€‚é›†åˆ M ä¸­çš„æ¡†ä¸ºæˆ‘ä»¬æ‰€éœ€ã€‚ ç”¨ä¸‹é¢è¿™å¼ å›¾å¯ä»¥çœ‹æ‡‚æµ‹è¯•çš„æµç¨‹ã€‚ æ€»ç»“æœ¬ç¯‡è®ºæ–‡è™½ç„¶å·²ç»ç®—æ˜¯æ—©èµ·çš„ç›®æ ‡æ£€æµ‹çš„è®ºæ–‡ï¼Œä½†ä¾ç„¶è¢«æ–°æ‰‹æ‰€ç ”ç©¶ï¼Œç®—æ˜¯ç›®æ ‡æ£€æµ‹çš„å¼€ç¯‡ä¹‹ä½œæŠŠï¼ä»–ç»™å‡ºäº†ç›®æ ‡æ£€æµ‹çš„ä¸€ä¸ªæœ€ç®€å•çš„æ€è·¯ï¼Œä½†æ˜¯è´¹æ—¶è´¹åŠ›ã€‚ å‚è€ƒæ–‡çŒ®[1]ã€æ·±åº¦å­¦ä¹ ã€‘R-CNN è®ºæ–‡è§£è¯»åŠä¸ªäººç†è§£https://blog.csdn.net/briblue/article/details/82012575[2]R-CNNè®ºæ–‡è¯¦è§£ï¼ˆè®ºæ–‡ç¿»è¯‘ï¼‰https://blog.csdn.net/v1_vivian/article/details/78599229[3]é€‰æ‹©æ€§æœç´¢ï¼ˆselective searchï¼‰https://blog.csdn.net/guoyunfei20/article/details/78723646[4]ç¬¬ä¸‰åä¸‰èŠ‚ï¼Œç›®æ ‡æ£€æµ‹ä¹‹é€‰æ‹©æ€§æœç´¢-Selective Searchhttps://www.cnblogs.com/zyly/p/9259392.html[5]è¾¹æ¡†å›å½’ï¼šBoundingBox-Regression(BBR)https://blog.csdn.net/v1_vivian/article/details/80292569","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"è®¡ç®—æœºè§†è§‰/ç›®æ ‡æ£€æµ‹","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[]},{"title":"å€™é€‰åŒºåŸŸå¯»æ‰¾é€‰æ‹©æ€§å¯»æ‰¾selective search","slug":"å€™é€‰åŒºåŸŸå¯»æ‰¾é€‰æ‹©æ€§å¯»æ‰¾selective search","date":"2019-05-04T02:41:15.000Z","updated":"2019-11-22T14:47:22.348Z","comments":true,"path":"2019/05/04/å€™é€‰åŒºåŸŸå¯»æ‰¾é€‰æ‹©æ€§å¯»æ‰¾selective search/","link":"","permalink":"http://www.cloudcver.com/2019/05/04/%E5%80%99%E9%80%89%E5%8C%BA%E5%9F%9F%E5%AF%BB%E6%89%BE%E9%80%89%E6%8B%A9%E6%80%A7%E5%AF%BB%E6%89%BEselective%20search/","excerpt":"ç›®æ ‡æ£€æµ‹æ—¶éœ€è¦ç­›é€‰å€™é€‰åŒºåŸŸï¼Œå¸¸è§çš„æ–¹æ³•æœ‰æ»‘çª—æ³•ï¼Œé€‰æ‹©æœç´¢æ³•ã€‚æœ¬æ–‡ç®€å•ä»‹ç»ä¸€ä¸‹å€™é€‰åŒºåŸŸå¯»æ‰¾çš„æ–¹æ³•ã€‚","text":"ç›®æ ‡æ£€æµ‹æ—¶éœ€è¦ç­›é€‰å€™é€‰åŒºåŸŸï¼Œå¸¸è§çš„æ–¹æ³•æœ‰æ»‘çª—æ³•ï¼Œé€‰æ‹©æœç´¢æ³•ã€‚æœ¬æ–‡ç®€å•ä»‹ç»ä¸€ä¸‹å€™é€‰åŒºåŸŸå¯»æ‰¾çš„æ–¹æ³•ã€‚ å€™é€‰åŒºåŸŸå¯»æ‰¾selective searchå…³äºå€™é€‰åŒºåŸŸçš„é€‰æ‹©æœ‰å¤šç§æ–¹æ³•ï¼Œæœ€ç®€å•çš„æ–¹æ³•ä¸ºæ»‘çª—æ³•ï¼Œå°±æ˜¯ä»¥ä¸€å®šé—´è·ä¸æ–­æ¨ªçºµéå†å¾—åˆ°æ‰€æœ‰çš„çª—å£ï¼Œä½†æ˜¯æ‰€æœ‰åŒºåŸŸéƒ½éå†ï¼Œè€Œä¸”æœ‰æ—¶å€™ç‰©ä½“ä¸ä¸€æ ·å¤§ï¼Ÿè¿™å°±å¤ªæµªè´¹æ—¶é—´äº†ã€‚è®ºæ–‡ç« æ‰€é‡‡ç”¨çš„æ–¹æ³•æ˜¯é€‰æ‹©æœç´¢æ³•ã€‚ç®—æ³•å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºstep0ï¼šç”ŸæˆåŒºåŸŸé›†Rã€‚ step1ï¼šè®¡ç®—åŒºåŸŸé›†Ré‡Œæ¯ä¸ªç›¸é‚»åŒºåŸŸçš„ç›¸ä¼¼åº¦S={s1,s2,â€¦}//å¾ªç¯ä»¥ä¸‹æ­¥éª¤step2ï¼šæ‰¾å‡ºç›¸ä¼¼åº¦æœ€é«˜çš„ä¸¤ä¸ªåŒºåŸŸï¼Œå°†å…¶åˆå¹¶ä¸ºæ–°é›†ï¼Œæ·»åŠ è¿›Rstep3ï¼šä»Sä¸­ç§»é™¤æ‰€æœ‰ä¸step2ä¸­æœ‰å…³çš„å­é›†step4ï¼šè®¡ç®—æ–°é›†ä¸æ‰€æœ‰å­é›†çš„ç›¸ä¼¼åº¦step5ï¼šSè‹¥ä¸ºç©ºåˆ™è·³å‡ºå¾ªç¯ï¼Œå¦åˆ™è·³è‡³step2 ç›¸ä¼¼åº¦è®¡ç®—é‚£ä¹ˆå…³é”®ç‚¹åœ¨äºç›¸ä¼¼åº¦æ€ä¹ˆåˆ¤æ–­ï¼Ÿå›¾åƒä¹‹é—´çš„ç‰¹å¾æœ‰å¾ˆå¤šï¼Œé¢œè‰²ï¼Ÿçº¹ç†ç‰¹å¾ï¼Ÿå°ºå¯¸ç­‰ï¼Ÿå¯¹äºç›¸ä¼¼åº¦çš„åˆ¤æ–­ï¼Œé€‰æ‹©æ€§æœç´¢è€ƒè™‘äº†é¢œè‰²ã€çº¹ç†ã€å°ºå¯¸å’Œç©ºé—´äº¤å è¿™4ä¸ªå‚æ•°ã€‚1ã€é¢œè‰²ç‰¹å¾å°†è‰²å½©ç©ºé—´è½¬ä¸ºHSVï¼Œæ¯ä¸ªé€šé“ä¸‹ä»¥bins=25è®¡ç®—ç›´æ–¹å›¾ï¼Œè¿™æ ·æ¯ä¸ªåŒºåŸŸçš„é¢œè‰²ç›´æ–¹å›¾æœ‰25*3=75ä¸ªåŒºé—´ã€‚ å¯¹ç›´æ–¹å›¾é™¤ä»¥åŒºåŸŸå°ºå¯¸åšå½’ä¸€åŒ–åä½¿ç”¨ä¸‹å¼è®¡ç®—ç›¸ä¼¼åº¦ï¼šä¸Šå¼å¦‚ä½•ç†è§£ï¼Ÿç®€å•è¯´ä¸€ä¸‹ï¼Œæˆ‘ä»¬å½’ä¸€åŒ–åæ¯ä¸ªé€šé“çš„æ•°æ®åï¼Œä¸€ç»´ç‰¹å¾å‘é‡çš„å’Œä¸º1.0ï¼Œæ¯”è¾ƒä¸¤ä¸ªåŒºåŸŸçš„ç‰¹å¾å‘é‡æ¯ä¸€ä½ï¼ŒæŠŠæ¯ä¸€ä½çš„æœ€å°å€¼åŠ èµ·æ¥ã€‚å¦‚æœå…¨éƒ½ä¸€æ ·é‚£ä¹ˆç»“æœè‚¯å®šæ˜¯1å•Šï¼å¦‚æœä¸ä¸€æ ·ï¼Œæ¯ä¸€ä½éƒ½å–æœ€å°å€¼ï¼Œé‚£å°±è‚¯å®šæ¯”1å°å•Šï¼å“ˆå“ˆå°±æ˜¯è¿™ä¹ˆç†è§£ã€‚ 2ã€çº¹ç†ç›¸ä¼¼åº¦ï¼ˆtexture similarityï¼‰ è®ºæ–‡è¿™é‡Œçš„çº¹ç†é‡‡ç”¨SIFT-Likeç‰¹å¾ï¼Œé‡‡ç”¨æ–¹å·®ä¸º1çš„é«˜æ–¯å¾®åˆ†åœ¨8ä¸ªæ–¹å‘åšæ¢¯åº¦ç»Ÿè®¡ï¼Œç„¶åå°†ç»Ÿè®¡ç»“æœï¼ˆå°ºå¯¸ä¸åŒºåŸŸå¤§å°ä¸€è‡´ï¼‰ä»¥bins=10è®¡ç®—ç›´æ–¹å›¾ã€‚ç›´æ–¹å›¾åŒºé—´æ•°ä¸º8310=240ï¼ˆä½¿ç”¨RGBè‰²å½©ç©ºé—´ï¼‰ã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 3ã€å°ºåº¦ç›¸ä¼¼åº¦å°ºåº¦ç›¸ä¼¼åº¦å…¶å®æ˜¯å®ç°ä¼˜å…ˆåˆå¹¶å°çš„åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯å‡å°‘å¤§åŒºåŸŸåˆå¹¶å°åŒºåŸŸã€‚4ã€äº¤å ç›¸ä¼¼åº¦ï¼ˆshape compatibility measureï¼‰ä¸Šè¿°å®Œæˆåï¼Œè¦çœ‹ä¸€ä¸‹ä¸¤ä¸ªåŒºåŸŸæ˜¯å¦çˆ±æŒ¨ç€ï¼Œå¦‚æœè·ç¦»åä¸‡å…«åƒé‡Œï¼Œé‚£å°±æ²¡æœ‰åˆå¹¶çš„å¿…è¦ã€‚å¦‚ä½•è®¡ç®—ï¼Ÿå…ˆæ‰¾ä¸€ä¸ªå¤–æ¥çŸ©å½¢æŠŠå®ƒæ¡†èµ·æ¥ï¼Œå¦‚æœä¸¤ä¸ªçŸ©å½¢ç›¸è·è¾ƒè¿œï¼Œåˆ™å¤–æ¥çŸ©å½¢å°±å¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾è®¡è¿™æ ·çš„æŒ‡æ ‡ï¼Œå…¶æŒ‡æ ‡æ˜¯åˆå¹¶åçš„åŒºåŸŸçš„Bounding Boxï¼ˆèƒ½å¤Ÿæ¡†ä½åŒºåŸŸçš„æœ€å°çŸ©å½¢BBijï¼‰å‡å»ä¸¤ä¸ªçŸ©å½¢çš„å°ºå¯¸ï¼Œå¾—åˆ°ç›¸å¯¹å·®è·ã€‚å…¶è®¡ç®—æ–¹å¼ï¼šå€™é€‰åŒºåŸŸæ’åºç›¸ä¼¼åº¦è®¡ç®—åè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•å¯¹å€™é€‰åŒºåŸŸæ’åºå‘¢ï¼Œé€šè¿‡ä¸Šè¿°çš„æ­¥éª¤æˆ‘ä»¬èƒ½å¤Ÿå¾—åˆ°å¾ˆå¤šå¾ˆå¤šçš„åŒºåŸŸï¼Œä½†æ˜¯æ˜¾ç„¶ä¸æ˜¯æ¯ä¸ªåŒºåŸŸä½œä¸ºç›®æ ‡çš„å¯èƒ½æ€§éƒ½æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è¡¡é‡è¿™ä¸ªå¯èƒ½æ€§ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®æˆ‘ä»¬çš„éœ€è¦ç­›é€‰åŒºåŸŸå»ºè®®ä¸ªæ•°å•¦ã€‚ è¿™ç¯‡æ–‡ç« åšæ³•æ˜¯ï¼Œç»™äºˆæœ€å…ˆåˆå¹¶çš„å›¾ç‰‡å—è¾ƒå¤§çš„æƒé‡ï¼Œæ¯”å¦‚æœ€åä¸€å—å®Œæ•´å›¾åƒæƒé‡ä¸º1ï¼Œå€’æ•°ç¬¬äºŒæ¬¡åˆå¹¶çš„åŒºåŸŸæƒé‡ä¸º2ä»¥æ­¤ç±»æ¨ã€‚ä½†æ˜¯å½“æˆ‘ä»¬ç­–ç•¥å¾ˆå¤šï¼Œå¤šæ ·æ€§å¾ˆå¤šçš„æ—¶å€™å‘¢ï¼Œè¿™ä¸ªæƒé‡å°±ä¼šæœ‰å¤ªå¤šçš„é‡åˆäº†ï¼Œæ’åºä¸å¥½æå•Šã€‚æ–‡ç« åšæ³•æ˜¯ç»™ä»–ä»¬ä¹˜ä»¥ä¸€ä¸ªéšæœºæ•°ï¼Œæ¯•ç«Ÿ3åˆ†çœ‹è¿æ°”å˜›ï¼Œç„¶åå¯¹äºç›¸åŒçš„åŒºåŸŸå¤šæ¬¡å‡ºç°çš„ä¹Ÿå åŠ ä¸‹æƒé‡ï¼Œæ¯•ç«Ÿå¤šä¸ªæ–¹æ³•éƒ½è¯´ä½ æ˜¯ç›®æ ‡ï¼Œä¹Ÿæ˜¯æœ‰ç†ç”±çš„å˜›ã€‚è¿™æ ·æˆ‘å°±å¾—åˆ°äº†æ‰€æœ‰åŒºåŸŸçš„ç›®æ ‡åˆ†æ•°ï¼Œä¹Ÿå°±å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©éœ€è¦å¤šå°‘ä¸ªåŒºåŸŸäº†ã€‚ å‚è€ƒæ–‡çŒ®[1]é€‰æ‹©æ€§æœç´¢ï¼ˆselective searchï¼‰https://blog.csdn.net/guoyunfei20/article/details/78723646[2]ç¬¬ä¸‰åä¸‰èŠ‚ï¼Œç›®æ ‡æ£€æµ‹ä¹‹é€‰æ‹©æ€§æœç´¢-Selective Searchhttps://www.cnblogs.com/zyly/p/9259392.html","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"è®¡ç®—æœºè§†è§‰/ç›®æ ‡æ£€æµ‹","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"}],"tags":[{"name":"é€‰æ‹©æ€§æœç´¢","slug":"é€‰æ‹©æ€§æœç´¢","permalink":"http://www.cloudcver.com/tags/%E9%80%89%E6%8B%A9%E6%80%A7%E6%90%9C%E7%B4%A2/"}]},{"title":"å›¾åƒåˆ†ç±»CNNç»å…¸ç½‘ç»œï¼ˆå››ï¼‰CNNæ€»ç»“","slug":"å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆå››ï¼‰CNNæ€»ç»“","date":"2019-04-26T02:41:30.000Z","updated":"2019-11-22T14:45:07.630Z","comments":true,"path":"2019/04/26/å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆå››ï¼‰CNNæ€»ç»“/","link":"","permalink":"http://www.cloudcver.com/2019/04/26/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BBCCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E5%9B%9B%EF%BC%89CNN%E6%80%BB%E7%BB%93/","excerpt":"å‰é¢æˆ‘ä»¬åˆ†æäº†CNNçš„ç»å…¸ç½‘ç»œæ¨¡å‹ï¼Œåœ¨æ­¤å¯¹CNNè®¾è®¡çš„ä¸€äº›æŠ€å·§åšä¸€äº›æ€»ç»“ã€‚","text":"å‰é¢æˆ‘ä»¬åˆ†æäº†CNNçš„ç»å…¸ç½‘ç»œæ¨¡å‹ï¼Œåœ¨æ­¤å¯¹CNNè®¾è®¡çš„ä¸€äº›æŠ€å·§åšä¸€äº›æ€»ç»“ã€‚ 1ã€é¿å…é‡åˆ°ç“¶é¢ˆHxWé€æ¸å˜å°Cé€æ¸å˜å¤§ç¼“æ…¢ï¼2ã€è®¡ç®—é‡æ§åˆ¶ï¼ˆå·ç§¯æ ¸æ§åˆ¶ï¼‰å‡å°è®¡ç®—é‡æˆ‘ä»¬å¯ä»¥æ”¹å˜çš„å› ç´ æœ‰è¾“å…¥ç‰¹å¾æ•°é‡ï¼ˆä½†æ˜¯ä¸€èˆ¬ä¸å¥½æ§åˆ¶ï¼‰è¾“å‡ºçš„ç‰¹å¾ï¼ˆä¸åˆ†ç±»æœ‰å…³ï¼‰å·ç§¯æ ¸ï¼ˆæˆ‘ä»¬éœ€è¦å»æ”¹å˜çš„ï¼‰Aè€ƒè™‘å°å·ç§¯è¡¨è¾¾å¤§å·ç§¯ç­‰æ–¹æ³•ã€‚Bè€ƒè™‘11é™ç»´å†33Cå¹¶è”3ã€æ„Ÿå—è§†é‡è¦è¶³å¤Ÿå¤§è¿™æ ·æ‰èƒ½æ•æ‰æ›´å¤§å°ºå¯¸çš„å†…å®¹ï¼Œä¸ºæ­¤è€ƒè™‘å¯ä»¥ç”¨å°å·ç§¯å’Œæ¥è¡¨è¾¾å¤§å·ç§¯æ ¸ã€‚è¿™æ ·æ—¢èƒ½é™ä½å‚æ•°ï¼Œæé«˜è§†é‡ï¼Œè€Œä¸”è¿˜ç”¨äº†æ›´å¤šçš„éçº¿æ€§æ¿€æ´»ã€‚ 4ã€é€šé“æ‹†åˆ†å¹¶è” å…³é”®è¯ï¼šå·ç§¯çš„è§†é‡è®¡ç®—é‡ã€å‚æ•°é‡ç½‘ç»œçš„è¡¨ç°èƒ½åŠ›","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"å›¾åƒåˆ†ç±»","slug":"è®¡ç®—æœºè§†è§‰/å›¾åƒåˆ†ç±»","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/"}],"tags":[]},{"title":"å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆä¸‰ï¼‰ResNet","slug":"å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆä¸‰ï¼‰ResNet","date":"2019-04-25T08:37:41.000Z","updated":"2019-11-22T14:44:59.154Z","comments":true,"path":"2019/04/25/å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆä¸‰ï¼‰ResNet/","link":"","permalink":"http://www.cloudcver.com/2019/04/25/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BBCCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E4%B8%89%EF%BC%89ResNet/","excerpt":"ä¼—æ‰€å‘¨çŸ¥ï¼Œç½‘ç»œçš„å±‚æ•°è¶Šä½ï¼Œç½‘ç»œçš„æ€§èƒ½ä¼šè¶Šæ¥è¶Šå¥½ã€‚æ°é¢æˆ‘ä»¬çœ‹åˆ°äº†ç»å…¸çš„å››ä¸ªç½‘ç»œæ¶æ„ï¼Œå±‚æ•°æœ€å¤šçš„ä¹Ÿå°±22å±‚ã€‚æ˜¯ä¸æ˜¯å¯ä»¥é€ å‡ºæ›´æ·±çš„ç½‘ç»œæ¥å‘¢ï¼Ÿä¸ºæ­¤å¾ˆå¤šäººç»§ç»­å»åšå®éªŒï¼Œäººä»¬å‘ç°ç½‘ç»œæ€§èƒ½æ²¡æœ‰æé«˜åè€Œé™ä½äº†ï¼Œè€ƒè™‘å…¶åŸå› å¯èƒ½æ˜¯æ¢¯åº¦çˆ†ç‚¸æˆ–è€…æ¢¯åº¦æ¶ˆå¤±ç­‰ï¼Œä¸ºæ­¤æœ‰äººæå‡ºäº†æ®‹å·®ç½‘ç»œçš„æ€æƒ³ã€‚","text":"ä¼—æ‰€å‘¨çŸ¥ï¼Œç½‘ç»œçš„å±‚æ•°è¶Šä½ï¼Œç½‘ç»œçš„æ€§èƒ½ä¼šè¶Šæ¥è¶Šå¥½ã€‚æ°é¢æˆ‘ä»¬çœ‹åˆ°äº†ç»å…¸çš„å››ä¸ªç½‘ç»œæ¶æ„ï¼Œå±‚æ•°æœ€å¤šçš„ä¹Ÿå°±22å±‚ã€‚æ˜¯ä¸æ˜¯å¯ä»¥é€ å‡ºæ›´æ·±çš„ç½‘ç»œæ¥å‘¢ï¼Ÿä¸ºæ­¤å¾ˆå¤šäººç»§ç»­å»åšå®éªŒï¼Œäººä»¬å‘ç°ç½‘ç»œæ€§èƒ½æ²¡æœ‰æé«˜åè€Œé™ä½äº†ï¼Œè€ƒè™‘å…¶åŸå› å¯èƒ½æ˜¯æ¢¯åº¦çˆ†ç‚¸æˆ–è€…æ¢¯åº¦æ¶ˆå¤±ç­‰ï¼Œä¸ºæ­¤æœ‰äººæå‡ºäº†æ®‹å·®ç½‘ç»œçš„æ€æƒ³ã€‚ åœ¨å‰é¢ä¸¤ç¯‡æ–‡ç« æ€»ç»“äº†ç»å…¸çš„CNNå››ä¸ªæ¨¡å‹ï¼Œå…¶ç½‘ç»œå±‚æ¬¡å¦‚ä¸‹æ‰€ç¤ºï¼šä¼—æ‰€å‘¨çŸ¥ï¼Œç½‘ç»œçš„å±‚æ•°è¶Šä½ï¼Œç½‘ç»œçš„æ€§èƒ½ä¼šè¶Šæ¥è¶Šå¥½ã€‚æ°é¢æˆ‘ä»¬çœ‹åˆ°äº†ç»å…¸çš„å››ä¸ªç½‘ç»œæ¶æ„ï¼Œå±‚æ•°æœ€å¤šçš„ä¹Ÿå°±22å±‚ã€‚æ˜¯ä¸æ˜¯å¯ä»¥é€ å‡ºæ›´æ·±çš„ç½‘ç»œæ¥å‘¢ï¼Ÿä¸ºæ­¤å¾ˆå¤šäººç»§ç»­å»åšå®éªŒï¼Œäººä»¬å‘ç°ç½‘ç»œæ€§èƒ½æ²¡æœ‰æé«˜åè€Œé™ä½äº†ï¼Œè€ƒè™‘å…¶åŸå› å¯èƒ½æ˜¯æ¢¯åº¦çˆ†ç‚¸æˆ–è€…æ¢¯åº¦æ¶ˆå¤±ç­‰ï¼Œä¸ºæ­¤æœ‰äººæå‡ºäº†æ®‹å·®ç½‘ç»œçš„æ€æƒ³ã€‚ ResNetæ®‹å·®ç½‘ç»œé‚£ä¹ˆæˆ‘ä»¬ä½œè¿™æ ·ä¸€ä¸ªå‡è®¾ï¼šå‡è®¾ç°æœ‰ä¸€ä¸ªæ¯”è¾ƒæµ…çš„ç½‘ç»œï¼ˆShallow Netï¼‰å·²è¾¾åˆ°äº†é¥±å’Œçš„å‡†ç¡®ç‡ï¼Œè¿™æ—¶åœ¨å®ƒåé¢å†åŠ ä¸Šå‡ ä¸ªæ’ç­‰æ˜ å°„å±‚ï¼ˆIdentity mappingï¼Œä¹Ÿå³y=xï¼Œè¾“å‡ºç­‰äºè¾“å…¥ï¼‰ï¼Œè¿™æ ·å°±å¢åŠ äº†ç½‘ç»œçš„æ·±åº¦ï¼Œå¹¶ä¸”èµ·ç è¯¯å·®ä¸ä¼šå¢åŠ ï¼Œä¹Ÿå³æ›´æ·±çš„ç½‘ç»œä¸åº”è¯¥å¸¦æ¥è®­ç»ƒé›†ä¸Šè¯¯å·®çš„ä¸Šå‡ã€‚è€Œè¿™é‡Œæåˆ°çš„ä½¿ç”¨æ’ç­‰æ˜ å°„ç›´æ¥å°†å‰ä¸€å±‚è¾“å‡ºä¼ åˆ°åé¢çš„æ€æƒ³ï¼Œä¾¿æ˜¯è‘—åæ·±åº¦æ®‹å·®ç½‘ç»œResNetçš„çµæ„Ÿæ¥æºã€‚ ResNetçš„ä¸»è¦æ€æƒ³åœ¨äºæ®‹å·®çš„æ€æƒ³ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæˆ‘æ€»ç»“äº†ä¸¤æ–¹é¢ç†è§£è¿™ä¸ªæ€æƒ³ï¼Œemmmä¸çŸ¥é“å¯¹ä¸å¯¹ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚ï¼ˆ1ï¼‰æˆ‘ä»¬å…ˆçœ‹è¿™ä¸ªç»“æ„ï¼Œå¦‚æœè¯´æµ…å±‚ç½‘ç»œå·²ç»è®­ç»ƒçš„æ¯”è¾ƒå¥½äº†ï¼Œæ·±å±‚ç½‘ç»œè¦åšçš„å°±æ˜¯ä¿æŒè¿™ä¸ªæ•ˆæœï¼Œä¿æŒæ•ˆæœå³ä½¿è¦ç”¨ä¸€ä¸ªæ’ç­‰æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æ®‹å·®ç½‘ç»œH=F+Xï¼Œè¿™ä¸ªç­‰å¼å¦‚æœæˆ‘ä»¬è®©F=0ï¼Œåˆ™H=Xå°±èƒ½æ’ç­‰æ˜ å°„æµ…å±‚ç½‘ç»œçš„ä¸œè¥¿äº†ï¼Œæ‰€ä»¥æ®‹å·®ç½‘ç»œè®­ç»ƒåˆ°åæœŸå°±ä¼šè®­ç»ƒF=0è¿™ä¸ªè¿‡ç¨‹ã€‚ ï¼ˆ2ï¼‰é‚£ä¹ˆå¯¹äºä¸€ä¸ªæ•°æ®é›†ï¼Œæˆ‘ä»¬ä¸å¤ªæ¸…æ¥šè®­ç»ƒå¤šå°‘å±‚æ¯”è¾ƒå¥½ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæµ…å±‚çš„ç½‘ç»œè¾¾åˆ°æ¯”è¾ƒå¥½çš„ç¬‘è¿‡åï¼Œå†å¾€ååŠ ç½‘ç»œå±‚æ•°ä¸çŸ¥é“æ•ˆæœå¦‚ä½•ï¼Œä½†æ˜¯å¦‚æœåŠ ä¸€ä¸ªæ’ç­‰æ˜ å°„çš„è¯åº”è¯¥æ˜¯ä¿æŒæµ…å±‚çš„æ•ˆæœçš„ï¼getåˆ°ã€‚ï¼ˆ3ï¼‰å¥½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ„é€ ä¸€ä¸ªæ·±å±‚æ¬¡çš„å¸¦æ®‹å·®çš„ç½‘ç»œå½“è®­ç»ƒåˆ°ä¸€å®šæ—¶é—´åï¼Œæµ…å±‚çš„ç½‘ç»œä¼šä¼˜åŒ–çš„å¾ˆå¥½ï¼Œæ·±å±‚çš„ç½‘ç»œä¼šé€æ¸åœ°è°ƒèŠ‚ä½¿Fè¶‹äº0.ï¼ˆ4ï¼‰æ®‹å·®å¯¹äºæ”¶æ•›é€Ÿåº¦çš„å½±å“Xæ˜¯æ±‚å’Œå‰ç½‘ç»œæ˜ å°„ï¼ŒHæ˜¯ä»è¾“å…¥åˆ°æ±‚å’Œåçš„ç½‘ç»œæ˜ å°„ã€‚æ¯”å¦‚æŠŠ5æ˜ å°„åˆ°5.1ï¼Œé‚£ä¹ˆå¼•å…¥æ®‹å·®å‰æ˜¯Fâ€™(5)=5.1ï¼Œå¼•å…¥æ®‹å·®åæ˜¯H(5)=5.1, H(5)=F(5)+5, F(5)=0.1ã€‚è¿™é‡Œçš„Fâ€™å’ŒFéƒ½è¡¨ç¤ºç½‘ç»œå‚æ•°æ˜ å°„ï¼Œå¼•å…¥æ®‹å·®åçš„æ˜ å°„å¯¹è¾“å‡ºçš„å˜åŒ–æ›´æ•æ„Ÿã€‚æ¯”å¦‚sè¾“å‡ºä»5.1å˜åˆ°5.2ï¼Œæ˜ å°„Fâ€™çš„è¾“å‡ºå¢åŠ äº†1/51=2%ï¼Œè€Œå¯¹äºæ®‹å·®ç»“æ„è¾“å‡ºä»5.1åˆ°5.2ï¼Œæ˜ å°„Fæ˜¯ä»0.1åˆ°0.2ï¼Œå¢åŠ äº†100%ã€‚æ˜æ˜¾åè€…è¾“å‡ºå˜åŒ–å¯¹æƒé‡çš„è°ƒæ•´ä½œç”¨æ›´å¤§ï¼Œæ‰€ä»¥æ•ˆæœæ›´å¥½ã€‚æ®‹å·®çš„æ€æƒ³éƒ½æ˜¯å»æ‰ç›¸åŒçš„ä¸»ä½“éƒ¨åˆ†ï¼Œä»è€Œçªå‡ºå¾®å°çš„å˜åŒ–ã€‚ å¥½äº†ï¼Œä¹‹ååˆå¯¹æ®‹å·®ç½‘ç»œåšäº†ä¼˜åŒ–ï¼Œä¸¤å±‚çš„æ®‹å·®ç½‘ç»œå‚æ•°é‡å¤ªå¤§ï¼Œä¸‹å›¾å³ä¾§ä¸ºä¸‰å±‚çš„æ®‹å·®ç½‘ç»œï¼Œå…¶å…ˆé™ç»´ï¼Œç„¶åå†å·ç§¯ï¼Œå†å‡ç»´ã€‚å·¦å›¾å‚æ•°é‡3x3x256x64x2ï¼ˆï¼Ÿï¼Ÿå¯¹ä¸å¯¹ï¼‰å³å›¾1x1x256x64+3x3x64x64+1x1x64x256=69632çš„å‚æ•°é‡ã€‚å‚æ•°é‡å¤§å¤§å‡å°ï¼ ResNeXtResNeXtæ˜¯å†æ®‹å·®ç½‘ç»œä¸Šåšäº†ä¸€å®šçš„ä¿®æ”¹ï¼Œå®ƒæ˜¯å€Ÿé‰´äº†Lenetçš„æ€æƒ³ï¼Œå°†å·ç§¯ç½‘ç»œæŒ‰ç…§é€šé“æ‹†åˆ†å¼€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å·¦å›¾ä¸ºResNetï¼Œå³å›¾ä¸ºRexNextã€‚å®ƒè€ƒè™‘å·¦è¾¹æ˜¯ç›´æ¥ä¸²è”å®Œæˆäº†æ‰€æœ‰çš„æ­¥éª¤å…ˆé™ç»´å¾—åˆ°64é€šé“å†ç”¨33å·ç§¯æ ¸å·ç§¯å†å‡ç»´åº¦ã€‚å³è¾¹æ˜¯åˆ†ä¸ºå¹¶è”çš„å‡ ä¸ªå°å—ï¼Œåˆ†åˆ«é™ç»´åˆ°4ä¸ªé€šé“ï¼Œç„¶åå·ç§¯33ï¼Œè¿™æ—¶å‚é‡æ‰334432ä¸ªç›¸æ¯”äº3364*64å°å¤šäº†emmmï¼Œæ¡ˆåå†å‡ç»´åº¦ï¼Œå†ç»„åˆåˆ°ä¸€èµ·ã€‚ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ€æƒ³ã€‚ å¦‚ä¸‹å±•ç¤ºäº†å¯¹ResNetä¸ResNeXtçš„å¯¹æ¯”ï¼Œå…¶åœ¨æ²¡æœ‰æé«˜å‚æ•°é‡çš„åŒæ—¶æé«˜äº†é¢„æµ‹çš„æ­£ç¡®ç‡ã€‚ å‚è€ƒæ–‡çŒ®[1]å¤§è¯æ·±åº¦æ®‹å·®ç½‘ç»œï¼ˆDRNï¼‰ResNetç½‘ç»œåŸhttps://blog.csdn.net/rogerchen1983/article/details/79353972[2]æµ…ææ·±åº¦ResNetæœ‰æ•ˆçš„åŸç†https://blog.csdn.net/u014296502/article/details/80438616","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"å›¾åƒåˆ†ç±»","slug":"è®¡ç®—æœºè§†è§‰/å›¾åƒåˆ†ç±»","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/"}],"tags":[]},{"title":"å›¾åƒåˆ†ç±»CNNç»å…¸ç½‘ç»œï¼ˆäºŒï¼‰GoogLeNet","slug":"å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆäºŒï¼‰GoogLeNet","date":"2019-04-25T02:41:30.000Z","updated":"2019-12-17T13:28:08.236Z","comments":true,"path":"2019/04/25/å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆäºŒï¼‰GoogLeNet/","link":"","permalink":"http://www.cloudcver.com/2019/04/25/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BBCCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E4%BA%8C%EF%BC%89GoogLeNet/","excerpt":"åœ¨GoogLeNetä¹‹å‰ï¼Œäººä»¬ä¸€ç›´æƒ³ç€å»åˆ›é€ æ›´æ·±å±‚çš„ç½‘ç»œå»æ”¹å–„CNNæ¨¡å‹ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´å‚æ•°é‡ä¸æ–­å¢å¤§ä¹Ÿä¸ä¸€å®šæœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ•ˆæœï¼›éšç€ç½‘ç»œå±‚æ•°å¢åŠ å¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±ç°è±¡ã€‚","text":"åœ¨GoogLeNetä¹‹å‰ï¼Œäººä»¬ä¸€ç›´æƒ³ç€å»åˆ›é€ æ›´æ·±å±‚çš„ç½‘ç»œå»æ”¹å–„CNNæ¨¡å‹ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´å‚æ•°é‡ä¸æ–­å¢å¤§ä¹Ÿä¸ä¸€å®šæœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ•ˆæœï¼›éšç€ç½‘ç»œå±‚æ•°å¢åŠ å¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±ç°è±¡ã€‚ GoogLeNetåœ¨GoogLeNetä¹‹å‰ï¼Œäººä»¬ä¸€ç›´æƒ³ç€å»åˆ›é€ æ›´æ·±å±‚çš„ç½‘ç»œå»æ”¹å–„CNNæ¨¡å‹ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´å‚æ•°é‡ä¸æ–­å¢å¤§ä¹Ÿä¸ä¸€å®šæœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ•ˆæœï¼›éšç€ç½‘ç»œå±‚æ•°å¢åŠ å¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±ç°è±¡ã€‚ *å°è´´å£«ï¼šæ¢¯åº¦æ¶ˆå¤±æ˜¯ä»€ä¹ˆæ ·ï¼Ÿåœ¨æˆ‘ä»¬å·ç§¯ç½‘ç»œä¸­å±‚æ•°ä¸æ–­å¢åŠ æ—¶å¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±çš„æƒ…å†µï¼Œæ¯”å¦‚å¦‚æœæˆ‘ä»¬é€‰åŒºsigmoidæ¿€æ´»å‡½æ•°ï¼Œå…¶å¯¼æ•°çš„æœ€å¤§å€¼ä¸º0.25ï¼Œå¦‚æœå±‚æ•°å¢å¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´éšç€åå‘ä¼ æ’­ï¼Œæµ…å±‚çš„ç½‘ç»œæ¢¯åº¦ä¸æ–­å‡å°ï¼Œå¯¹äºå‚æ•°çš„æ›´æ”¹ä¹Ÿå°±å˜åŠ¨ååˆ†å°ï¼Œç”šè‡³æ²¡æœ‰ã€‚å½“ç„¶äº§ç”Ÿæ¢¯åº¦æ¶ˆå¤±çš„åŸå› ä¸åªè¿™ä¸€ä¸ªï¼Œè¿™ä¸ªæ˜¯ç”±äºæ¿€æ´»å‡½æ•°çš„ç¡¬ä¼¤å¯¼è‡´çš„ï¼Œå¯ä»¥æ¢ç”¨reluã€leakreluã€eluç­‰æ¿€æ´»å‡½æ•°ã€‚ä¹Ÿå¯ä»¥åŠ å…¥Batchnormã€‚* V1ç‰ˆæœ¬1ã€Inceptionç»“æ„GoogLeNetæå‡ºäº†ä¸€ç§Inceptionç»“æ„æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸‹å›¾ä¸ºgoogleå›¢é˜Ÿæå‡ºçš„æ—©èµ·çš„inceptionåŸºç¡€ç»“æ„ï¼Œè¯¥ç»“æ„å°†CNNä¸­å¸¸ç”¨çš„å·ç§¯ï¼ˆ1x1ï¼Œ3x3ï¼Œ5x5ï¼‰ã€æ± åŒ–æ“ä½œï¼ˆ3x3ï¼‰å †å åœ¨ä¸€èµ·ï¼ˆå·ç§¯æ± åŒ–åçš„å°ºå¯¸æ˜¯ä¸€æ ·çš„ï¼Œç„¶åæŠŠå…¶é€šé“å åœ¨ä¸€èµ·å³å¯ï¼‰ï¼Œä¸€æ–¹é¢å¢åŠ äº†ç½‘ç»œçš„å®½åº¦ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¢åŠ äº†ç½‘ç»œå¯¹å°ºåº¦çš„é€‚åº”æ€§ã€‚(ä¸éœ€è¦æˆ‘ä»¬å»å®éªŒé€‰æ‹©ç”¨ä»€ä¹ˆå·ç§¯æ ¸ï¼Œè®©ç½‘ç»œè‡ªå·±å»ä¼˜åŒ–æŠ‰æ‹©å“ªä¸€ä¸ªå·ç§¯å±‚å¥½ã€‚) ç„¶è€Œè¿™ä¸ªInceptionåŸå§‹ç‰ˆæœ¬ï¼Œæ‰€æœ‰çš„å·ç§¯æ ¸éƒ½åœ¨ä¸Šä¸€å±‚çš„æ‰€æœ‰è¾“å‡ºä¸Šæ¥åšï¼Œè€Œé‚£ä¸ª5x5çš„å·ç§¯æ ¸æ‰€éœ€çš„è®¡ç®—é‡å°±å¤ªå¤§äº†ï¼Œé€ æˆäº†ç‰¹å¾å›¾çš„åšåº¦å¾ˆå¤§ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œåœ¨3x3å‰ã€5x5å‰ã€max poolingååˆ†åˆ«åŠ ä¸Šäº†1x1çš„å·ç§¯æ ¸ï¼Œä»¥èµ·åˆ°äº†é™ä½ç‰¹å¾å›¾åšåº¦çš„ä½œç”¨ï¼Œè¿™ä¹Ÿå°±å½¢æˆäº†Inception v1çš„ç½‘ç»œç»“æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š *å°è´´å£«ï¼š1x1çš„å·ç§¯å±‚ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ1x1çš„å·ç§¯å±‚æœ‰é™ä½ç»´åº¦çš„ä½œç”¨ï¼Œæ¯”å¦‚ä¸Šä¸€å±‚ç½‘ç»œçš„è¾“å‡ºä¸º100x100x100ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ç”¨5x5x50å»å·ç§¯ï¼Œå‚æ•°é‡ä¸º100x5x5x50=125000ã€‚å¦‚æœæˆ‘ä»¬å…ˆç”¨1x1x50çš„å·ç§¯é™ç»´å¾—åˆ°100x100x50å†è¿›è¡Œ5x5x50å·ç§¯ï¼Œå‚æ•°é‡ä¸º100x1x1x50+50x5x5x50=67500ï¼Œå‡å°‘äº†ä¸¤å€ã€‚æ‰€ä»¥è¿™æ ·åŠ å…¥ä¸€ä¸ª1x1çš„å·ç§¯å±‚èƒ½å¤Ÿåœ¨é™ä½ç»´åº¦çš„æƒ…å†µä¸‹åˆèƒ½ä½¿ç”¨5x5çš„å·ç§¯å±‚ã€‚* æ€è€ƒï¼šä¸ºä»€ä¹ˆVGGé€šå¸¸ä½œä¸ºæœ€åŸºç¡€çš„ç½‘ç»œæ¶æ„ï¼ŒInceptionè¿™ä¹ˆå¥½ä¸èƒ½ä½œä¸ºåŸºç¡€ï¼Ÿç­”ï¼šä¸»è¦åœ¨äºInceptionè®­ç»ƒå¥½å®ƒä¼šæ›´åŠ çš„é€‚ç”¨äºæŸä¸€ä¸ªåœºæ™¯æ•°æ®ï¼Œå½“æ¢äº†åœºæ™¯å¯èƒ½éœ€è¦ä¿®æ”¹è®¸å¤šå‚æ•°ï¼›è€ŒVGGåšå‡ºçš„ç½‘ç»œæ›´å…·æœ‰æ™®éæ€§ã€‚ 2ã€GAPå…¨å±€å¹³å‡æ± åŒ–ç¬¬äºŒä¸ªé—®é¢˜æ˜¯å¦‚ä½•å¤„ç†å…¨è¿æ¥å±‚æƒé‡è¿‡å¤§ï¼Œè¿™é‡ŒgoogLeNetæå‡ºäº†å…¨å±€å¹³å‡æ± åŒ–çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠå¾—åˆ°çš„æœ€åç‰¹å¾ï¼Œæ¯ä¸€å±‚æ±‚å¹³å‡åç”¨ä¸€ä¸ªç‚¹ä»£æ›¿åŸæ¥ä¸€å±‚çš„ç‰¹å¾ï¼Œè¿™æ ·å°±å‡å°‘äº†å¤§é‡çš„å…¨è¿æ¥å±‚å‚æ•°ã€‚æ¯”å¦‚ç‰¹å¾ä¸º7*7*1024æ­¤æ—¶è¦å¾—åˆ°1*4096çš„ç‰¹å¾ï¼Œé‚£å°±å¾—ç”¨7*7*1024*4096å‚æ•°ï¼Œå¦‚æœå…ˆå…¨å±€å¹³å‡æ± åŒ–çš„è¯å³å…ˆå¾—åˆ°1*1*1024çš„ç‰¹å¾ï¼Œå†ç”¨1*1*1024*4096å³å¯ã€‚ 3ã€è¾…åŠ©åˆ†ç±»å™¨å½“ç½‘ç»œå±‚æ•°è¿‡é•¿æ—¶ä¼šå­˜åœ¨ æ¢¯åº¦æ¶ˆå¤±çš„ç°è±¡ï¼ŒgoogLeNetå¼•å…¥äº†ä¸¤ä¸ªè¾…åŠ©åˆ†ç±»å™¨ï¼Œå®ƒæ„Ÿè§‰å¯èƒ½åœ¨æŸä¸€å±‚ä¼šå‡ºç°æ¢¯åº¦æ¶ˆå¤±æ—¶ï¼Œåœ¨è¿™é‡ŒåŠ äº†ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œæœ€åçš„åˆ†ç±»ç»“æœä¼šæœ‰ä¸€ä¸ªæƒé‡è€ƒè™‘ï¼Œæœ€ç»ˆåˆ†ç±»å™¨å…¨é‡å¤§0.5ï¼Œä¸¤ä¸ªè¾…åŠ©åˆ†ç±»å™¨03ã€‚è¿™æ ·ä¹Ÿç±»ä¼¼äºä¸€ä¸ªæ¨¡å‹èåˆæé«˜äº†ç³»ç»Ÿçš„æ³›åŒ–èƒ½åŠ›ã€‚ä¹Ÿç»™ç³»ç»Ÿå¢åŠ äº†é¢å¤–çš„æ¢¯åº¦ã€‚æœ€ç»ˆV1ç‰ˆæœ¬çš„googLeNetæ¨¡å‹ç»“æ„å›¾GoogLeNetç½‘ç»œç»“æ„æ˜ç»†è¡¨è§£æå¦‚ä¸‹ï¼š0ã€è¾“å…¥åŸå§‹è¾“å…¥å›¾åƒä¸º224x224x3ï¼Œä¸”éƒ½è¿›è¡Œäº†é›¶å‡å€¼åŒ–çš„é¢„å¤„ç†æ“ä½œï¼ˆå›¾åƒæ¯ä¸ªåƒç´ å‡å»å‡å€¼ï¼‰ã€‚1ã€ç¬¬ä¸€å±‚ï¼ˆå·ç§¯å±‚ï¼‰ä½¿ç”¨7x7çš„å·ç§¯æ ¸ï¼ˆæ»‘åŠ¨æ­¥é•¿2ï¼Œpaddingä¸º3ï¼‰ï¼Œ64é€šé“ï¼Œè¾“å‡ºä¸º112x112x64ï¼Œå·ç§¯åè¿›è¡ŒReLUæ“ä½œç»è¿‡3x3çš„max poolingï¼ˆæ­¥é•¿ä¸º2ï¼‰ï¼Œè¾“å‡ºä¸º((112 - 3+1)/2)+1=56ï¼Œå³56x56x64ï¼Œå†è¿›è¡ŒReLUæ“ä½œ2ã€ç¬¬äºŒå±‚ï¼ˆå·ç§¯å±‚ï¼‰ä½¿ç”¨3x3çš„å·ç§¯æ ¸ï¼ˆæ»‘åŠ¨æ­¥é•¿ä¸º1ï¼Œpaddingä¸º1ï¼‰ï¼Œ192é€šé“ï¼Œè¾“å‡ºä¸º56x56x192ï¼Œå·ç§¯åè¿›è¡ŒReLUæ“ä½œç»è¿‡3x3çš„max poolingï¼ˆæ­¥é•¿ä¸º2ï¼‰ï¼Œè¾“å‡ºä¸º((56 - 3+1)/2)+1=28ï¼Œå³28x28x192ï¼Œå†è¿›è¡ŒReLUæ“ä½œ3aã€ç¬¬ä¸‰å±‚ï¼ˆInception 3aå±‚ï¼‰åˆ†ä¸ºå››ä¸ªåˆ†æ”¯ï¼Œé‡‡ç”¨ä¸åŒå°ºåº¦çš„å·ç§¯æ ¸æ¥è¿›è¡Œå¤„ç†ï¼ˆ1ï¼‰64ä¸ª1x1çš„å·ç§¯æ ¸ï¼Œç„¶åRuLUï¼Œè¾“å‡º28x28x64ï¼ˆ2ï¼‰96ä¸ª1x1çš„å·ç§¯æ ¸ï¼Œä½œä¸º3x3å·ç§¯æ ¸ä¹‹å‰çš„é™ç»´ï¼Œå˜æˆ28x28x96ï¼Œç„¶åè¿›è¡ŒReLUè®¡ç®—ï¼Œå†è¿›è¡Œ128ä¸ª3x3çš„å·ç§¯ï¼ˆpaddingä¸º1ï¼‰ï¼Œè¾“å‡º28x28x128ï¼ˆ3ï¼‰16ä¸ª1x1çš„å·ç§¯æ ¸ï¼Œä½œä¸º5x5å·ç§¯æ ¸ä¹‹å‰çš„é™ç»´ï¼Œå˜æˆ28x28x16ï¼Œè¿›è¡ŒReLUè®¡ç®—åï¼Œå†è¿›è¡Œ32ä¸ª5x5çš„å·ç§¯ï¼ˆpaddingä¸º2ï¼‰ï¼Œè¾“å‡º28x28x32ï¼ˆ4ï¼‰poolå±‚ï¼Œä½¿ç”¨3x3çš„æ ¸ï¼ˆpaddingä¸º1ï¼‰ï¼Œè¾“å‡º28x28x192ï¼Œç„¶åè¿›è¡Œ32ä¸ª1x1çš„å·ç§¯ï¼Œè¾“å‡º28x28x32ã€‚å°†å››ä¸ªç»“æœè¿›è¡Œè¿æ¥ï¼Œå¯¹è¿™å››éƒ¨åˆ†è¾“å‡ºç»“æœçš„ç¬¬ä¸‰ç»´å¹¶è”ï¼Œå³64+128+32+32=256ï¼Œæœ€ç»ˆè¾“å‡º28x28x2563bã€ç¬¬ä¸‰å±‚ï¼ˆInception 3bå±‚ï¼‰ï¼ˆ1ï¼‰128ä¸ª1x1çš„å·ç§¯æ ¸ï¼Œç„¶åRuLUï¼Œè¾“å‡º28x28x128ï¼ˆ2ï¼‰128ä¸ª1x1çš„å·ç§¯æ ¸ï¼Œä½œä¸º3x3å·ç§¯æ ¸ä¹‹å‰çš„é™ç»´ï¼Œå˜æˆ28x28x128ï¼Œè¿›è¡ŒReLUï¼Œå†è¿›è¡Œ192ä¸ª3x3çš„å·ç§¯ï¼ˆpaddingä¸º1ï¼‰ï¼Œè¾“å‡º28x28x192ï¼ˆ3ï¼‰32ä¸ª1x1çš„å·ç§¯æ ¸ï¼Œä½œä¸º5x5å·ç§¯æ ¸ä¹‹å‰çš„é™ç»´ï¼Œå˜æˆ28x28x32ï¼Œè¿›è¡ŒReLUè®¡ç®—åï¼Œå†è¿›è¡Œ96ä¸ª5x5çš„å·ç§¯ï¼ˆpaddingä¸º2ï¼‰ï¼Œè¾“å‡º28x28x96ï¼ˆ4ï¼‰poolå±‚ï¼Œä½¿ç”¨3x3çš„æ ¸ï¼ˆpaddingä¸º1ï¼‰ï¼Œè¾“å‡º28x28x256ï¼Œç„¶åè¿›è¡Œ64ä¸ª1x1çš„å·ç§¯ï¼Œè¾“å‡º28x28x64ã€‚å°†å››ä¸ªç»“æœè¿›è¡Œè¿æ¥ï¼Œå¯¹è¿™å››éƒ¨åˆ†è¾“å‡ºç»“æœçš„ç¬¬ä¸‰ç»´å¹¶è”ï¼Œå³128+192+96+64=480ï¼Œæœ€ç»ˆè¾“å‡ºè¾“å‡ºä¸º28x28x480 ç¬¬å››å±‚ï¼ˆ4a,4b,4c,4d,4eï¼‰ã€ç¬¬äº”å±‚ï¼ˆ5a,5bï¼‰â€¦â€¦ï¼Œä¸3aã€3bç±»ä¼¼ï¼Œåœ¨æ­¤å°±ä¸å†é‡å¤ã€‚ V2ç‰ˆæœ¬V2ç‰ˆæœ¬åšäº†ä¸€äº›å°çš„æ”¹åŠ¨BatchNormalization ä»¥å¾€çš„ç¥ç»ç½‘ç»œï¼Œæˆ‘ä»¬ä¼šå¯¹æ•°æ®çš„è¾“å…¥åšå½’ä¸€åŒ–å¤„ç†ï¼Œé™ä½æ•°æ®ä¹‹é—´çš„å·®å¼‚æ€§ï¼Œæ¥æé«˜ç½‘ç»œçš„æ”¶æ•›é€Ÿåº¦ã€‚BatchNormalizationæå‡ºæ™®é€šçš„ç½‘ç»œçš„éšå«å±‚çš„è¾“å‡ºä¹Ÿå¯ä»¥åŠ å…¥æ ‡å‡†åŒ–ï¼Œè¿™æ ·ä¹Ÿèƒ½æé«˜ç½‘ç»œçš„æ”¶æ•›é€Ÿåº¦ï¼Œæˆ‘å‚è€ƒäº†æ–‡çŒ®ä¸­çš„å‡ ç¯‡åšå®¢å¯¹BNè¯´æ˜å¦‚ä¸‹ï¼š åœ¨æˆ‘ä»¬è®­ç»ƒæ—¶ï¼Œéšå«å±‚å¯èƒ½è®­ç»ƒåˆ°åæœŸï¼Œè¾“å‡ºçš„æ•°æ®å¯èƒ½åå‘äºæŸä¸€ä¾§ï¼Œå¯¼è‡´sigmoidæ¿€æ´»å‡½æ•°æ¢¯åº¦å‡å°ç”šè‡³æ¶ˆå¤±ï¼Œå¯¼è‡´å…¶æ”¶æ•›é€Ÿåº¦å¤§å¤§å‡å°ï¼Œè¿™æ—¶æˆ‘ä»¬ç”¨ä¸€ä¸ªå‡å€¼æ–¹å·®å½’ä¸€åŒ–åšå¤„ç†æ˜¯æ•°æ®é›†ä¸­åˆ°æ­£æ€åˆ†å¸ƒä¸­é—´æ¥ï¼Œä¾¿èƒ½æé«˜æ”¶æ•›çš„é€Ÿåº¦ã€‚ä½†æ˜¯è¿™æ ·æ˜¯ä¸æ˜¯æœ‰äº†ä¸€ä¸ªé—®é¢˜ï¼Ÿï¼Ÿæ‰€æœ‰æ•°æ®éƒ½å½’ä¸€åˆ°ä¸­é—´ï¼Œä¸­é—´éƒ¨ä½å…¶å®æ˜¯è¶‹äºä¸€ä¸ªçº¿å½¢å‡½æ•°çš„ï¼Œé‚£ä¹ˆå°±å¯¼è‡´éçº¿æ€§çš„æ“ä½œæ¶ˆå¤±äº†ï¼Œæ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›å˜å·®ã€‚è¿™æ˜¯æˆ‘ä»¬ä¸æƒ³è¦çš„ï¼BNçš„ä¸€ä¸ªç²¾é«“å°±å‡ºæ¥äº†ï¼Œä»–å¼•å…¥ä¸€ä¸ªåç§»ï¼Œè®©æ•°æ®ä¾¿å®œä¸€ä¸‹åˆ°éçº¿æ€§åŒºåŸŸã€‚æ ¸å¿ƒæ€æƒ³åº”è¯¥æ˜¯æƒ³æ‰¾åˆ°ä¸€ä¸ªçº¿æ€§å’Œéçº¿æ€§çš„è¾ƒå¥½å¹³è¡¡ç‚¹ï¼Œæ—¢èƒ½äº«å—éçº¿æ€§çš„è¾ƒå¼ºè¡¨è¾¾èƒ½åŠ›çš„å¥½å¤„ï¼Œåˆé¿å…å¤ªé éçº¿æ€§åŒºä¸¤å¤´ä½¿å¾—ç½‘ç»œæ”¶æ•›é€Ÿåº¦å¤ªæ…¢ã€‚ æ•´ç†åBNç®—æ³•å¤§è‡´æ€æƒ³å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ±‚å–ä¸Šä¸€çº§è¾“å‡ºçš„å¹³å‡å€¼ä¸æ–¹å·®ï¼Œå¯¹æ‰€æœ‰æ•°æ®åšå½’ä¸€åŒ–å¤„ç†ï¼Œä½†æ˜¯è¿™æ ·æå®Œåï¼Œæ•°æ®éƒ½åç§»äº†ï¼Œæ‰€ä»¥è¿™é‡Œè¿˜è¦åŠ å…¥ä¸€ä¸ªå°ºåº¦å˜æ¢çº æ­£åç§»ã€‚ V3ç‰ˆæœ¬V3ç‰ˆæœ¬ç›¸æ¯”ä¹‹å‰å¢åŠ äº†å·ç§¯æ‹†è§£çš„æ€æƒ³ã€‚å…·ä½“æ€ä¹ˆè¯´å‘¢ï¼Ÿ å¤§å·ç§¯æ‹†è§£ä¸ºå°å·ç§¯åœ¨å®é™…æˆ‘ä»¬è®¾è®¡ç½‘ç»œæ—¶ï¼Œç”¨å¤§çš„å·ç§¯æ ¸ä¼šæœ‰æ¯”è¾ƒå¥½çš„è§†é‡ï¼Œæ¯ä¸€ä¸ªç‚¹æ‰€ç»¼åˆè€ƒè™‘çš„å› ç´ å¤šä¸€äº›ï¼Œä½†æ˜¯è¿™æ ·çš„è¯ï¼Œå‚æ•°é‡å°±ä¼šæå‡ã€‚ä¸ºæ­¤V2æå‡ºäº†ä¸€ç§å°†nnçš„å·ç§¯æ ¸æ‹†è§£ä¸º1nåå†n1å·ç§¯çš„æ–¹æ³•ï¼Œå®éªŒè¯æ˜è¿™ä¸ªæ–¹æ³•åœ¨å·ç§¯æ ¸å¤æ‚çš„æ—¶å€™æ¯”è¾ƒå¥½ç”¨ï¼ˆ12&lt;n&lt;18ï¼‰ï¼ˆä¸‹å›¾ä¸ºå‚è€ƒæ–‡çŒ®ä¸­çš„ä¸€ä¸ªå›¾ï¼Œä¹‹å‰VGGä¸­æå‡ºè¿‡ç”¨ä¸¤ä¸ª33ä»£æ›¿5*5çš„ç½‘ç»œã€‚ï¼‰ å‚è€ƒæ–‡çŒ®[1]å¤§è¯CNNç»å…¸æ¨¡å‹ï¼šGoogLeNetï¼ˆä»Inception v1åˆ°v4çš„æ¼”è¿›ï¼‰https://my.oschina.net/u/876354/blog/1637819[2]ç¥ç»ç½‘ç»œä¸­çš„æ¢¯åº¦æ¶ˆå¤±https://www.cnblogs.com/mengnan/p/9480804.html[3]ã€æ·±åº¦å­¦ä¹ ã€‘æ·±å…¥ç†è§£Batch Normalizationæ‰¹æ ‡å‡†https://www.cnblogs.com/guoyaohua/p/8724433.html[4]ã€æ·±åº¦å­¦ä¹ ã€‘æ‰¹å½’ä¸€åŒ–ï¼ˆBatch Normalizationï¼‰https://www.cnblogs.com/skyfsm/p/8453498.html[5]","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"å›¾åƒåˆ†ç±»","slug":"è®¡ç®—æœºè§†è§‰/å›¾åƒåˆ†ç±»","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/"}],"tags":[]},{"title":"å›¾åƒåˆ†ç±»CNNç»å…¸ç½‘ç»œï¼ˆä¸€ï¼‰AlexNetä¸VGG","slug":"å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆä¸€ï¼‰AlexNetä¸VGG","date":"2019-04-25T02:41:15.000Z","updated":"2019-12-17T13:26:58.308Z","comments":true,"path":"2019/04/25/å›¾åƒåˆ†ç±»CCNNç»å…¸ç½‘ç»œï¼ˆä¸€ï¼‰AlexNetä¸VGG/","link":"","permalink":"http://www.cloudcver.com/2019/04/25/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BBCCNN%E7%BB%8F%E5%85%B8%E7%BD%91%E7%BB%9C%EF%BC%88%E4%B8%80%EF%BC%89AlexNet%E4%B8%8EVGG/","excerpt":"æœ¬ç¯‡æ–‡ç« æ€»ç»“äº†CNNé¢†åŸŸç”¨äºç›®æ ‡æ£€æµ‹çš„ä¸¤ä¸ªç½‘ç»œAlexNetä¸VGGNetã€‚","text":"æœ¬ç¯‡æ–‡ç« æ€»ç»“äº†CNNé¢†åŸŸç”¨äºç›®æ ‡æ£€æµ‹çš„ä¸¤ä¸ªç½‘ç»œAlexNetä¸VGGNetã€‚ åœ¨å›¾åƒåˆ†ç±»é¢†åŸŸï¼ŒCNNæœ‰äº†å¾ˆå¥½çš„åº”ç”¨ï¼Œä¸‹å›¾å±•ç¤ºäº†2012å¹´ä¹‹åçš„ä¸€äº›ç»å…¸çš„ç½‘ç»œæ¶æ„ã€‚æœ¬ç¯‡æ–‡ç« æ€»ç»“äº†CNNé¢†åŸŸç”¨äºå›¾åƒåˆ†ç±»çš„ä¸¤ä¸ªç½‘ç»œAlexNetä¸VGGNetã€‚ AlexNetAlexNetæ˜¯æ‰“å¼€å·ç§¯ç¥ç»ç½‘ç»œå¤§é—¨çš„ç¬¬ä¸€ä¸ªä½œå“ï¼Œå®ƒé‡æ–°å°†å·ç§¯ç¥ç»ç½‘ç»œå¸¦å…¥è®¡ç®—æœºè§†è§‰çš„ç§‘ç ”ä¸­ã€‚ä»–ç»™å‡ºäº†å·ç§¯ç¥ç»ç½‘ç»œåœ¨ç›®æ ‡æ£€æµ‹ä¸­çš„åŸºæœ¬æ€æƒ³ã€‚ä¸»è¦ç‰¹ç‚¹æœ‰ï¼š1ã€ReLUã€åŒGPUè¿ç®—ï¼šæé«˜è®­ç»ƒé€Ÿåº¦ã€‚ï¼ˆåº”ç”¨äºæ‰€æœ‰å·ç§¯å±‚å’Œå…¨è¿æ¥å±‚ï¼‰2ã€é‡å poolæ± åŒ–å±‚ï¼šæé«˜ç²¾åº¦ï¼Œä¸å®¹æ˜“äº§ç”Ÿè¿‡åº¦æ‹Ÿåˆã€‚ï¼ˆåº”ç”¨åœ¨ç¬¬ä¸€å±‚ï¼Œç¬¬äºŒå±‚ï¼Œç¬¬äº”å±‚åé¢ï¼‰3ã€å±€éƒ¨å“åº”å½’ä¸€åŒ–å±‚(LRN)ï¼šæé«˜ç²¾åº¦ã€‚ï¼ˆåº”ç”¨åœ¨ç¬¬ä¸€å±‚å’Œç¬¬äºŒå±‚åé¢ï¼‰4ã€Dropoutï¼šå‡å°‘è¿‡åº¦æ‹Ÿåˆã€‚ï¼ˆåº”ç”¨åœ¨å‰ä¸¤ä¸ªå…¨è¿æ¥å±‚ï¼‰ VGGNetVGGNetç”±ç‰›æ´¥å¤§å­¦è®¡ç®—æœºè§†è§‰ç»„åˆå’ŒGoogle DeepMindå…¬å¸ç ”ç©¶å‘˜ä¸€èµ·ç ”å‘çš„æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œã€‚å®ƒæ¢ç´¢äº†å·ç§¯ç¥ç»ç½‘ç»œçš„æ·±åº¦å’Œå…¶æ€§èƒ½ä¹‹é—´çš„å…³ç³»ï¼Œé€šè¿‡åå¤çš„å †å 33çš„å°å‹å·ç§¯æ ¸å’Œ22çš„æœ€å¤§æ± åŒ–å±‚ï¼ŒæˆåŠŸçš„æ„å»ºäº†16~19å±‚æ·±çš„å·ç§¯ç¥ç»ç½‘ç»œã€‚VGGNetè·å¾—äº†ILSVRC 2014å¹´æ¯”èµ›çš„äºšå†›å’Œå®šä½é¡¹ç›®çš„å† å†›ï¼Œåœ¨top5ä¸Šçš„é”™è¯¯ç‡ä¸º7.5%ã€‚ VGGNetçš„ç½‘ç»œç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚VGGNetåŒ…å«å¾ˆå¤šçº§åˆ«çš„ç½‘ç»œï¼Œæ·±åº¦ä»11å±‚åˆ°19å±‚ä¸ç­‰ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯VGGNet-16å’ŒVGGNet-19ã€‚VGGNetæŠŠç½‘ç»œåˆ†æˆäº†5æ®µï¼Œæ¯æ®µéƒ½æŠŠå¤šä¸ª3*3çš„å·ç§¯ç½‘ç»œä¸²è”åœ¨ä¸€èµ·ï¼Œæ¯æ®µå·ç§¯åé¢æ¥ä¸€ä¸ªæœ€å¤§æ± åŒ–å±‚ï¼Œæœ€åé¢æ˜¯3ä¸ªå…¨è¿æ¥å±‚å’Œä¸€ä¸ªsoftmaxå±‚ã€‚ æˆ‘ä»¬ä»¥VGG16åšä¸€ä¸ªåˆ†æä¸‹å›¾ç»™å‡ºäº†VGG16çš„ä¸€ä¸ªå†…å­˜å ç”¨å’Œå‚æ•°é‡çš„åˆ†æã€‚ VGGç‰¹ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š 1ã€è‡³ä»Šï¼ŒVGGNetä»ç„¶æ˜¯ç°å¦‚ä»Šæ­å»ºåŸºæœ¬çš„CNNç½‘ç»œçš„åŸºæœ¬ç½‘ç»œï¼Œå¾ˆå¤šç½‘ç»œæ„å»ºåˆæœŸéƒ½æ˜¯åœ¨VGGçš„åŸºç¡€ä¸Šæ­å»ºã€‚2ã€ç½‘ç»œåœ¨åˆ›æ–°ä¸Šæå‡ºäº†ç”¨å°çš„å·ç§¯æ ¸ä»£æ›¿å¤§å·ç§¯çš„æ€æƒ³ã€‚ç”¨ä¸¤ä¸ª3*3çš„å·ç§¯æ ¸å»æ›¿ä»£5*5çš„å·ç§¯æ ¸ï¼Œç”¨ä¸‰ä¸ª3*3çš„å·ç§¯æ ¸ä»£æ›¿7*7çš„å·ç§¯æ ¸ã€‚å¦‚ä½•ç†è§£ï¼Ÿå¯ä»¥çœ‹ä¸‹å›¾åŸæ¥ä¸€ä¸ª55çš„åŒºåŸŸè¦ç”¨ä¸€ä¸ªæ ¸å·ç§¯ï¼Œå¦‚ä»Šå…ˆç”¨ä¸ª33çš„æ ¸æ¥å·ç§¯å¾—åˆ°ç¬¬äºŒå±‚çš„å›¾ï¼Œå›¾çº¸è€ƒè™‘æ˜¯æ­¥é•¿ä¸º1çš„æƒ…å†µï¼Œæ­¤æ—¶æœ€åº•å±‚ç§»åŠ¨ä¸‰æ¬¡å¯ä»¥æŠŠ5*5çš„åŒºåŸŸéå†åˆ°ï¼Œç„¶åå¾—åˆ°ç¬¬äºŒå±‚3*3çš„å›¾ã€‚ç„¶åå†ç”¨33çš„æ ¸å¯¹ç¬¬äºŒå±‚å·ç§¯å¾—åˆ°é¡¶å±‚ä¸€ä¸ªã€‚è¿™æ ·å°±è¾¾åˆ°ç”¨ç”¨ä¸¤ä¸ª3\\3çš„å·ç§¯æ ¸å»æ›¿ä»£5*5çš„å·ç§¯æ ¸ã€‚å¾ˆå·§å¦™ï¼ï¼ä½¿ç”¨å°ºå¯¸å°çš„å·ç§¯çš„å¥½å¤„ï¼Ÿï¼ˆ1ï¼‰æ›´å°‘çš„å‚æ•°é‡ï¼›ï¼ˆ2ï¼‰æ›´å¤šçš„éçº¿æ€§å˜æ¢ï¼Œä½¿å¾—CNNå¯¹ç‰¹å¾çš„å­¦ä¹ èƒ½åŠ›æ›´å¼ºè¡¨è¾¾èƒ½åŠ›å¢å¼ºï¼›ï¼ˆ3ï¼‰éšå¼çš„æ­£åˆ™åŒ–æ•ˆæœï¼ˆæ”¶æ•›é€Ÿåº¦è¦å¿«ï¼‰ã€‚ å‚è€ƒæ–‡çŒ®[1]AlexNetè¯¦ç»†è§£è¯»https://blog.csdn.net/qq_24695385/article/details/80368618[2]VGGNetä»‹ç»https://blog.csdn.net/u013181595/article/details/80974210[3]å·ç§¯ç¥ç»ç½‘ç»œçš„ç½‘ç»œç»“æ„â€”â€”VGGNethttps://www.imooc.com/article/34700[4]å¤§è¯CNNç»å…¸æ¨¡å‹ï¼šhttps://my.oschina.net/u/876354/blog/1634322","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"},{"name":"å›¾åƒåˆ†ç±»","slug":"è®¡ç®—æœºè§†è§‰/å›¾åƒåˆ†ç±»","permalink":"http://www.cloudcver.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB/"}],"tags":[{"name":"AlexNet","slug":"AlexNet","permalink":"http://www.cloudcver.com/tags/AlexNet/"},{"name":"VGG","slug":"VGG","permalink":"http://www.cloudcver.com/tags/VGG/"}]},{"title":"PythonåŸºç¡€å­¦ä¹ ï¼ˆä¸‰ï¼‰é¢å‘å¯¹è±¡","slug":"PythonåŸºç¡€å­¦ä¹ ï¼ˆä¸‰ï¼‰é¢å‘å¯¹è±¡","date":"2019-04-16T09:33:52.000Z","updated":"2019-11-22T17:02:43.153Z","comments":true,"path":"2019/04/16/PythonåŸºç¡€å­¦ä¹ ï¼ˆä¸‰ï¼‰é¢å‘å¯¹è±¡/","link":"","permalink":"http://www.cloudcver.com/2019/04/16/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%89%EF%BC%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","excerpt":"æœ¬ç¯‡æ–‡ç« ä»‹ç»pythonçš„ç±»ï¼Œé¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚","text":"æœ¬ç¯‡æ–‡ç« ä»‹ç»pythonçš„ç±»ï¼Œé¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚ ç±»å’Œå…¶å®ƒç¼–ç¨‹è¯­è¨€ç›¸æ¯”ï¼ŒPython åœ¨å°½å¯èƒ½ä¸å¢åŠ æ–°çš„è¯­æ³•å’Œè¯­ä¹‰çš„æƒ…å†µä¸‹åŠ å…¥äº†ç±»æœºåˆ¶ã€‚ Pythonä¸­çš„ç±»æä¾›äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ‰€æœ‰åŸºæœ¬åŠŸèƒ½ï¼šç±»çš„ç»§æ‰¿æœºåˆ¶å…è®¸å¤šä¸ªåŸºç±»ï¼Œæ´¾ç”Ÿç±»å¯ä»¥è¦†ç›–åŸºç±»ä¸­çš„ä»»ä½•æ–¹æ³•ï¼Œæ–¹æ³•ä¸­å¯ä»¥è°ƒç”¨åŸºç±»ä¸­çš„åŒåæ–¹æ³•ã€‚ å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„æ•°é‡å’Œç±»å‹çš„æ•°æ®ã€‚ pythonç±»ç›¸æ¯”å…¶ä»–çš„ä¸åŒæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š1ã€selfå‚æ•°ä½œä¸ºå¯¹è±¡å‚æ•°ï¼Œclassé‡Œé¢æ¯ä¸ªå‡½æ•°éƒ½ä¼šæœ‰ä¸€ä¸ªå‚æ•°selfï¼ˆåé¢è¯¦ç»†ä»‹ç»ï¼‰2ã€initåˆå§‹åŒ–å‡½æ•°ï¼Œç±»ä¼¼äºæ„é€ å‡½æ•°ã€‚3ã€å¤šäº†ä¸€äº›å†…ç½®çš„æ–¹æ³•ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç»™ä»–é‡æ„ã€‚ 1234567891011121314#!/usr/bin/python3 class MyClass: \"\"\"ä¸€ä¸ªç®€å•çš„ç±»å®ä¾‹\"\"\" i = 12345 def f(self): return 'hello world' # å®ä¾‹åŒ–ç±»x = MyClass() # è®¿é—®ç±»çš„å±æ€§å’Œæ–¹æ³•print(\"MyClass ç±»çš„å±æ€§ i ä¸ºï¼š\", x.i)print(\"MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š\", x.f()) ç±»çš„å±æ€§æ–¹æ³•å±æ€§å°±ç±»ä¼¼äºC++ä¸­ç±»çš„æˆå‘˜å˜é‡ï¼Œæœ‰ç§æœ‰æœ‰å…±æœ‰ã€‚pythonä¹Ÿæ˜¯ä¸€æ ·ã€‚ç§æœ‰å±æ€§ç§æœ‰å±æ€§å˜é‡å‰é¢æœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿ã€‚ä¾‹å¦‚__countä»£è¡¨ä¸€ä¸ªç§æœ‰æˆå‘˜ã€‚å…¬æœ‰å±æ€§æ²¡æœ‰å‰ç½®ä¸‹åˆ’çº¿ã€‚ä¾‹å¦‚countã€aã€‚123class People: __age = 12#ç§æœ‰æˆå‘˜ name = \"Jack\"#å…¬æœ‰æˆå‘˜ æ–¹æ³•ç±»ä¼¼äºC++ä¸­çš„å‡½æ•°ã€‚pythonçš„æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªselfä»£è¡¨æŸä¸ªç±»ï¼Œè°ƒç”¨çš„æ—¶å€™A.function1(b,c)å…¶ä¸­Aå°±æ˜¯å“ªä¸ªselfæ— éœ€åœ¨æ‹¬å·é‡Œä¼ å€¼ã€‚å¦‚ä¸‹ä¾‹å­å®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ä¸€ä¸ªæ—¶getnameä¸€ä¸ªæ—¶setnameï¼Œgetnameè®¾ç½®å‚æ•°ä¸ºselfï¼Œè°ƒç”¨æ—¶ç›´æ¥A.get_name()å°±èƒ½è·å–åˆ°å®ƒçš„å¹´é¾„ï¼Œå‡½æ•°ä½“é‡Œé¢æ”¹å˜æˆå‘˜å˜é‡ç”¨self.nameå³å¯ã€‚ 123456789class People: __age = 12#ç§æœ‰æˆå‘˜ name = \"Jack\"#å…¬æœ‰æˆå‘˜ def get_name(self): return self.name def set_name(self,str): self.name = strPeople AA.name() ç§æœ‰æ–¹æ³•private_methodï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥æ–¹æ³•ä¸ºç§æœ‰æ–¹æ³•ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è°ƒç”¨ã€‚self.private_methodsã€‚ ä¸“ç”¨æ–¹æ³•åœ¨ç±»ä¸­æœ‰ä¸€ç³»åˆ—ä¸“ç”¨æ–¹æ³•ï¼Œä¸€èˆ¬çš„ç±»éƒ½ä¼šæœ‰çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç±»ç‰¹æœ‰çš„æ–¹æ³•ï¼Œä¸€èˆ¬ç”¨åˆ°æ¯”è¾ƒå¤šçš„æ—¶æ„é€ å‡½æ•°initï¼Œåœ¨c++ä¸­ä¹Ÿæœ‰ï¼Œåšåˆå§‹åŒ–å¤„ç†ã€‚å†æœ‰å°±æ˜¯æ‰“å°å‡½æ•°ç”¨æ¥æ‰“å°ç»“æœreprã€‚è¿™äº›å‡½æ•°æˆ‘ä»¬éƒ½å¯ä»¥é‡æ–°æ„é€ ã€‚ __init : æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨__del : ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨__repr : æ‰“å°ï¼Œè½¬æ¢__setitem : æŒ‰ç…§ç´¢å¼•èµ‹å€¼__getitem: æŒ‰ç…§ç´¢å¼•è·å–å€¼__len: è·å¾—é•¿åº¦__cmp: æ¯”è¾ƒè¿ç®—__call: å‡½æ•°è°ƒç”¨__add: åŠ è¿ç®—__sub: å‡è¿ç®—__mul: ä¹˜è¿ç®—__truediv: é™¤è¿ç®—__mod: æ±‚ä½™è¿ç®—__pow: ä¹˜æ–¹ ç»§æ‰¿ç»§æ‰¿ä¹Ÿæ˜¯ç±»ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œåœ¨å¼€å‘ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç±»Aï¼Œç„¶ååˆæƒ³æ–°å»ºç«‹å¦å¤–ä¸€ä¸ªç±»Bï¼Œä½†æ˜¯ç±»Bçš„å¤§éƒ¨åˆ†å†…å®¹ä¸ç±»Açš„ç›¸åŒæ—¶æˆ‘ä»¬ä¸å¯èƒ½ä»å¤´å¼€å§‹å†™ä¸€ä¸ªç±»Bï¼Œè¿™å°±ç”¨åˆ°äº†ç±»çš„ç»§æ‰¿çš„æ¦‚å¿µã€‚é€šè¿‡ç»§æ‰¿çš„æ–¹å¼æ–°å»ºç±»Bï¼Œè®©Bç»§æ‰¿Aï¼ŒBä¼šâ€˜é—ä¼ â€™Açš„æ‰€æœ‰å±æ€§(æ•°æ®å±æ€§å’Œå‡½æ•°å±æ€§)ï¼Œå®ç°ä»£ç é‡ç”¨pythonä¹Ÿæœ‰ç»§æ‰¿è¿™ä¸ªè§„åˆ™ 123456class DerivedClassName(BaseClassName1): &lt;statement-1&gt; . . . &lt;statement-N&gt; åœ¨å­ç±»ä¸­å¯ä»¥é‡å†™æ–¹æ³•ï¼Œåˆ™è°ƒç”¨å­—ç±»æ—¶è¿è¡Œå­—ç±»çš„æ–°æ–¹æ³•ã€‚ å°è£…å°è£…ä¸æ‰©å±•æ€§å°è£…åœ¨äºæ˜ç¡®åŒºåˆ†å†…å¤–ï¼Œä½¿å¾—ç±»å®ç°è€…å¯ä»¥ä¿®æ”¹å°è£…å†…çš„ä¸œè¥¿è€Œä¸å½±å“å¤–éƒ¨è°ƒç”¨è€…çš„ä»£ç ï¼›è€Œå¤–éƒ¨ä½¿ç”¨ç”¨è€…åªçŸ¥é“ä¸€ä¸ªæ¥å£(å‡½æ•°)ï¼Œåªè¦æ¥å£ï¼ˆå‡½æ•°ï¼‰åã€å‚æ•°ä¸å˜ï¼Œä½¿ç”¨è€…çš„ä»£ç æ°¸è¿œæ— éœ€æ”¹å˜ã€‚è¿™å°±æä¾›ä¸€ä¸ªè‰¯å¥½çš„åˆä½œåŸºç¡€â€”â€”æˆ–è€…è¯´ï¼Œåªè¦æ¥å£è¿™ä¸ªåŸºç¡€çº¦å®šä¸å˜ï¼Œåˆ™ä»£ç æ”¹å˜ä¸è¶³ä¸ºè™‘ã€‚ å¤šæ€å¤šæ€æŒ‡çš„æ˜¯ä¸€ç±»äº‹ç‰©æœ‰å¤šç§å½¢æ€ åŠ¨ç‰©æœ‰å¤šç§å½¢æ€ï¼šäººï¼Œç‹—ï¼ŒçŒª ï¼ˆé™„å½•ï¼‰é¢å‘å¯¹è±¡å¸¸ç”¨æœ¯è¯­æŠ½è±¡/å®ç° æŠ½è±¡æŒ‡å¯¹ç°å®ä¸–ç•Œé—®é¢˜å’Œå®ä½“çš„æœ¬è´¨è¡¨ç°,è¡Œä¸ºå’Œç‰¹å¾å»ºæ¨¡,å»ºç«‹ä¸€ä¸ªç›¸å…³çš„å­é›†,å¯ä»¥ç”¨äº ç»˜ç¨‹åºç»“æ„,ä»è€Œå®ç°è¿™ç§æ¨¡å‹ã€‚æŠ½è±¡ä¸ä»…åŒ…æ‹¬è¿™ç§æ¨¡å‹çš„æ•°æ®å±æ€§,è¿˜å®šä¹‰äº†è¿™äº›æ•°æ®çš„æ¥å£ã€‚ å¯¹æŸç§æŠ½è±¡çš„å®ç°å°±æ˜¯å¯¹æ­¤æ•°æ®åŠä¸ä¹‹ç›¸å…³æ¥å£çš„ç°å®åŒ–(realization)ã€‚ç°å®åŒ–è¿™ä¸ªè¿‡ç¨‹å¯¹äºå®¢æˆ· ç¨‹åºåº”å½“æ˜¯é€æ˜è€Œä¸”æ— å…³çš„ã€‚ å°è£…/æ¥å£ å°è£…æè¿°äº†å¯¹æ•°æ®/ä¿¡æ¯è¿›è¡Œéšè—çš„è§‚å¿µ,å®ƒå¯¹æ•°æ®å±æ€§æä¾›æ¥å£å’Œè®¿é—®å‡½æ•°ã€‚é€šè¿‡ä»»ä½•å®¢æˆ·ç«¯ç›´æ¥å¯¹æ•°æ®çš„è®¿é—®,æ— è§†æ¥å£,ä¸å°è£…æ€§éƒ½æ˜¯èƒŒé“è€Œé©°çš„,é™¤éç¨‹åºå‘˜å…è®¸è¿™äº›æ“ä½œã€‚ä½œä¸ºå®ç°çš„ ä¸€éƒ¨åˆ†,å®¢æˆ·ç«¯æ ¹æœ¬å°±ä¸éœ€è¦çŸ¥é“åœ¨å°è£…ä¹‹å,æ•°æ®å±æ€§æ˜¯å¦‚ä½•ç»„ç»‡çš„ã€‚åœ¨Pythonä¸­,æ‰€æœ‰çš„ç±»å±æ€§éƒ½æ˜¯å…¬å¼€çš„,ä½†åå­—å¯èƒ½è¢«â€œæ··æ·†â€äº†,ä»¥é˜»æ­¢æœªç»æˆæƒçš„è®¿é—®,ä½†ä»…æ­¤è€Œå·²,å†æ²¡æœ‰å…¶ä»–é¢„é˜²æªæ–½äº†ã€‚è¿™å°±éœ€è¦åœ¨è®¾è®¡æ—¶,å¯¹æ•°æ®æä¾›ç›¸åº”çš„æ¥å£,ä»¥å…å®¢æˆ·ç¨‹åºé€šè¿‡ä¸è§„èŒƒçš„æ“ä½œæ¥å­˜å–å°è£…çš„æ•°æ®å±æ€§ã€‚ æ³¨æ„ï¼šå°è£…ç»ä¸æ˜¯ç­‰äºâ€œæŠŠä¸æƒ³è®©åˆ«äººçœ‹åˆ°ã€ä»¥åå¯èƒ½ä¿®æ”¹çš„ä¸œè¥¿ç”¨privateéšè—èµ·æ¥â€ çœŸæ­£çš„å°è£…æ˜¯ï¼Œç»è¿‡æ·±å…¥çš„æ€è€ƒï¼Œåšå‡ºè‰¯å¥½çš„æŠ½è±¡ï¼Œç»™å‡ºâ€œå®Œæ•´ä¸”æœ€å°â€çš„æ¥å£ï¼Œå¹¶ä½¿å¾—å†…éƒ¨ç»†èŠ‚å¯ä»¥å¯¹å¤–é€æ˜ ï¼ˆæ³¨æ„ï¼šå¯¹å¤–é€æ˜çš„æ„æ€æ˜¯ï¼Œå¤–éƒ¨è°ƒç”¨è€…å¯ä»¥é¡ºåˆ©çš„å¾—åˆ°è‡ªå·±æƒ³è¦çš„ä»»ä½•åŠŸèƒ½ï¼Œå®Œå…¨æ„è¯†ä¸åˆ°å†…éƒ¨ç»†èŠ‚çš„å­˜åœ¨ï¼‰ åˆæˆ åˆæˆæ‰©å……äº†å¯¹ç±»çš„ è¿°,ä½¿å¾—å¤šä¸ªä¸åŒçš„ç±»åˆæˆä¸ºä¸€ä¸ªå¤§çš„ç±»,æ¥è§£å†³ç°å®é—®é¢˜ã€‚åˆæˆ è¿°äº† ä¸€ä¸ªå¼‚å¸¸å¤æ‚çš„ç³»ç»Ÿ,æ¯”å¦‚ä¸€ä¸ªç±»ç”±å…¶å®ƒç±»ç»„æˆ,æ›´å°çš„ç»„ä»¶ä¹Ÿå¯èƒ½æ˜¯å…¶å®ƒçš„ç±»,æ•°æ®å±æ€§åŠè¡Œä¸º, æ‰€æœ‰è¿™äº›åˆåœ¨ä¸€èµ·,å½¼æ­¤æ˜¯â€œæœ‰ä¸€ä¸ªâ€çš„å…³ç³»ã€‚ æ´¾ç”Ÿ/ç»§æ‰¿/ç»§æ‰¿ç»“æ„ æ´¾ç”Ÿæè¿°äº†å­ç±»è¡ç”Ÿå‡ºæ–°çš„ç‰¹æ€§,æ–°ç±»ä¿ç•™å·²å­˜ç±»ç±»å‹ä¸­æ‰€æœ‰éœ€è¦çš„æ•°æ®å’Œè¡Œä¸º,ä½†å…è®¸ä¿®æ”¹æˆ–è€…å…¶å®ƒçš„è‡ªå®šä¹‰æ“ä½œ,éƒ½ä¸ä¼šä¿®æ”¹åŸç±»çš„å®šä¹‰ã€‚ç»§æ‰¿æè¿°äº†å­ç±»å±æ€§ä»ç¥–å…ˆç±»ç»§æ‰¿è¿™æ ·ä¸€ç§æ–¹å¼ç»§æ‰¿ç»“æ„è¡¨ç¤ºå¤šâ€œä»£â€æ´¾ç”Ÿ,å¯ä»¥è¿°æˆä¸€ä¸ªâ€œæ—è°±â€,è¿ç»­çš„å­ç±»,ä¸ç¥–å…ˆç±»éƒ½æœ‰å…³ç³»ã€‚ æ³›åŒ–/ç‰¹åŒ– åŸºäºç»§æ‰¿æ³›åŒ–è¡¨ç¤ºæ‰€æœ‰å­ç±»ä¸å…¶çˆ¶ç±»åŠç¥–å…ˆç±»æœ‰ä¸€æ ·çš„ç‰¹ç‚¹ã€‚ç‰¹åŒ–æè¿°æ‰€æœ‰å­ç±»çš„è‡ªå®šä¹‰,ä¹Ÿå°±æ˜¯,ä»€ä¹ˆå±æ€§è®©å®ƒä¸å…¶ç¥–å…ˆç±»ä¸åŒã€‚ å¤šæ€ä¸å¤šæ€æ€§ å¤šæ€æŒ‡çš„æ˜¯åŒä¸€ç§äº‹ç‰©çš„å¤šç§çŠ¶æ€ï¼šæ°´è¿™ç§äº‹ç‰©æœ‰å¤šç§ä¸åŒçš„çŠ¶æ€ï¼šå†°ï¼Œæ°´è’¸æ°” å¤šæ€æ€§çš„æ¦‚å¿µæŒ‡å‡ºäº†å¯¹è±¡å¦‚ä½•é€šè¿‡ä»–ä»¬å…±åŒçš„å±æ€§å’ŒåŠ¨ä½œæ¥æ“ä½œåŠè®¿é—®,è€Œä¸éœ€è€ƒè™‘ä»–ä»¬å…·ä½“çš„ç±»ã€‚ å†°ï¼Œæ°´è’¸æ°”ï¼Œéƒ½ç»§æ‰¿äºæ°´ï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ªåŒåçš„æ–¹æ³•å°±æ˜¯å˜æˆäº‘ï¼Œä½†æ˜¯å†°.å˜äº‘(),ä¸æ°´è’¸æ°”.å˜äº‘()æ˜¯æˆªç„¶ä¸åŒçš„è¿‡ç¨‹ï¼Œè™½ç„¶è°ƒç”¨çš„æ–¹æ³•éƒ½ä¸€æ · è‡ªçœ/åå°„ è‡ªçœä¹Ÿç§°ä½œåå°„ï¼Œè¿™ä¸ªæ€§è´¨å±•ç¤ºäº†æŸå¯¹è±¡æ˜¯å¦‚ä½•åœ¨è¿è¡ŒæœŸå–å¾—è‡ªèº«ä¿¡æ¯çš„ã€‚å¦‚æœä¼ ä¸€ä¸ªå¯¹è±¡ç»™ä½ ,ä½ å¯ä»¥æŸ¥å‡ºå®ƒæœ‰ä»€ä¹ˆèƒ½åŠ›,è¿™æ˜¯ä¸€é¡¹å¼ºå¤§çš„ç‰¹æ€§ã€‚å¦‚æœPythonä¸æ”¯æŒæŸç§å½¢å¼çš„è‡ªçœåŠŸèƒ½,dirå’Œtypeå†…å»ºå‡½æ•°,å°†å¾ˆéš¾æ­£å¸¸å·¥ä½œã€‚è¿˜æœ‰é‚£äº›ç‰¹æ®Šå±æ€§,åƒdict,nameåŠdoc å‚è€ƒæ–‡çŒ®[1]èœé¸Ÿæ•™ç¨‹é¢å‘å¯¹è±¡http://www.runoob.com/python3/python3-class.html[2]é¢å‘å¯¹è±¡ä»‹ç»https://www.cnblogs.com/wangmo/p/7751199.html","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[]},{"title":"PythonåŸºç¡€å­¦ä¹ ï¼ˆäºŒï¼‰é”™è¯¯ä¸å¼‚å¸¸","slug":"PythonåŸºç¡€å­¦ä¹ ï¼ˆäºŒï¼‰é”™è¯¯ä¸å¼‚å¸¸","date":"2019-04-16T03:27:58.000Z","updated":"2019-11-22T17:02:48.874Z","comments":true,"path":"2019/04/16/PythonåŸºç¡€å­¦ä¹ ï¼ˆäºŒï¼‰é”™è¯¯ä¸å¼‚å¸¸/","link":"","permalink":"http://www.cloudcver.com/2019/04/16/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/","excerpt":"æœ¬èŠ‚ä»‹ç»ä»¥ä¸‹pythonä¸­çš„é”™è¯¯ä¸å¼‚å¸¸ï¼Œä»¥åŠå­¦ä¼šå¦‚ä½•å»è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ï¼Œè¿™æ ·æœ‰åŠ©äºæˆ‘ä»¬ä¹‹åçš„è°ƒè¯•ã€‚","text":"æœ¬èŠ‚ä»‹ç»ä»¥ä¸‹pythonä¸­çš„é”™è¯¯ä¸å¼‚å¸¸ï¼Œä»¥åŠå­¦ä¼šå¦‚ä½•å»è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ï¼Œè¿™æ ·æœ‰åŠ©äºæˆ‘ä»¬ä¹‹åçš„è°ƒè¯•ã€‚ é”™è¯¯ä¸å¼‚å¸¸åœ¨ç¼–å†™ç¨‹åºæ—¶å¯èƒ½ä¼šå‡ºç°ä¸€äº›è¯­æ³•é”™è¯¯ï¼Œè¿™æ—¶ç³»ç»Ÿä¼šæç¤ºè¯­æ³•é”™è¯¯ï¼Œæ¯”å¦‚ç±»å‹é”™è¯¯ï¼Œæ— æ•ˆå‚æ•°ç­‰ï¼Œå¦‚ä¸‹ç»™å‡ºä¸€ä¸ªä¾‹å­ï¼š 12345&gt;&gt;&gt;while True print('Hello world') File \"&lt;stdin&gt;\", line 1, in ? while True print('Hello world') ^SyntaxError: invalid syntax åœ¨è¿è¡Œæ—¶æœ‰æ—¶ä¼šå‘ç”Ÿä¸€äº›å¼‚å¸¸ï¼Œæ¯”å¦‚åˆ†æ¯ä½œä¸º0äº†ï¼Œä»¥ä¸‹ç»™å‡ºä¸€ä¸ªæŠ›å‡ºå¼‚å¸¸çš„ä¾‹å­ï¼š 1234&gt;&gt;&gt;10 * (1/0)Traceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in ?ZeroDivisionError: division by zero å¸¸è§çš„é”™è¯¯åŠå¼‚å¸¸å…³é”®è¯å¦‚ä¸‹ï¼š KeyboardInterrupt ç”¨æˆ·ä¸­æ–­æ‰§è¡Œ(é€šå¸¸æ˜¯è¾“å…¥^C)Exception å¸¸è§„é”™è¯¯çš„åŸºç±»StopIteration è¿­ä»£å™¨æ²¡æœ‰æ›´å¤šçš„å€¼GeneratorExit ç”Ÿæˆå™¨(generator)å‘ç”Ÿå¼‚å¸¸æ¥é€šçŸ¥é€€å‡ºStandardError æ‰€æœ‰çš„å†…å»ºæ ‡å‡†å¼‚å¸¸çš„åŸºç±»FloatingPointError æµ®ç‚¹è®¡ç®—é”™è¯¯OverflowError æ•°å€¼è¿ç®—è¶…å‡ºæœ€å¤§é™åˆ¶ZeroDivisionError é™¤(æˆ–å–æ¨¡)é›¶ (æ‰€æœ‰æ•°æ®ç±»å‹)SyntaxError Python è¯­æ³•é”™è¯¯TypeError å¯¹ç±»å‹æ— æ•ˆçš„æ“ä½œValueError ä¼ å…¥æ— æ•ˆçš„å‚æ•° å¼‚å¸¸å¤„ç†æœ‰æ—¶ï¼Œå¯¹äºå¼‚å¸¸æˆ‘ä»¬å¯ä»¥åŠ ä»¥é™åˆ¶ï¼Œæ¯”å¦‚éœ€è¦ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•°ï¼Œä½†æ˜¯ç”¨æˆ·è¾“å…¥é”™è¯¯ï¼ŒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œç³»ç»Ÿå¯èƒ½ä¸­æ–­ï¼Œä½†è¿™é‡Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€ä¸ªå¼‚å¸¸å¤„ç†ï¼Œå½“æŠ›å‡ºå¼‚å¸¸æ—¶é‡æ–°è®©ç”¨æˆ·è¾“å…¥ä¿¡æ¯å¹¶ç»™ä¸æç¤ºã€‚ è¿™é‡Œå°±ç”¨åˆ°tryè¯­å¥ï¼Œä»–å¯ä»¥å°è¯•æ‰§è¡Œä¸€å¥è¯å¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™æ ¹æ®å…¶å¼‚å¸¸çš„ç±»åˆ«ä¸åŒæ‰§è¡Œä¸åŒçš„è¯­å¥ã€‚å¦‚ä¸‹æ‰€ç¤º 12345678try:&lt;è¯­å¥&gt; #è¿è¡Œä»£ç except &lt;å¼‚å¸¸åå­—1&gt;ï¼š&lt;è¯­å¥&gt; #å¦‚æœåœ¨tryä»£ç å¼•å‘äº†'å¼‚å¸¸åå­—1'å¼‚å¸¸ï¼Œåˆ™æ‰§è¡Œè¿™æ¡è¯­å¥except &lt;å¼‚å¸¸åå­—2&gt;ï¼Œ&lt;æ•°æ®&gt;:&lt;è¯­å¥&gt; #å¦‚æœå¼•å‘äº†'å¼‚å¸¸åå­—2'å¼‚å¸¸ï¼Œå¹¶ä¸”è·å¾—é™„åŠ çš„æ•°æ®else:&lt;è¯­å¥&gt; #å¦‚æœæ²¡æœ‰å¼‚å¸¸å‘ç”Ÿ å¦å¤–è¿™é‡Œä¹Ÿå¯ä»¥ä¸å¸¦å¼‚å¸¸åå­—ï¼Œç›´æ¥å‘ç”Ÿå¼‚å¸¸åæ‰§è¡Œä¸€æ®µä»£ç ã€‚ ä¸‹é¢ç»™å‡ºä¸€ä¸ªè®©ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ•°å­—çš„ä»£ç ï¼Œè¿™é‡Œæœ‰ä¸ªå¼ºåˆ¶è½¬æ¢ï¼Œå¦‚æœè½¬æ¢å¤±è´¥åº”è¯¥ä¼šæŠ¥å‡ºvalueerroråˆ™æ‰“å°è¾“å…¥é”™è¯¯ã€‚123456while True: try: x = int(input(\"Please enter a number: \")) break except ValueError: print(\"Oops! That was no valid number. Try again \") æŠ›å‡ºå¼‚å¸¸ä¸Šè¿°ä¸ºæ£€æµ‹ä¸€ä¸ªå¼‚å¸¸çš„åšæ³•ï¼Œåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªä¸»çš„æŠ›å‡ºå¼‚å¸¸ï¼Œæ¯”å¦‚æ‰§è¡Œåˆ°æŸæ®µç¨‹åºï¼Œæˆ‘ä»¬å»æµ‹ä¸€ä¸‹æ˜¯å¦å¦‚æˆ‘ä»¬æ‰€æƒ³åƒï¼Œå¦‚æœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„å°±è®©ä»–æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚ 1234&gt;&gt;&gt;raise NameError('HiThere')Traceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in ?NameError: HiThere raise å”¯ä¸€çš„ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†è¦è¢«æŠ›å‡ºçš„å¼‚å¸¸ã€‚å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå¼‚å¸¸çš„å®ä¾‹æˆ–è€…æ˜¯å¼‚å¸¸çš„ç±»ï¼ˆä¹Ÿå°±æ˜¯ Exception çš„å­ç±»ï¼‰ã€‚ å¦‚æœä½ åªæƒ³çŸ¥é“è¿™æ˜¯å¦æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸ï¼Œå¹¶ä¸æƒ³å»å¤„ç†å®ƒï¼Œé‚£ä¹ˆä¸€ä¸ªç®€å•çš„ raise è¯­å¥å°±å¯ä»¥å†æ¬¡æŠŠå®ƒæŠ›å‡ºã€‚ 12345678910&gt;&gt;&gt;try: raise NameError('HiThere') except NameError: print('An exception flew by!') raise An exception flew by!Traceback (most recent call last): File \"&lt;stdin&gt;\", line 2, in ?NameError: HiThere è‡ªå®šä¹‰å¼‚å¸¸ç±»æˆ‘ä»¬ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„å¼‚å¸¸ç±»ï¼Œå…¶ä½œä¸ºExceptionçš„ç±»çš„ç»§æ‰¿ï¼Œå¯ä»¥è®¾ç½®å‚æ•°ã€‚ 12345class MyError(Exception): def __init__(self, value): self.value = value def __str__(self): return repr(self.value) å‚è€ƒæ–‡çŒ®[1]èœé¸Ÿæ•™ç¨‹python3é”™è¯¯ä¸å¼‚å¸¸http://www.runoob.com/python3/python3-errors-execptions.html","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[]},{"title":"PythonåŸºç¡€å­¦ä¹ ï¼ˆä¸€ï¼‰åŸºæœ¬è¯­æ³•","slug":"PythonåŸºç¡€å­¦ä¹ ï¼ˆä¸€ï¼‰åŸºæœ¬è¯­æ³•","date":"2019-04-12T03:09:12.000Z","updated":"2019-11-23T08:55:10.533Z","comments":true,"path":"2019/04/12/PythonåŸºç¡€å­¦ä¹ ï¼ˆä¸€ï¼‰åŸºæœ¬è¯­æ³•/","link":"","permalink":"http://www.cloudcver.com/2019/04/12/Python%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/","excerpt":"æ¦‚è¿°å­¦ä¹ ä¸€é—¨è¯­è¨€éƒ½è¦æœ‰ä¸€ä¸ªhelloworldï¼Œéƒ½è¦äº†è§£æœ€åŸºç¡€çš„è¾“å…¥è¾“å‡ºã€æ³¨é‡Šã€å˜é‡ç±»å‹ç­‰åŸºæœ¬çš„è¯­æ³•ï¼Œå¯¹äºå…¶ä»–çš„è¯­æ³•éƒ½æ˜¯paper tigerã€‚è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥ç…ç…~~","text":"æ¦‚è¿°å­¦ä¹ ä¸€é—¨è¯­è¨€éƒ½è¦æœ‰ä¸€ä¸ªhelloworldï¼Œéƒ½è¦äº†è§£æœ€åŸºç¡€çš„è¾“å…¥è¾“å‡ºã€æ³¨é‡Šã€å˜é‡ç±»å‹ç­‰åŸºæœ¬çš„è¯­æ³•ï¼Œå¯¹äºå…¶ä»–çš„è¯­æ³•éƒ½æ˜¯paper tigerã€‚è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥ç…ç…~~ PythonåŸºç¡€å­¦ä¹ ï¼ˆä¸€ï¼‰åŸºæœ¬è¯­æ³•å­¦ä¹ ä¸€é—¨è¯­è¨€éƒ½è¦æœ‰ä¸€ä¸ªhelloworldï¼Œéƒ½è¦äº†è§£æœ€åŸºç¡€çš„è¾“å…¥è¾“å‡ºã€æ³¨é‡Šã€å˜é‡ç±»å‹ç­‰åŸºæœ¬çš„è¯­æ³•ï¼Œå¯¹äºå…¶ä»–çš„è¯­æ³•éƒ½æ˜¯paper tigerã€‚è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥ç…ç…~~ ç‰¹ç‚¹1ã€ç¼–ç¨‹è§„èŒƒæ€§pythonè¯­è¨€ä¸ä¹‹å‰çš„Cè¯­è¨€ã€CPPè¯­è¨€æœ€ç›´è§‚çš„è¡¨ç°åœ¨äºå…¶æ²¡æœ‰åˆ†å·ï¼Œå®ƒä»¥ç¼©è¿›ï¼Œå¯¹é½æ¥å®ç°å…¶ç»“æ„ï¼Œæ‰€ä»¥pythonå¯¹ç¼–ç¨‹çš„è§„èŒƒè¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¦‚ä¸‹æˆ‘ä»¬å±•ç¤ºpythonçš„ä¸€æ®µç¼–ç¨‹ã€‚forï¼Œifç­‰ä»¥å†’å·ä»£æ›¿èŠ±æ‹¬å·ï¼›123for it in range(9): print(it)print(\"end\")2ã€æ²¡æœ‰ä¸»å‡½æ•°å¦‚ä¸Šæ‰€ç¤ºï¼Œå†™ä¸‹çš„ä»£ç éƒ½å¯ä»¥è¿è¡Œï¼Œæ— éœ€æ‰ä¸»å‡½æ•°ã€‚ 3ã€è¯­å¥å¤ªé•¿ï¼Œæ¢è¡Œè¯­å¥å¤ªé•¿å¯ä»¥ç”¨ \\ åæ–œæ æ¢è¡Œï¼Œå¦‚ä¸‹ï¼š 1234567for (x,y,w,h) in faces: img3 = cv.rectangle(img1,(x,y),(x+w,y+w),(255,0,0),2) img4 = cv.putText(img3,'prepare %s picture'\\ #è¿™é‡Œæ¢è¡Œ %str(count+1),(20,80),\\#è¿™é‡Œæ¢è¡Œ cv.FONT_HERSHEY_PLAIN,2,(255,0,0)) f = cv.resize(img2[y:y+h,x:x+w],(200,200)) cv.imshow('13',img4) æ‰“å°å‡½æ•°printå‡½æ•°æ˜¯æœ€åŸºæœ¬çš„åº”ç”¨ï¼Œpython3ä¸­æœ‰æ‹¬å·ï¼Œpython2ä¸­æ²¡æœ‰æ‹¬å·ã€‚ 1print(&quot;hello,world!&quot;) æ³¨é‡Špythonçš„æ³¨é‡Šç”¨#è¡¨ç¤ºï¼Œå¦‚æœå¯¹å¤šè¡Œæ³¨é‡Šçš„è¯ï¼Œå¯ä»¥ç”¨â€™â€™â€™åœ¨ä¸¤ä¸ªâ€™â€™â€™ä¹‹é—´çš„è¢«æ³¨é‡Šæ‰ã€‚å¦å¤–ä¹Ÿå¯ä»¥æ”¹ä¸ºâ€â€â€ä¸‰ä¸ªåŒå¼•å·ã€‚ 123456789'''æœ¬æ¡ˆä¾‹ç”¨æ¥è¯´æ˜æ³¨é‡Šçš„ä½œç”¨ã€‚'''for it in range(9):#å¾ªç¯ä¹æ¬¡ print(it)#æ‰“å°itprint(\"end\")\"\"\"ç¨‹åºç»“æŸ\"\"\" æ•°å­—ç±»å‹pythonä¸­æ•°å­—æœ‰å››ç§ç±»å‹ï¼šæ•´æ•°ã€å¸ƒå°”å‹ã€æµ®ç‚¹æ•°å’Œå¤æ•°ã€‚int (æ•´æ•°), å¦‚ 1bool (å¸ƒå°”), å¦‚ Trueã€‚float (æµ®ç‚¹æ•°), å¦‚ 1.23ã€3E-2complex (å¤æ•°), å¦‚ 1 + 2jã€ 1.1 + 2.2j è¾“å…¥è¾“å‡ºè¯»å–é”®ç›˜è¾“å…¥è¯»å–é”®ç›˜è¾“å…¥å¯ä»¥ç”¨inputè¯­å¥ 12str1 = input(\"è¯·è¾“å…¥å­—ç¬¦ä¸²\")print(str1) å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡ºç±»ä¼¼äºCè¯­è¨€çš„æ ¼å¼åŒ–è¾“å‡ºã€‚ç”¨printæ‰“å°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥åœ¨åé¢è·Ÿä¸Š%ï¼Œåé¢å­˜å…¥å‰é¢%å¯¹åº”çš„å˜é‡ã€‚12345a = 3.1415926b = 1c = 1.21print('å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸ºï¼š%5.3fã€‚' %a)print('b = %d,c = %.1f' %(b,c))æ³¨æ„ï¼šå…¶ä¸­æ ¼å¼åŒ–è¾“å‡ºç¬¦å·å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œå¦å¤–.1ä»£è¡¨ä¿ç•™ä¸€ä½å°æ•°ã€‚5.3ä»£è¡¨è‡³å°‘å 5ä¸ªå­—ç¬¦3ä½å°æ•°ã€‚æ–°ç‰ˆæ ¼å¼åŒ–è¾“å‡ºæ–°ç‰ˆæ ¼å¼åŒ–è¾“å‡ºç±»ä¼¼ï¼Œé‡‡ç”¨{}è¡¨ç¤ºä¸€ä¸ªå­—æ®µï¼Œç”¨.format()çš„å‚æ•°æ›¿ä»£.ä¸¾ä¾‹ï¼š 123456&gt;&gt;&gt; print('&#123;&#125;ç½‘å€ï¼š \"&#123;&#125;!\"'.format('èœé¸Ÿæ•™ç¨‹', 'www.runoob.com'))èœé¸Ÿæ•™ç¨‹ç½‘å€ï¼š \"www.runoob.com!\"&gt;&gt;&gt; print('&#123;0&#125; å’Œ &#123;1&#125;'.format('Google', 'Runoob'))Google å’Œ Runoob&gt;&gt;&gt; print('&#123;1&#125; å’Œ &#123;0&#125;'.format('Google', 'Runoob'))Runoob å’Œ Google ä¹Ÿå¯ä»¥åœ¨{}ä¸­åŠ å…¥å…³é”®å­— 123&gt;&gt;&gt; print('ç«™ç‚¹åˆ—è¡¨ &#123;0&#125;, &#123;1&#125;, å’Œ &#123;other&#125;ã€‚'.format('Google',\\&gt;'Runoob',other='Taobao'))ç«™ç‚¹åˆ—è¡¨ Google, Runoob, å’Œ Taobaoã€‚ å¯é€‰é¡¹ â€˜:â€™ å’Œæ ¼å¼æ ‡è¯†ç¬¦å¯ä»¥è·Ÿç€å­—æ®µåã€‚ è¿™å°±å…è®¸å¯¹å€¼è¿›è¡Œæ›´å¥½çš„æ ¼å¼åŒ–ã€‚ ä¸‹é¢çš„ä¾‹å­å°† Pi ä¿ç•™åˆ°å°æ•°ç‚¹åä¸‰ä½ï¼š12345a = 3.1415926b = 1c = 1.21print('å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸ºï¼š&#123;0:.3f&#125;'.format(a))print('b = %d,c = %.1f' %(b,c))å¦‚æœä½ æœ‰ä¸€ä¸ªå¾ˆé•¿çš„æ ¼å¼åŒ–å­—ç¬¦ä¸², è€Œä½ ä¸æƒ³å°†å®ƒä»¬åˆ†å¼€, é‚£ä¹ˆåœ¨æ ¼å¼åŒ–æ—¶é€šè¿‡å˜é‡åè€Œéä½ç½®ä¼šæ˜¯å¾ˆå¥½çš„äº‹æƒ…ã€‚ æœ€ç®€å•çš„å°±æ˜¯ä¼ å…¥ä¸€ä¸ªå­—å…¸, ç„¶åä½¿ç”¨æ–¹æ‹¬å· â€˜[]â€™ æ¥è®¿é—®é”®å€¼ :123&gt;&gt;&gt; table = &#123;'Google': 1, 'Runoob': 2, 'Taobao': 3&#125;&gt;&gt;&gt; print('Runoob: &#123;0[Runoob]:d&#125;; Google: &#123;0[Google]:d&#125;; Taobao: &#123;0[Taobao]:d&#125;'.format(table))Runoob: 2; Google: 1; Taobao: 3 å¯¼å…¥åº“pythonå¯ä»¥å¯¼å…¥è‡ªå¸¦åº“æˆ–è€…è‡ªå·±å†™çš„åº“ï¼Œç”¨åˆ°importè¯­å¥ã€‚å°†æ•´ä¸ªæ¨¡å—(somemodule)å¯¼å…¥ï¼Œæ ¼å¼ä¸ºï¼š import somemoduleä»æŸä¸ªæ¨¡å—ä¸­å¯¼å…¥æŸä¸ªå‡½æ•°æˆ–è€…æŸä¸ªç±»ï¼Œæ ¼å¼ä¸ºï¼š from somemodule import somefunctionä»æŸä¸ªæ¨¡å—ä¸­å¯¼å…¥å¤šä¸ªå‡½æ•°æˆ–è€…å¤šä¸ªç±»ï¼Œæ ¼å¼ä¸ºï¼š from somemodule import firstfunc, secondfunc, thirdfuncå°†æŸä¸ªæ¨¡å—ä¸­çš„å…¨éƒ¨å‡½æ•°å¯¼å…¥ï¼Œæ ¼å¼ä¸ºï¼š from somemodule import * 12345import cv2 as cv #å¯¼å…¥CV2åº“å¹¶ç»™ä»–æ¢äº†ä¸ªåå­—import numpy as np import os,sysfrom CS231N_Data import load_CIFAR10#ä»æˆ‘çš„CS231N_Dataæ–‡ä»¶ä¸­å¯¼å…¥load_CIFAR10ç±»from neural_net import TwoLayerNet","categories":[{"name":"python","slug":"python","permalink":"http://www.cloudcver.com/categories/python/"}],"tags":[]},{"title":"ç‰æ¸Šæ½­æ¨±èŠ±ä¹‹æ—…","slug":"ç‰æ¸Šæ½­æ¨±èŠ±ä¹‹æ—…","date":"2019-03-18T03:25:09.000Z","updated":"2019-11-22T14:48:53.764Z","comments":true,"path":"2019/03/18/ç‰æ¸Šæ½­æ¨±èŠ±ä¹‹æ—…/","link":"","permalink":"http://www.cloudcver.com/2019/03/18/%E7%8E%89%E6%B8%8A%E6%BD%AD%E6%A8%B1%E8%8A%B1%E4%B9%8B%E6%97%85/","excerpt":"ä¸‰æœˆåˆæ˜¥åœ¨åŒ—äº¬å¾…çš„ç¬¬äºŒä¸ªæ˜¥å¤©ï¼Œæƒ³èµ·å»å¹´æˆ‘è¿˜åœ¨è€ƒç ”å¤è¯•ï¼Œå¦‚ä»Šå·²ç»åœ¨åŒ—äº¬å¾…äº†ä¸€å¹´äº†ï¼Œä»Šå¹´æ˜¥å¤©æ¥å¾—æ¯”è¾ƒæ—©ï¼Œç‰æ¸Šæ½­çš„æ¨±èŠ±åˆå¼€äº†ï¼Œè€å¸æœºå½“ç„¶è¦å»çœ‹çœ‹äº†ï¼ŒèµèŠ±æ˜¯æ¯å¹´ä¸èƒ½é”™è¿‡çš„èŠ‚ç›®ã€‚","text":"ä¸‰æœˆåˆæ˜¥åœ¨åŒ—äº¬å¾…çš„ç¬¬äºŒä¸ªæ˜¥å¤©ï¼Œæƒ³èµ·å»å¹´æˆ‘è¿˜åœ¨è€ƒç ”å¤è¯•ï¼Œå¦‚ä»Šå·²ç»åœ¨åŒ—äº¬å¾…äº†ä¸€å¹´äº†ï¼Œä»Šå¹´æ˜¥å¤©æ¥å¾—æ¯”è¾ƒæ—©ï¼Œç‰æ¸Šæ½­çš„æ¨±èŠ±åˆå¼€äº†ï¼Œè€å¸æœºå½“ç„¶è¦å»çœ‹çœ‹äº†ï¼ŒèµèŠ±æ˜¯æ¯å¹´ä¸èƒ½é”™è¿‡çš„èŠ‚ç›®ã€‚ä¸»æ¼”ï¼šğŸ§‘&amp;ğŸ‘©åœ°ç‚¹ï¼šç‰æ¸Šæ½­å…¬å›­ğŸŒ¸æ—¶é—´ï¼š2019.3.17 çº¿è·¯åœ°é“ï¼šæ¸…æ—©ä¹˜å2å·çº¿è½¬1å·çº¿å¯ä»¥åˆ°æœ¨æ¨¨åœ°ç«™ï¼Œä¸‹è½¦æ­¥è¡Œ800ç±³å¯ä»¥åˆ°è¾¾ä¸œé—¨ï¼Œæˆ–è€…åšåœ°é“4å·çº¿è½¬9å·çº¿å¯ä»¥åˆ°è¾¾ç™½å †å­ç«™ï¼Œä¸‹è½¦æ­¥è¡Œ600ç±³å¯ä»¥åˆ°è¾¾åŒ—é—¨ã€‚ å…¬äº¤ï¼šæ¯ä¸ªåœ°æ–¹ä¸ä¸€æ ·å“ˆï¼Œè‡ªå·±æ‰¾è·¯å§ çš‚ç‰‡å‘æ¥å›½äººæ—…æ¸¸å°±æ˜¯ç‰Œç…§ï¼Œå˜¿å˜¿ï¼Œå’±ä¹Ÿä¸ä¾‹å¤–ï¼Œæˆ‘ä»¬ä¿©è¯´æ˜¯æ¥è§‚æ™¯ï¼Œæ‹ç…§å€’æ˜¯æ¶ˆè€—äº†è®¸ä¹…ï¼Œå¯¹è¿™ä¸€ç‰‡ç«¹å­æ—ç…§äº†å¥½ä¹…~~ æ¡ƒèŠ±&amp;æ¨±èŠ±ç¯‡é¦–å…ˆï¼Œæ¥å‡ å¼ èŠ±ç…§ï¼Œä»Šå¤©è¿˜æ²¡æœ‰åˆ°èŠ±çš„æ—ºç››å­£èŠ‚ï¼Œäººæ¯”è¾ƒå°‘ï¼Œè¿˜æ¯”è¾ƒå¥½æ‹~è¿˜æœ‰äº›å«è‹æœªæ”¾çš„èŠ±éª¨æœµã€‚åœ¨æ¨±èŠ±ä¸‹å°‘ä¸äº†ä¸€å¼ åˆç…§æ¥è®°å½•~~ ç›¸æœºæ‘†æ‹ç¯‡ä¸€ç›´çœ‹ç½‘ä¸Šæœ‰ç›¸æœºæ‘†æ‹çš„ç…§ç‰‡ï¼Œä»Šå¤©è®©æˆ‘ä»¬ä¹Ÿæ¥ç©è€ä¸€ä¸‹ï¼Œæ‹çš„ä¸å¥½ï¼Œå˜¿å˜¿ç¬¬ä¸€æ¬¡ï¼Œä»¥åä¼šæ‹å¥½çš„ã€‚è®©æˆ‘èšç„¦ä½ è®¤çœŸçš„æ—¶åˆ»å˜¿å˜¿ï¼Œæˆ‘ä¹Ÿå‡è£…æ‹ç…§ä¸€ä¸‹~~ è“å¤©ç¯‡åŒ—äº¬çš„è“å¤©æ˜¯çœŸçš„ç¾ï¼Œä¹Ÿè®¸æ˜¯åœ¨ä¸€æ®µæ—¶é—´é›¾éœ¾åå‡ºç°è“å¤©æ˜ è¡¬çš„ï¼Œåæ­£æ˜¯å¥½çœ‹ã€‚ ç»“æŸå·¥ä½œä¹‹ä½™å¤šå‡ºå»èµ°èµ°~~çˆ±ä¸Šç”Ÿæ´»","categories":[{"name":"ç”Ÿæ´»éšç¬”","slug":"ç”Ÿæ´»éšç¬”","permalink":"http://www.cloudcver.com/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"}],"tags":[{"name":"ç‰æ¸Šæ½­","slug":"ç‰æ¸Šæ½­","permalink":"http://www.cloudcver.com/tags/%E7%8E%89%E6%B8%8A%E6%BD%AD/"}]},{"title":"Tensorflowå­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰ç”¨Tensorflowå®ç°ä¸€ä¸ªå…¨å·ç§¯ç¥ç»ç½‘ç»œ","slug":"Tensorflowå­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰ç”¨Tensorflowå®ç°ä¸€ä¸ªå…¨å·ç§¯ç¥ç»ç½‘ç»œ - å‰¯æœ¬","date":"2019-03-17T08:22:21.000Z","updated":"2019-03-18T15:40:40.149Z","comments":true,"path":"2019/03/17/Tensorflowå­¦ä¹ æ€»ç»“ï¼ˆäºŒï¼‰ç”¨Tensorflowå®ç°ä¸€ä¸ªå…¨å·ç§¯ç¥ç»ç½‘ç»œ - å‰¯æœ¬/","link":"","permalink":"http://www.cloudcver.com/2019/03/17/Tensorflow%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%BA%8C%EF%BC%89%E7%94%A8Tensorflow%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%85%A8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%20-%20%E5%89%AF%E6%9C%AC/","excerpt":"å­¦ä¹ å®ŒCS231Nä¸€ç³»åˆ—è¯¾ç¨‹åï¼Œæˆ‘ä»¬éƒ½ä¹¦å†™äº†è‡ªå·±çš„æ·±å±‚å·ç§¯ç½‘ç»œï¼Œä»£ç é‡ä¸å¤šã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨googleçš„tensorflowæ¡†æ¶å»å†™ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œï¼Œå¹¶å»æŠŠå·ç§¯ç½‘è·¯ä¸­çš„ä¼˜åŒ–ä¸€æ­¥ä¸€æ­¥å¤ç°å‡ºæ¥ã€‚","text":"å­¦ä¹ å®ŒCS231Nä¸€ç³»åˆ—è¯¾ç¨‹åï¼Œæˆ‘ä»¬éƒ½ä¹¦å†™äº†è‡ªå·±çš„æ·±å±‚å·ç§¯ç½‘ç»œï¼Œä»£ç é‡ä¸å¤šã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨googleçš„tensorflowæ¡†æ¶å»å†™ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œï¼Œå¹¶å»æŠŠå·ç§¯ç½‘è·¯ä¸­çš„ä¼˜åŒ–ä¸€æ­¥ä¸€æ­¥å¤ç°å‡ºæ¥ã€‚ æ­å»ºä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œï¼Œéœ€è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š æ•°æ®è¾“å…¥ å‰å‘ä¼ æ’­ æŸå¤±è®¡ç®—+æ­£åˆ™åŒ–ä¼˜åŒ– ç½‘ç»œä¼˜åŒ– æµ‹è¯• ä¸€ã€æ•°æ®è¾“å…¥æ•°æ®è¾“å…¥ï¼Œå®šä¹‰å˜é‡æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªè¾“å…¥æ•°æ®çš„å ä½ï¼Œæ–¹ä¾¿ä¹‹åè¿è¡Œæ—¶ä¼ å…¥å³å¯ã€‚ç„¶åå®šä¹‰äº†éšå«å±‚çš„å‚æ•°è¾“å‡ºå±‚çš„å‚æ•°ã€‚1234567891011#è¾“å…¥æ•°æ® X = tf.placeholder(tf.float32,[None,INPUT_NODE],name = \"x-input\") y_ = tf.placeholder(tf.float32,[None,OUTPUT_NODE],name = \"y-output\") #éšè—å±‚å‚æ•° weight1 = tf.Variable(tf.truncated_normal([INPUT_NODE,LAYER1_NODE],stddev = 0.1)) b1 = tf.Variable(tf.constant(0.1,shape = [LAYER1_NODE])) #è¾“å‡ºå±‚å‚æ•° weight2 = tf.Variable(tf.truncated_normal([LAYER1_NODE,OUTPUT_NODE],stddev = 0.1)) b2 = tf.Variable(tf.constant(0.1,shape = [OUTPUT_NODE])) #å®šä¹‰step global_step = tf.Variable(0,trainable=False) äºŒã€å‰å‘ä¼ æ’­å‰å‘ä¼ æ’­æ¯”ä»·ç®€å•1ã€çŸ©é˜µç›¸ä¹˜matmul1a = tf.matmul(X,weight1)2ã€æ¿€æ´»å‡½æ•°æ¿€æ´»å‡½æ•°æœ‰å¾ˆå¤šç§ç±»RELUæ¿€æ´»å‡½æ•°tf.nn.relu()1layer1 = tf.nn.relu(tf.matmul(X,weight1) + b1)3ã€ä¸€ä¸ªä¸¤å±‚çš„ç¥ç»ç½‘ç»œä»£ç å¦‚ä¸‹ï¼š1234#å‰å‘ä¼ æ’­ #è®¡ç®—å¾—åˆ† layer1 = tf.nn.relu(tf.matmul(X,weight1) + b1) y = tf.matmul(layer1,weight2) + b2 ä¸‰ã€æŸå¤±è®¡ç®—+æ­£åˆ™åŒ–ä¼˜åŒ–ç»è¿‡å‰å‘ä¼ æ’­æˆ‘ä»¬å¾—åˆ°äº†ä¼ æ’­åçš„åˆ†æ•°ï¼Œä¹‹åæˆ‘ä»¬éœ€è¦è®¡ç®—å®ƒçš„æŸå¤±ï¼Œä¸€éƒ¨åˆ†æ˜¯å¾—åˆ†çš„æŸå¤±ï¼Œä¸€éƒ¨åˆ†æ˜¯æƒé‡çš„æ­£åˆ™æŸå¤±ã€‚ softmaxå›å½’+äº¤å‰ç†µæŸå¤±åœ¨è®¡ç®—æŸå¤±ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¯¹ç»“æœè¿›è¡Œåˆ†ç±»å›å½’ï¼Œä¸€èˆ¬å¯¹äºå¤šåˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨softmaxåˆ†ç±»å™¨è¿›è¡Œå›å½’ï¼Œsoftmaxå¯ä»¥å°†åˆ†æ•°è½¬å˜ä¸ºæ¦‚ç‡çš„å½¢å¼ï¼Œå°±å¯ä»¥ååº”æ¯ä¸ªæ•°æ®å½’å±äºæ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡ã€‚ç„¶åæˆ‘ä»¬é‡‡ç”¨äº¤å‰ç†µï¼ˆcross_entropyï¼‰æ¥è®¡ç®—æŸå¤±ã€‚tensorflowä¸­æä¾›äº†tf.nn.sparse_softmax_cross_entropy_with_logitså‡½æ•°æ¥è®¡ç®—æŸå¤±ï¼Œå…¶è¾“å…¥æœ‰ä¸¤ä¸ªå‚æ•°logitsæ˜¯å›å½’ç»“æœï¼Œlabelæ˜¯æ ‡ç­¾ã€‚logitså¡«å…¥å¾…å–logçš„æ¦‚ç‡åŒ–æ•°æ®ã€‚æ ¼å¼ä¸º[N,C]ï¼Œå…¶ä¸­Nä»£è¡¨æ ·æœ¬æ•°é‡ï¼ŒCä»£è¡¨æœ€åçš„åˆ’åˆ†ç±»åˆ«æ•°ã€‚labelå¡«å…¥æ ‡ç­¾æ•°æ®ï¼Œæ ¼å¼ä¸º[N,1]ï¼Œå…¶ä¸­Nä»£è¡¨æ ·æœ¬æ•°é‡ï¼Œæ¯ä¸€è¡Œåªæœ‰ä¸€ä¸ªç»“æœï¼Œå–å€¼0-Cã€‚è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ•°æ®é›†æ ·æœ¬æ ‡ç­¾å’Œlogitsæ ¼å¼æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼•ç”¨tf.argmaxé€‰å–æ¯ä¸€è¡Œçš„æœ€å¤§å€¼æ‰€ä»£è¡¨çš„ç¼–å·ï¼Œå¾—åˆ°[N,1]ç±»å‹ç»“æœã€‚è®¡ç®—å®Œåæˆ‘ä»¬å°†æ‰€æœ‰æŸå¤±åŠ èµ·æ¥å–å¹³å‡ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š123#è®¡ç®—æŸå¤± cross_entropy = tf.nn.sparse_softmax_cross_entropy_with_logits(logits = y, labels=tf.argmax(y_,1)) cross_entropy_mean = tf.reduce_mean(cross_entropy) æ­£åˆ™åŒ–æœ‰æ—¶å€™æˆ‘ä»¬çš„æ•°æ®é‡å°‘ï¼Œå‚æ•°å¤šçš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°è¿‡æ‹Ÿåˆç°è±¡ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡å–æ­£åˆ™åŒ–çš„æ–¹å¼æ¥ä¼˜åŒ–ï¼Œè¿‡æ‹Ÿåˆçš„åŸå› åœ¨äºæƒé‡å‚æ•°å¯èƒ½åœ¨è°ƒè§£è¿‡ç¨‹ä¸­å˜å¾—è¿‡äºå¤æ‚å»é€‚åº”æˆ‘ä»¬çš„è®­ç»ƒæ•°æ®ï¼Œå°±å¥½æ¯”æˆ‘ä»¬æœ‰äº”ä¸ªä¸ç­‰å¼æ–¹ç¨‹ï¼Œæˆ‘ä»¬å»æ”¹å–„å®ƒçš„5*5ä¸ªç³»æ•°ï¼Œä½¿ä»–å¯¹äºæˆ‘ä»¬çš„æ•°æ®éƒ½èƒ½æ­£ç¡®ï¼Œå¦‚æœä¸€æ¬¡å–æ ·10ä¸ªæ•°æ®ï¼Œæˆ‘ä»¬å¯èƒ½è·å¾—ç­‰å¼çš„25ä¸ªå”¯ä¸€å‚æ•°ï¼Œå¾ˆå¥½çš„å»é€‚åº”è¿™10ä¸ªæ•°æ®ï¼Œä½†æ¢ä¸€ç»„æ•°æ®å®ƒå°±ä¸æ˜¯é‚£ä¹ˆå¥½ï¼Œåœ¨æ§åˆ¶ä¸­å°±æ˜¯é²æ£’æ€§ä¸æ˜¯å¤ªå¥½ã€‚æ‰€ä»¥æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªåˆ»ç”»æƒé‡å‚æ•°å¤æ‚ç¨‹åº¦çš„æŒ‡æ ‡J(Î¸)ï¼Œç„¶åç”¨ä¸€ä¸ªç³»æ•°ä¹˜ä»¥å®ƒï¼Œæ¥è°ƒèŠ‚å®ƒå¯¹æ•´ä¸ªæŸå¤±çš„å½±å“æ¯”ä¾‹ã€‚è¿™å°±æ˜¯æ­£åˆ™åŒ–ä¸€èˆ¬æˆ‘ä»¬é‡‡ç”¨L1ã€L2æŸå¤±å‡½æ•°ï¼Œåœ¨tensorflowä¸­ä¸ºï¼š1regular = tf.contrib.layers.l2_regularizer(REGULARZATION_RATE)(weight)æŠŠL2æ”¹ä¸ºL1å°±ä»£è¡¨L1æ­£åˆ™åŒ–ã€‚å¯ä»¥çœ‹å‡ºåé¢æœ‰ä¸¤ä¸ªæ‹¬å·ï¼Œç¬¬ä¸€ä¸ªæ‹¬å·å‚æ•°ä¸ºæ­£åˆ™åŒ–ç³»æ•°ï¼Œç¬¬äºŒä¸ªä¸ºæƒé‡ã€‚ä¹Ÿå¯ä»¥æ”¹å†™ä¸ºä¸‹é¢çš„ä»£ç ï¼Œå…ˆå£°æ˜ä¸€ä¸ªå…·æœ‰æŸä¸ªæ­£åˆ™åŒ–ç³»æ•°çš„å‡½æ•°regularï¼Œç„¶ååœ¨è®¡ç®—W1ä¸W2æ—¶å¯ä»¥ç›´æ¥ç”¨regular(W1)ã€‚123#æ­£åˆ™åŒ–æŸå¤±regular = tf.contrib.layers.l2_regularizer(REGULARZATION_RATE)regularization = regular(weight1) + regular(weight2)PSï¼šä¸¤ä¸ªæ­£åˆ™åŒ–çš„å¯¹æ¯”ï¼šL1æ­£åˆ™åŒ–ä¼šè®©å‚æ•°å˜å¾—ç¨€ç–ï¼ˆæŒ‡ä¼šæœ‰æ›´å¤šå‚æ•°å˜ä¸º0ï¼‰ï¼Œè€ŒL2æ­£åˆ™åŒ–åˆ™ä¸ä¼šï¼ˆå› ä¸ºå‚æ•°çš„å¹³æ–¹åä¼šè®©å°çš„å‚æ•°å˜å¾—æ›´å°ï¼Œå¤§çš„å‚æ•°å˜å¾—æ›´å¤§ï¼ŒåŒæ ·èµ·åˆ°äº†ç‰¹å¾é€‰å–çš„åŠŸèƒ½ï¼Œè€Œä¸ä¼šè®©å‚æ•°å˜ä¸º0ï¼‰ã€‚å…¶æ¬¡æ˜¯L1æ­£åˆ™åŒ–è®¡ç®—ä¸å¯å¯¼ï¼Œè€ŒL2çš„æ­£åˆ™åŒ–æŸå¤±å‡½æ•°å¯å¯¼ã€‚ ä¸‹é¢ç»™å‡ºæ•´ä½“çš„æŸå¤±è®¡ç®—ä»£ç 12345678#è®¡ç®—æŸå¤± cross_entropy = tf.nn.sparse_softmax_cross_entropy_with_logits(logits = y, labels=tf.argmax(y_,1)) cross_entropy_mean = tf.reduce_mean(cross_entropy) #æ­£åˆ™åŒ–æŸå¤± regular = tf.contrib.layers.l2_regularizer(REGULARZATION_RATE) regularization = regular(weight1) + regular(weight2) #æ€»æŸå¤± loss = cross_entropy_mean + regularization å››ã€ç½‘ç»œä¼˜åŒ–Optimizerè®¡ç®—å®ŒæŸå¤±ä¹‹åéœ€è¦è¿›è¡Œç½‘ç»œä¼˜åŒ–ï¼Œç½‘ç»œä¼˜åŒ–ä¹Ÿå°±æ˜¯é€šè¿‡ä¸åœæ”¹å˜å‚æ•°æŠŠæŸå¤±å€¼é™ä½ï¼Œä¸€èˆ¬æˆ‘ä»¬å¤šé‡‡ç”¨éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼Œ Optimizerä¼˜åŒ–1ã€æ¢¯åº¦ä¸‹é™æ³•ä¸€èˆ¬æˆ‘ä»¬å¸¸ç”¨çš„ä¼˜åŒ–ç®—æ³•ä¸ºæ¢¯åº¦ä¸‹é™æ³•ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡è®¡ç®—å‡ºæ¢¯åº¦åå¯¹æ¯ä¸€ä¸ªå‚æ•°è¿›è¡Œçº¿å½¢è°ƒèŠ‚X = X + learning_rate * Gradient1tf.train.GradientDescentOptimizer(learning_rate)#æ¢¯åº¦ä¸‹é™æ³•ç±»è¿™ç§ä¼˜åŒ–ç®—æ³•å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå¯èƒ½ä¼šå‡ºç°æœ‰å¥½å‡ ä¸ªæ³¢è°·ï¼Œä½†æ˜¯æ¢¯åº¦ä¸‹é™ä¸€ç›´åœ¨ä¸€ä¸ªæ³¢è°·é‡Œé¢æ¥å›åŠ¨è¡ã€‚è¿™ä¼šå¯¼è‡´æ¢¯åº¦ä¸‹é™æ³•æœ‰æ—¶ä¸èƒ½æ‰¾åˆ°æœ€ä¼˜è§£ï¼Œåªèƒ½æ‰¾åˆ°ä¸€ä¸ªæå€¼ç‚¹ã€‚å†è€…æ¢¯åº¦ä¸‹é™æ³•å¯¹æ‰€æœ‰æ•°æ®è¿›è¡Œè¿ç®—ï¼Œè€—æ—¶å¤ªé•¿ã€‚æ¯ä¸€ä¸ªä¼˜åŒ–æ–¹æ³•ç±»ä¸‹éƒ½æœ‰ä¸€ä¸ªminimizeå‡½æ•°ï¼Œå¯¹æŸä¸ªå€¼è¿›è¡Œæœ€å°åŒ–ä¼˜åŒ–ã€‚1train_ = tf.train.GradientDescentOptimizer(learning_rate).minimize(loss) 2ã€éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼ˆSGDï¼‰è€ƒè™‘æ¢¯åº¦ä¸‹é™æ³•ä¼˜åŒ–é€Ÿåº¦æ…¢çš„é—®é¢˜ï¼Œåæ¥æœ‰äººæå‡ºéšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼Œæˆ‘ä»¬æ¯æ¬¡è®­ç»ƒå¯ä»¥ä¸è®­ç»ƒæ‰€æœ‰çš„æ•°æ®ï¼Œå¯ä»¥åªå–ä¸€ä¸ªå°çš„batchæ•°æ®è¿›è¡Œè®­ç»ƒï¼Œè¿™æ ·æ¯æ¬¡è®­ç»ƒçš„é€Ÿåº¦å°±ä¼šåŠ å¿«ï¼Œç„¶åæˆ‘ä»¬æ¯æ¬¡å–æ ·çš„batchä¸ä¸€æ ·ï¼Œè¿™æ ·å°±ä¿è¯ç¨³å®šæ€§äº†ã€‚ä»£ç å¯ä»¥å’Œä¸Šé¢ä¸€æ ·ï¼Œè€ƒè™‘æ¯æ¬¡è®­ç»ƒå–æ ·batchå³å¯ã€‚ æ›´å¤šçš„ä¼˜åŒ–ç®—æ³•åœ¨æˆ‘å¦ä¸€ç¯‡åšå®¢ä¸­ä»‹ç»ã€‚ åœ¨è¿™ä¹‹åæˆ‘ä»¬åœ¨è€ƒè™‘ä¸€ä¸ªå­¦ä¹ ç‡çš„é—®é¢˜ï¼Œå­¦ä¹ ç‡åœ¨ä¸€å¼€å§‹å¯èƒ½éœ€è¦å¤§ä¸€ç‚¹æ¯”ä»·å¥½ï¼ŒåŠ å¿«æ”¶æ•›é€Ÿåº¦ï¼Œä½†æ˜¯åœ¨åæœŸï¼Œå°±éœ€è¦æ…¢ä¸‹æ¥ï¼Œå› ä¸ºå¹…åº¦å¤§çš„è¯å¯èƒ½åœ¨ä¸¤è¾¹æ¥å›æ™ƒï¼Œå¾ˆéš¾æ”¶æ•›ã€‚ å­¦ä¹ ç‡ä¼˜åŒ–é—®é¢˜è¿™é‡Œç»™å‡ºä¸€ä¸ªæŒ‡æ•°è¡°å‡æ³•çš„æ–¹æ³•ã€‚è®©å­¦ä¹ ç‡ä»¥æŒ‡æ•°æ–¹å¼æ…¢æ…¢è¡°å‡ã€‚è¿™é‡Œæˆ‘æŠ“å–ä¸€å¼ å¸¸ç”¨çš„å›¾ï¼Œtensorflowæä¾›ä¸¤ä¸ªè¡°å‡æƒ…å†µï¼Œä¸€ä¸ªæ˜¯è¿ç»­è¡°å‡ï¼Œä¸€ä¸ªæ˜¯æ¢¯åº¦è¡°å‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚tensorflowç»™å‡ºä»¥ä¸‹å‡½æ•°expoential_decayï¼Œå‚æ•°æœ‰å››ä¸ªï¼ŒåŸºç¡€å­¦ä¹ ç‡ï¼Œå…¨å±€æ­¥æ•°ï¼Œè¡°å‡æ­¥æ•°ï¼Œè¡°å‡ç‡ã€‚å…¶å…¬å¼ä¸ºï¼šlearning_rate = LEARNING_RATE_BASE * LEARNING_RATE_DECAY^(global_step/decay_step)å«ä¹‰å¾ˆæ˜ç™½ï¼Œå½“å…¨å±€æ­¥æ•°è¾¾åˆ°è¡°å‡æ­¥æ•°æ—¶å­¦ä¹ ç‡å˜ä¸ºåŸºç¡€å­¦ä¹ ç‡çš„åŸºç¡€ä¸Šä¹˜ä»¥è¡°å‡ç‡ï¼Œå¦‚æœæ˜¯è¿ç»­è¡°å‡æ—¶ï¼Œåœ¨è¿™è¿‡ç¨‹ä¸­åˆ™ä¸€ç›´å˜åŒ–ã€‚123#å­¦ä¹ ç‡æ›´æ–° learning_rate = tf.train.exponential_decay(LEARNING_RATE_BASE,global_step,\\ decay_step,LEARNING_RATE_DECAY) äº”ã€æµ‹è¯•ç»“æœåœ¨è¿›è¡Œä¸€æ®µæ—¶é—´è®­ç»ƒåæˆ‘ä»¬å¸Œæœ›è¾“å‡ºä»¥æµ‹è¯•é›†çš„æ­£ç¡®æ€§ï¼Œåˆ©ç”¨tf.equalå¾—åˆ°ä¸¤ç»„æ•°æ®æ˜¯å¦iç›¸ç­‰ï¼Œç„¶åæ±‚ç»“æœçš„å¹³å‡å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚tf.castå¯ä»¥å°†å…¶è½¬æ¢ç±»å‹ï¼Œå› ä¸ºequalè¿”å›çš„æ—¶boolå‹ã€‚æ•…æˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºfloat32å†æ±‚å¹³å‡æ•°ã€‚ 12correct_prediction = tf.equal(tf.argmax(y,1),tf.argmax(y_,1)) show_result = tf.reduce_mean(tf.cast(correct_prediction,tf.float32)) å…­ã€è¿è¡Œé¦–å…ˆå¼€å¯ä¸€ä¸ªä¼šè¯ï¼Œç„¶ååˆå§‹åŒ–æ‰€æœ‰å˜é‡ï¼Œç„¶åå‡†å¤‡ä¸€ä¸ªå­—å…¸å‹æ•°æ®ï¼Œmnistæ•°æ®é›†ç»™äº†ä¸€ä¸ªå–æ ·å‡½æ•°next_batchç›´æ¥å–æ ·å³å¯ï¼Œç„¶åè¿è¡Œ_trainæŠŠæ•°æ®é€è¿›å»ã€‚å½“è¿è¡Œ100æ¬¡æ—¶æ‰“å°æ•°æ®ã€‚12345678910111213with tf.Session() as sess: #åˆå§‹åŒ–æ•°æ® tf.global_variables_initializer().run() #éªŒè¯é›†æ•°æ® validate_feed = &#123;X:mnist.validation.images,y_:mnist.validation.labels&#125; for it in range(TRAINING_STEPS): XS,YS = mnist.train.next_batch(BATCH_SIZE)#å–æ ·æ•°æ® sess.run(train_,feed_dict=&#123;X:XS,y_:YS&#125;) if it % 100 == 0: #æ‰“å°æ•°æ® result = sess.run(show_result,feed_dict=validate_feed) print(\"After %d training step(s),validation accuracy is %g\"%(it,result))ä¸»å‡½æ•°æˆ‘ä»¬ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š12345678mnist = input_data.read_data_sets('./', one_hot=True)#mnist = input_data.read_data_sets(\"/\",one_hot = True)print(mnist.train.num_examples)print(mnist.train.images[0])train(mnist)æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬æ˜¯åœ¨æœ¬åœ°å­˜äº†ä¸€äº›æ•°æ®ï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥ä»æˆ‘çš„githubè·å–ç”¨Tensorflowæ­å»ºä¸¤å±‚ç¥ç»ç½‘ç»œè®­ç»ƒMNISTæ•°æ®é›† æœ€åç»“æœå¦‚ä¸‹æ‰€ç¤º","categories":[{"name":"TensorFlow","slug":"TensorFlow","permalink":"http://www.cloudcver.com/categories/TensorFlow/"}],"tags":[]}]}